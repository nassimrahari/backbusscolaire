(function(){var e={2501:function(e,l,a){"use strict";a(8208);var t=a(7764),s=a(4108),n=a(9096);const i={id:"nav"},r={key:0},o={key:1},u=(0,s.QD)("div",null,null,-1);function d(e,l,a,d,c,p){const m=(0,s.E1)("HeaderComponentSite"),h=(0,s.E1)("router-view"),g=(0,s.E1)("AsideComponent"),v=(0,s.E1)("HeaderComponent");return(0,s.Wz)(),(0,s.An)("div",i,[p.isAdmin||p.isLogin?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("div",r,[(0,s.K2)(m),(0,s.K2)(h,null,{default:(0,s.Ql)((({Component:e})=>[(0,s.K2)(t.Ox,{name:"fade",mode:"out-in"},{default:(0,s.Ql)((()=>[((0,s.Wz)(),(0,s.Az)((0,s.mk)(e)))])),_:2},1024)])),_:1})])),!p.isAdmin&&p.isLogin?((0,s.Wz)(),(0,s.An)("div",o,[(0,s.K2)(h,null,{default:(0,s.Ql)((({Component:e})=>[(0,s.K2)(t.Ox,{name:"fade",mode:"out-in"},{default:(0,s.Ql)((()=>[((0,s.Wz)(),(0,s.Az)((0,s.mk)(e)))])),_:2},1024)])),_:1})])):(0,s.g1)("",!0),p.isAdmin?((0,s.Wz)(),(0,s.An)("main",{key:2,class:(0,n.WN)({active:c.mainActive,active2:c.mainActive2})},[u,(0,s.K2)(g,{ref:"asideComponent"},null,512),(0,s.K2)(v,{onMounted:p.handleWindowSizeChange,onMenuClick:p.handleMenuClick},null,8,["onMounted","onMenuClick"]),(0,s.QD)("section",null,[(0,s.K2)(h,null,{default:(0,s.Ql)((({Component:e})=>[(0,s.K2)(t.Ox,{name:"fade",mode:"out-in"},{default:(0,s.Ql)((()=>[((0,s.Wz)(),(0,s.Az)((0,s.mk)(e)))])),_:2},1024)])),_:1})])],2)):(0,s.g1)("",!0)])}var c="data:image/png;base64,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";const p=e=>((0,s.ED)("data-v-3ba2f57c"),e=e(),(0,s.ii)(),e),m=p((()=>(0,s.QD)("ul",{class:"circles"},[(0,s.QD)("li"),(0,s.QD)("li"),(0,s.QD)("li"),(0,s.QD)("li"),(0,s.QD)("li"),(0,s.QD)("li"),(0,s.QD)("li"),(0,s.QD)("li"),(0,s.QD)("li"),(0,s.QD)("li")],-1))),h={class:"wrapper"},g={class:"logo-nav"},v={class:"username"},Q={key:0},_={key:1},D=p((()=>(0,s.QD)("div",{class:"photo username"},[(0,s.QD)("img",{src:c,class:"username",alt:""})],-1))),f={key:0,class:"profil-info"},A={key:0,class:"email-info"},b={key:1,class:"email-info"},w=p((()=>(0,s.QD)("span",null,"Anonymous 2 ",-1))),K=p((()=>(0,s.QD)("span",null,"anonymous@mail.com ",-1))),V=[w,K],U=p((()=>(0,s.QD)("span",null,"Changer le mots de passe",-1))),k=p((()=>(0,s.QD)("span",null," Se déconnecter",-1)));function C(e,l,a,t,i,r){const o=(0,s.E1)("font-awesome-icon"),u=(0,s.E1)("router-link");return(0,s.Wz)(),(0,s.An)("header",{class:(0,n.WN)({active:i.headerActive})},[m,(0,s.QD)("div",h,[(0,s.QD)("div",g,[(0,s.QD)("div",{class:"logo",onClick:l[0]||(l[0]=(...e)=>r.handleMenuClick&&r.handleMenuClick(...e))},[(0,s.K2)(o,{icon:["fas","bars"]})]),(0,s.QD)("nav",null,[(0,s.QD)("div",{class:"profil",onClick:l[1]||(l[1]=(...e)=>r.toggleUserInfo&&r.toggleUserInfo(...e))},[(0,s.QD)("div",v,[e.$store.state.user?((0,s.Wz)(),(0,s.An)("span",Q,(0,n.WA)(e.$store.state.user.username),1)):(0,s.g1)("",!0),e.$store.state.user?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("span",_,"Anonymous"))]),D,(0,s.K2)(o,{icon:["fas","chevron-down"],class:"username"})])])])]),i.isShowUserInfo?((0,s.Wz)(),(0,s.An)("div",f,[e.$store.state.user?((0,s.Wz)(),(0,s.An)("div",A,[(0,s.QD)("span",null,(0,n.WA)(e.$store.state.user.username),1),(0,s.QD)("span",null,(0,n.WA)(e.$store.state.user.email),1)])):(0,s.g1)("",!0),e.$store.state.user?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("div",b,V)),(0,s.K2)(u,{to:"/eleve/nouveau",class:"btn btn-logout"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{icon:["fas","key"]}),(0,s.mY)(),U])),_:1}),(0,s.QD)("button",{class:"btn btn-logout",onClick:l[2]||(l[2]=(...e)=>r.logout&&r.logout(...e))},[(0,s.K2)(o,{icon:["fas","power-off"]}),(0,s.mY)(),k])])):(0,s.g1)("",!0)],2)}a(3248);var E=a(7192),y=a(2964);const I=y.c.create();localStorage.getItem("access")?I.defaults.headers.common["Authorization"]=`Bearer ${localStorage.getItem("access")}`:I.defaults.headers.common["Authorization"]=null;var L=I,W={name:"HeaderComponent",computed:{...(0,E.ys)(["user"])},data(){return{isShowUserInfo:!1,headerActive:!1}},props:{msg:String},mounted(){this.handleWindowSizeChange(),document.addEventListener("click",this.handleClickOutside)},methods:{handleMenuClick(){this.$emit("menu-click")},handleWindowSizeChange(){this.$emit("mounted")},toggleUserInfo(){this.isShowUserInfo=!this.isShowUserInfo},logout(){L.defaults.headers.common["Authorization"]=null,localStorage.setItem("access",""),this.$store.commit("setUser",null),this.$router.push("/")},handleClickOutside(e){try{this.isShowUserInfo&&!this.$el.contains(e.target)&&(this.isShowUserInfo=!1)}catch(l){console.log()}}}},x=a(4100);const P=(0,x.c)(W,[["render",C],["__scopeId","data-v-3ba2f57c"]]);var $=P,z=a.p+"img/bg.da65b041.jpeg",q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQkAAAFRCAYAAABntVj+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxIAAAsSAdLdfvwAABIFSURBVHhe7d1LbB1XGcDxO3HTxNhJrEAJO1yxQIhHvKGLAsKAWomHRIrUsoqabBAQCYJINggVlxWorUiFCggkmgiJBSBIFywoj7gLWLChASFAouAiFpSKkjQxMc3jMp/vmXJ7cz2exznf+c7M/yeN7pzrxcRzZ/6ea+fOyYbD4QAAtrLDPQLAVEQCQCkiAaCUld9JLOXLqdHq1vJ/60KWZQfdMJh8Oy/l27nVDRFQvq/P5/t6OV+9MHoG1liIhARiNV/2bY4iIxD6CIVtsd9uEAgM8n1+MN/3chwsjJ6BJTEjQSDwMkJhV6xIEAjchFDYFCMSBAJbIhT2aEeCQGBbhMIWzUgQCFRGKOzQigSBQG2EwgaNSBzKFwKBRghFfKEjcSRffpQvBAKNEYq4QkZCAvH4aDU+ApE2QhFPqEgQCHhHKOIIEQkCgWAIhT7fkSAQCI5Q6PIZCQIBNYRCj69IEAioIxQ6fESCQCAaQhFe20gQCERHKMJqEwkCATMIRThNI0EgYA6hCKNJJAgEzCIU/tWNBIGAeYTCrzqRIBBIBqHwp+ot9eV+EL8ZrcZHIFBVfqxwu/6Wql5JmKmxUiDOuEdVckC7VW0X3WPncEXRXtO/bkShFIij+XJ6tKrqTP69HXfralyY5K2kNgmTSowJRTvJRKLrgcgX9RNVApHv0xiX4hII2a7avh4LBWpKIhIEwj8DgXh6c6Qo/37Vt9kF5iNBIPzrYyDy7/nR/CHG26rkVf3rhryw50ar6t7jHkORE2XaQSvfc2jTLn81tivf72QgNLa75pZxEuf7R6uqMveIbaQQCV7M7osRCo6ripL66wY6S94GRPmzM7ZHJGAFoTCKSMASQmEQkYA1hMIYIgGLCIUhRAJWEQojiAQsIxQGEAlYRygiIxJIAaGIiEggFYQiEiKBlBwZDodPuHUoIRJIyZL79CoUEQmkQu6zKp+a3bc5ghoigRQQiIiIBKwjEJERCVhGIAwgErCKQBhBJGARgTCESMAaAmEMkYAlBMIgIgErCIRRRAIWEAjDiARiIxDGEQnEtJgvBMI4IoGYJBIxAsFHzmsgEugbCYTcmwIVEQn0CYFogEigF5hVvDkigZjkl5Yqvx/IsuzT+YPMjl0sqIhIIDbuXWkckYAFhMIwIgErCIVRRAKWEAqDiASsIRTGEAlYRCgMIRKwilAYQSRgGaEwgEjAOkIRGZFACghFREQCqSAUkRAJpIRZxSMgEkgJs4pHQCSQCu6FGQmRQAoIREREAtYRiMiIBCwjEAYQCVhFIIwgErCIQBhCJGANgTCGSMASAmEQkYAVBMIoIgELCIRhRAKxEQjjiARiYlbxBBAJxMSs4gkgEugbCYTcmwIVEQn0CYFoIBsOK82dKp/hPzdaVZe5R3TI9eeeX7zxr38cymYGX3FPTTccPDPIsstu1Mgtb3zLhfw4fzrLsuPuKdRAJJRde2Zt6YUTD6wO1q/wy7qe2X3X8pm9J48ldyXD2w1FBKLfNn66ev+LDz122g2TQSSUEAiIFENBJBQQCIxLLRREIjACgWlSCgWRCIhAoEwqoSASgRAIVJFCKIhEAAQCdVgPBZHwjECgCcuhIBIeEQi0YTUURMITAgEfLIaCSHhAIOCTtVAQiZYIBEKwFAoi0QKBQEhWQkEkGiIQ0GAhFESiAQIBTbFDQSRqIhCIIWYoiEQNBAIxxQoFkaiIQMCCGKEgEhUQCFiiHQoisQ0CAYs0Q0EkShAIWKYVCiKxBQKBFGiEgkhMQSCQktChIBIT/vurXx8iEEhNyFAQiQlyFRElEHOzF90a0EioUBAJA2Rmp7mPfOiUG6qZuX3x/Kvu+cCjbqgnD+KuO9/+hBupku/ZrepS+iEQIhREIrJYU7/JybL/kZXlbH7ugntKR36y7H/4i8u3vGHxafeMmr0njh3d/c63n3VDNdo/BHyHgkhMmrmx4NaCk4O2t4FQ3M9iMxB3Lwf75d5WYv0QuPrntaXh5XUv+5gJgydsPPWzsxs/P/dhNwxm9q73Dna9631uNBis/+C7z65/80evd8Ng5DI/P2GOFIFY/873Vta/8/0vbH4xpIkriI2fnfvkxurPvzzYMZzf/HpA4/taaz+L8UCo7eec7x8CROJmK/mi8mKOu7F++ZfX/vzs590wmJ35STp+8MhPm6vyy9rAZl732rWZA7etuWFhIT/+VrMsO+jGwWntZ3HrwTevulW1/SwmX+O2iMTNokQi91S+yH7uG+1Q9HU/N8bvJBDbhTwQy3ko4vzVAdsiErCAUBhGJGAFoTCKSMASQmEQkYA1hMIYIgGLCIUhRAJWEQojiAQsIxQGEAlYRygiIxJIAaGIiEggFYt5KBbdOhQRCaRAPhglH5biloIREAlYRyAiIxKwTD6tSSAiIxKwSm7WIrcnIBCREQlYJIF4fLSK2IgErCEQxhAJWEIgDCISsIJAGEUkYAGBMIxIIDYCYRyRQEwEIgFEwojhcKg+7V1kh/KFQCSASNhwJsuy4269L1QmqplCfaq/1BGJ+M7ki1x2I7yj+UIkaiIScREIPQSiISIRD4HQQyBaIBLx3J8vMhHr+BI6GnKiTG5TltAnkHxfk9vUnG9VfkFabPflSXxRDZGwRQ7mUKGQEEiYppHnQ4VCvh/+ipEwImFPiFCUBaIQIhQEogOIhE0+Q1ElEAWfoSAQHUEk7PIRijqBKPgIBYHoECJhW5tQNAlEoU0oCETHEAn7moSiTSAKTUJBIDqISKShTih8BKJQJxQEoqOIRDqqhMJnIApVQkEgOoxIpKUsFCECUSgLBYHoOCKRHjkhJ0/YkIEoTAsFgegBIpGm4oRdcPehCB2IwngoCERPEIl0yQm7lmXZwdFQjWxXPv9AIHqCSKQt1uxW73aP6AEiAaAUkQBQikgAKEUkAJQiEgBKEQkApYgEgFJEAkApIgGgFJEAUIpIAChFJOy46B4BU4hEBcMr624tGJny79RoVc9wODyfL4+6oaaL+XafcOvaJu+JgW0QiW1c+tqpwfW//cWNgogyJ6gEIsuy5Xy54J7SIldMsl25D4Y25gRtgEiUkEBcOftLNwoiaiDy1SiByJenh/9Z333tT78bTC4BvRyIl87/fnlykedDu/bM2lKM7baV5QeMWy0l38y50aq6zD1qWcmXL4wHYv9XHxjc8sa3bq57NBmIze2OVsOZEgiV7eb+H4jL6wsXPvf5P179498PbH5lzOyhdwz2fPK4G3nzciBefOix0xs/Xb3pTl6771o+s/fksWDB3nhy9ciLDz920416Qm/XByIxxeSBtPDQyntuPfhmN/JmcnbrRbeEJpf541cQC/myNFoNak0WCcQLn11Zvf7XtS3vqLX7/e/6yd7PfOpLbtiWfK+bb222CkQh1Am7VSAK1kNBJCZMO5BcJJiyvqUqgSj4PnG2C0TB93a3C0TBciiIxJiqB5KWLsWpTiAKvk6cuq+rr+1WDUTBaij4xaVjLRBd0iQQQl4PeV3csJEmr6uP7dYNhPCx3RCIRI5AhNM0EIU2J06b17XNdpsEomAxFL2PBIEIp20gCk1OHB+va5PttglEwVooeh0JAhGOr0AU6pw4Pl/XOtv1EYiCpVD0NhIEIhzfgShUOXFCvK5VtuszEAUroehlJAhEOKECUSg7cUK+rmXbDRGIgoVQ9C4SBCKc0IEoTDtxNF7XadsNGYhC7FD0KhIEIhytQBTGTxzN13V8uxqBKMQMRW/+M1WKgUjlP1NpB2LczIHbnr3+3POvd0M1O9/2pqeu/vYP6nOixvgPV724kkgxEKmIGQgRIxAiRiBEjCuKzkeCQIQTOxB9pR2KTkdC3jMSiDAIRFyaoeh0JHbfvXxa3sO5ITwhEDZohaLzbzfklzyEwh8CYYtGKHrxi0tC4Yfcfo1A2BM6FL2IhCAU7WwG4sQDBMKokKHoTSQEoWimCMRg/co+9xQMChWKXkVCEIp6CERaQoSid5EQhKIaApEm36HoZSQEoShHINLmMxS9jYQgFNMRiG7wFYpeR0IQiptd+vq3TxGIbvARit5HQhCK+GT/yycr3VDNzO2L52VxQ11zsyozybcNBZFwCEU8st9l/7uhGonD/kdWlnfsmdWeE3Ww98SxozvfsKg2aXKbUBCJMdNCEfOnzMzrXitT43Va7EBk83O6gchf130rJ++RzxW5Z8wjEhPGQ1EcSJtf0JQfSPsf/uLyzIHbOh0J2b9yshQzbN+4dEXmJQ1uMhA75ud1QuFe11133nFWhmrbzY3v6+vPPV9rzlmm+dvCf3744+Oz+U6VA+mfd99baSd54Q6kWxQvRSfF+uvG3OF7H5w7fJ/Mct4LsT4sV3c/cyWxhVd95IOnYlyKxg6EkO3Lv0P+Pe4pBCDHl1zRyE9595RJRMIKI4EoEAodKYSCSFiRX9q/8ImTv5G3NsUi7x/dV6MgFDqsh4JIoBSh0GE5FEQC2yIUOqyGgkigEkKhw2IoiAQqIxQ6rIWCSKAWQqHDUiiIBGojFDqshIJIoBFCocNCKIgEGiMUOmKHgkigFUKhI2YoiARaIxQ65NOb1//5XK1PcPpAJOAFoQgr5n1HiQS8IRRhxL4xMZGAV4TCLwt3LicS8I5Q+GFlagMigSAIRTtWAiGIBIIhFM1YCoQgEgiKUNRjLRCCSCA4QlGNxUAIIgEVhKKc1UAIIgE1hGI6y4EQRAKqCMUrWQ+EIBJQt1UosjnleU4iSyEQgkggCgnFq7/xyFLxqUaZWlEmRNr8Yk9c+vq3T8UIRN0YEwlEI3OdysefZdq5GJMG91GTGBMJq/JL8T7MKi73SejT/J8xNZ3BnUgYlO26dX3Px+4/4YZAa/K2rums4kTCoOF/X5q79JVvfGvjyXNcgsMLmbn8wsmVc7LUPa6IBIBSRAJAKSJRQczbmQOxEYkKduyZ7dV/8gHGEQkApYgEgFJEAkApIgGgFJEAUIpIAChFJACUIhIAShEJAKWIBIBSRAJAKSIBoBSRAFCKSAAoRSQAlCISAEoRCQCliASAUkQCQCkiAaAUkbBqbvbirjvvOOtGQDREwqI8EDI1v8y87Z4BvGFW8dQRCATErOKpIxAIiFnFO2D+8EdXblxeX5CZn5vM/gzbrj2ztlS8trLcuHRlwX0puDazimfD4dCtllrOl3OjVXWZe4zm3yceWL362z+82w3VzB2+98G5w/etuCEStvHk6pEXH37scTeMqu5xxZUEEJilQDRBJICAUg+EIBJAIF0IhCASQABdCYQgEoBnXQqEIBKAR10LhCASgCddDIQgEoAHXQ2EIBJAS10OhCASQAtdD4QgEkBDfQiEIBJAA30JhCASQE19CoQgEkANfQuEIBJARX0MhCASQAV9DYQgEsA2+hwIQSSAEn0PhCASwBYIxAiRAKYgEP9HJIAJBOKViAQwhkDcjEgADoGYjkgAOQKxNSJhFbOKqyEQ5YiERcwJqurKk7+oPT9myphVPHUEAgExq3jqCAQCajqrOBMGV6A1YfD8x498hkDou/S106eu/3XtoBt2UtNACCJRgUwZ/0IeisH6lX3uKSAZbQIheLtRgfx0l7cB8nbAPQUkYe7wvQ+2CYQgEhURCqRm74ljR+cO37fiho0RiRoIBVIhgdh99/JpN2yFSNREKGCdz0AIItEAoYBVvgMhiERDhALWhAiEIBItEApYESoQgki0RCgQW8hACCLhAaFALKEDIYiEJ4QC2jQCIYiER4QCWrQCIYiEZ4QCoWkGQhCJAAgFQtEOhCASgRAK+BYjEIJIBEQo4EusQAgiERihQFsxAyGIhAJCgaZiB0IQCSWEAnVZCIQgEooIBaqyEghBJJQRCmzHUiAEkYiAUGAr1gIhiEQkhAKTLAZCEImICAUKVgMhiERkhAKWAyGIhAFTQ5Gvzxy47Vk30kWw1FgPhCASRrwiFPki6zsOvGbNfVmNHLQ783+LG6qRWaZ2vu1NT7mhmpnbF8/L4oaqUgiEIBKGFKGQRdbd02piHbRtp6FrSuKw/5GV5R17ZmtNxe9DKoEQRMIYiQOBCK8IRDY/pxuI/Cpx38rJe1IJhCASMBOIHfPzKifsZCC0tlu8jdx15x1n3TNJYFZxAKW4kgBQquqVxEK+LI1W1a26RwARVI0EgJ7i7QaAEoPB/wBMPROaQ10YdAAAAABJRU5ErkJggg==";const B=e=>((0,s.ED)("data-v-4c969e06"),e=e(),(0,s.ii)(),e),S={class:"home-landing"},Y={key:0,src:z,alt:""},R={key:0,class:"side-menu"},N=B((()=>(0,s.QD)("img",{src:q,alt:""},null,-1))),T=B((()=>(0,s.QD)("div",null,"Vue Js",-1))),M={class:"sed"},O=B((()=>(0,s.QD)("div",{class:"ligne"},null,-1))),J=B((()=>(0,s.QD)("div",{class:"ligne"},null,-1))),F=B((()=>(0,s.QD)("div",{class:"ligne"},null,-1))),G=B((()=>(0,s.QD)("div",{class:"ligne"},null,-1))),H=B((()=>(0,s.QD)("div",{class:"ligne"},null,-1))),X=B((()=>(0,s.QD)("span",{class:"btn btn-logout"}," Se deconnecter ",-1))),j=[X],Z=B((()=>(0,s.QD)("div",{class:"ligne"},null,-1))),ee={key:1,class:"content-home"},le=B((()=>(0,s.QD)("h3",null," Transport Scolaire Mada ",-1))),ae=B((()=>(0,s.QD)("div",{class:"descr"}," Lorem ipsum, dolor sit amet consectetur adipisicing elit. A vel dolorum animi minima voluptas ipsa autem amet, eligendi consequatur fuga modi laboriosam fugiat expedita harum iusto. Architecto dolor quod pariatur. ",-1))),te={key:0,class:"btns"},se=B((()=>(0,s.QD)("ul",{class:"circles"},[(0,s.QD)("li"),(0,s.QD)("li"),(0,s.QD)("li"),(0,s.QD)("li"),(0,s.QD)("li"),(0,s.QD)("li"),(0,s.QD)("li"),(0,s.QD)("li"),(0,s.QD)("li"),(0,s.QD)("li")],-1))),ne={class:"wrapper"},ie={class:"logo-nav"},re=B((()=>(0,s.QD)("img",{src:q,alt:""},null,-1))),oe=B((()=>(0,s.QD)("div",null,null,-1))),ue={key:0},de={key:1},ce={class:"username"},pe=B((()=>(0,s.QD)("div",{class:"photo username"},[(0,s.QD)("img",{src:c,class:"username",alt:""})],-1))),me={key:1},he={key:0,class:"profil-info"},ge={class:"email-info"},ve=B((()=>(0,s.QD)("div",null,null,-1))),Qe=B((()=>(0,s.QD)("div",null,null,-1))),_e=B((()=>(0,s.QD)("span",null,"Changer le mots de passe",-1))),De=B((()=>(0,s.QD)("span",null," Se déconnecter",-1)));function fe(e,l,a,i,r,o){const u=(0,s.E1)("router-link"),d=(0,s.E1)("font-awesome-icon");return(0,s.Wz)(),(0,s.An)("div",S,["/"===e.$route.path?((0,s.Wz)(),(0,s.An)("img",Y)):(0,s.g1)("",!0),(0,s.K2)(t.Ox,{name:"fade",mode:"out-in"},{default:(0,s.Ql)((()=>[r.showSideMenu?((0,s.Wz)(),(0,s.An)("div",R,[(0,s.K2)(u,{to:"/",class:"logo"},{default:(0,s.Ql)((()=>[N,T,o.user_auth?((0,s.Wz)(),(0,s.An)(s.ae,{key:0},[(0,s.mY)((0,n.WA)(o.user_auth.username),1)],64)):(0,s.g1)("",!0)])),_:1}),(0,s.K2)(d,{onClick:o.handleMenuClick,icon:["fas","x"],class:"x"},null,8,["onClick"]),(0,s.QD)("div",M,[(0,s.QD)("li",null,[(0,s.K2)(u,{to:"/",class:"btn btn-logout"},{default:(0,s.Ql)((()=>[(0,s.mY)(" Accueil ")])),_:1})]),e.$store.state.user?((0,s.Wz)(),(0,s.An)(s.ae,{key:0},["admin"!=e.$store.state.user.role?((0,s.Wz)(),(0,s.An)(s.ae,{key:0},[O,(0,s.QD)("li",null,[(0,s.K2)(u,{to:"/inscription/list",class:"btn btn-logout"},{default:(0,s.Ql)((()=>[(0,s.mY)(" Vos Inscriptions ")])),_:1})])],64)):(0,s.g1)("",!0),"admin"==e.$store.state.user.role?((0,s.Wz)(),(0,s.An)(s.ae,{key:1},[J,(0,s.QD)("li",null,[(0,s.K2)(u,{to:"/transport_scolaire/dashboard",class:"btn btn-logout"},{default:(0,s.Ql)((()=>[(0,s.mY)(" Page Admin ")])),_:1})])],64)):(0,s.g1)("",!0)],64)):(0,s.g1)("",!0),F,(0,s.QD)("li",null,[(0,s.K2)(u,{to:"/horaire",class:"btn btn-logout"},{default:(0,s.Ql)((()=>[(0,s.mY)(" Itineraire et Horaire ")])),_:1})]),G,(0,s.QD)("li",null,[(0,s.K2)(u,{to:"/",class:"btn btn-logout"},{default:(0,s.Ql)((()=>[(0,s.mY)(" Contact ")])),_:1})]),H,o.user_auth?((0,s.Wz)(),(0,s.An)("li",{key:1,onClick:l[0]||(l[0]=(...e)=>o.logout&&o.logout(...e))},j)):(0,s.g1)("",!0)]),Z])):(0,s.g1)("",!0)])),_:1}),"/"===e.$route.path?((0,s.Wz)(),(0,s.An)("div",ee,[le,ae,o.user_auth?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("div",te,[(0,s.K2)(u,{to:"/inscription",class:"sign_in btn"},{default:(0,s.Ql)((()=>[(0,s.mY)(" S'inscrire")])),_:1}),(0,s.K2)(u,{to:"/login",class:"sign_up btn"},{default:(0,s.Ql)((()=>[(0,s.mY)(" Se connecter")])),_:1})]))])):(0,s.g1)("",!0),(0,s.QD)("header",{class:(0,n.WN)({home:"/"===e.$route.path})},[se,(0,s.QD)("div",ne,[(0,s.QD)("div",ie,[(0,s.K2)(u,{to:"/",class:"logo"},{default:(0,s.Ql)((()=>[re,oe])),_:1}),(0,s.QD)("ul",null,[(0,s.QD)("li",null,[(0,s.K2)(u,{to:"/",class:"btn btn-logout"},{default:(0,s.Ql)((()=>[(0,s.mY)(" Accueil ")])),_:1})]),e.$store.state.user?((0,s.Wz)(),(0,s.An)(s.ae,{key:0},["admin"!=e.$store.state.user.role?((0,s.Wz)(),(0,s.An)("li",ue,[(0,s.K2)(u,{to:"/inscription/list",class:"btn btn-logout"},{default:(0,s.Ql)((()=>[(0,s.mY)(" Vos Inscriptions ")])),_:1})])):(0,s.g1)("",!0),"admin"==e.$store.state.user.role?((0,s.Wz)(),(0,s.An)("li",de,[(0,s.K2)(u,{to:"/transport_scolaire/dashboard",class:"btn btn-logout"},{default:(0,s.Ql)((()=>[(0,s.mY)(" Page Admin ")])),_:1})])):(0,s.g1)("",!0)],64)):(0,s.g1)("",!0),(0,s.QD)("li",null,[(0,s.K2)(u,{to:"/horaire",class:"btn btn-logout"},{default:(0,s.Ql)((()=>[(0,s.mY)(" Itineraire et Horaire ")])),_:1})]),(0,s.QD)("li",null,[(0,s.K2)(u,{to:"/",class:"btn btn-logout"},{default:(0,s.Ql)((()=>[(0,s.mY)(" Contact ")])),_:1})])]),(0,s.QD)("nav",null,[o.user_auth?((0,s.Wz)(),(0,s.An)("div",{key:0,class:"profil",onClick:l[1]||(l[1]=(...e)=>o.toggleUserInfo&&o.toggleUserInfo(...e))},[(0,s.QD)("div",ce,(0,n.WA)(o.user_auth.username),1),pe,(0,s.K2)(d,{icon:["fas","chevron-down"],class:"username"})])):(0,s.g1)("",!0),o.user_auth?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("div",me,[(0,s.K2)(u,{to:"/inscription",class:"sign_in btn"},{default:(0,s.Ql)((()=>[(0,s.mY)(" S'inscrire")])),_:1}),(0,s.K2)(u,{to:"/login",class:"sign_up btn"},{default:(0,s.Ql)((()=>[(0,s.mY)(" Se connecter")])),_:1})])),(0,s.K2)(d,{onClick:o.handleMenuClick,icon:["fas","bars"],class:"menu-burger"},null,8,["onClick"])])])]),r.isShowUserInfo?((0,s.Wz)(),(0,s.An)("div",he,[(0,s.QD)("div",ge,[o.user_auth?((0,s.Wz)(),(0,s.An)(s.ae,{key:0},[(0,s.QD)("div",null,(0,n.WA)(o.user_auth.username),1),(0,s.QD)("div",null,(0,n.WA)(o.user_auth.email),1)],64)):(0,s.g1)("",!0),o.user_auth?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)(s.ae,{key:1},[ve,Qe],64))]),(0,s.K2)(u,{to:"/eleve/nouveau",class:"btn btn-logout"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{icon:["fas","key"]}),(0,s.mY)(),_e])),_:1}),(0,s.QD)("div",{onClick:l[2]||(l[2]=e=>o.logout(2)),class:"btn btn-logout"},[(0,s.K2)(d,{icon:["fas","power-off"]}),(0,s.mY)(),De])])):(0,s.g1)("",!0)],2)])}var Ae={computed:{user_auth:function(){return this.$store.state.user}},name:"HeaderComponentSite",data(){return{isShowUserInfo:!1,showSideMenu:!1}},props:{msg:String},mounted(){document.addEventListener("click",this.handleClickOutside)},methods:{toggleUserInfo(){this.isShowUserInfo=!this.isShowUserInfo},logout(e){L.defaults.headers.common["Authorization"]=null,localStorage.setItem("access",""),this.$store.commit("setUser",null),2!=e&&this.handleMenuClick(),this.$router.push("/")},handleMenuClick(){this.showSideMenu=!this.showSideMenu},handleClickOutside(e){try{this.isShowUserInfo&&!this.$el.contains(e.target)&&(this.isShowUserInfo=!1)}catch(l){console.log()}try{this.showSideMenu&&!this.$el.contains(e.target)&&(this.showSideMenu=!1)}catch(l){console.log()}}}};const be=(0,x.c)(Ae,[["render",fe],["__scopeId","data-v-4c969e06"]]);var we=be;const Ke=e=>((0,s.ED)("data-v-673f3fbc"),e=e(),(0,s.ii)(),e),Ve=(0,s.IL)('<ul class="circles" data-v-673f3fbc><li data-v-673f3fbc></li><li data-v-673f3fbc></li><li data-v-673f3fbc></li><li data-v-673f3fbc></li><li data-v-673f3fbc></li><li data-v-673f3fbc></li><li data-v-673f3fbc></li><li data-v-673f3fbc></li><li data-v-673f3fbc></li><li data-v-673f3fbc></li></ul><div class="logo" data-v-673f3fbc><div class="image" data-v-673f3fbc><img src="'+q+'" alt="" data-v-673f3fbc></div><span class="text" data-v-673f3fbc><span class="t" data-v-673f3fbc>Transport</span> <span class="s" data-v-673f3fbc>Scolaire</span></span></div>',2),Ue=Ke((()=>(0,s.QD)("div",{class:"line-sep"},null,-1))),ke=Ke((()=>(0,s.QD)("div",{class:"line"},null,-1))),Ce=Ke((()=>(0,s.QD)("div",{class:"line"},null,-1))),Ee=Ke((()=>(0,s.QD)("div",{class:"line"},null,-1))),ye=Ke((()=>(0,s.QD)("div",{class:"line"},null,-1))),Ie=Ke((()=>(0,s.QD)("div",{class:"line"},null,-1))),Le=Ke((()=>(0,s.QD)("div",{class:"line"},null,-1))),We=Ke((()=>(0,s.QD)("div",{class:"line"},null,-1))),xe=Ke((()=>(0,s.QD)("div",{class:"line"},null,-1))),Pe=Ke((()=>(0,s.QD)("div",{class:"line"},null,-1))),$e=Ke((()=>(0,s.QD)("div",{class:"line"},null,-1))),ze=Ke((()=>(0,s.QD)("div",{class:"line"},null,-1))),qe=Ke((()=>(0,s.QD)("div",{class:"line"},null,-1)));function Be(e,l,a,t,i,r){const o=(0,s.E1)("font-awesome-icon"),u=(0,s.E1)("router-link");return(0,s.Wz)(),(0,s.An)("aside",{class:(0,n.WN)(["hello area",{active:i.asideActive,active2:i.asideActive2}])},[Ve,(0,s.QD)("ul",null,[Ue,(0,s.QD)("li",null,[(0,s.K2)(u,{to:"/transport_scolaire/dashboard"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2}),icon:["fas","grip"]},null,8,["class"]),(0,s.QD)("span",{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2})},"Tableau de bord",2),ke])),_:1})]),(0,s.QD)("li",null,[(0,s.K2)(u,{to:"/transport_scolaire/inscription"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2}),icon:["fas","hourglass"]},null,8,["class"]),(0,s.QD)("span",{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2})},"Inscriptions en attente",2),Ce])),_:1})]),(0,s.QD)("li",null,[(0,s.K2)(u,{to:"/transport_scolaire/inscription/list/annule"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2}),icon:["fas","times"]},null,8,["class"]),(0,s.QD)("span",{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2})},"Inscriptions en Annulé",2),Ee])),_:1})]),(0,s.QD)("li",null,[(0,s.K2)(u,{to:"/transport_scolaire/eleve"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2}),icon:["fas","children"]},null,8,["class"]),(0,s.QD)("span",{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2})},"Élèves",2),ye])),_:1})]),(0,s.QD)("li",null,[(0,s.K2)(u,{to:"/transport_scolaire/ecole"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2}),icon:["fas","school"]},null,8,["class"]),(0,s.QD)("span",{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2})},"Ecoles",2),Ie])),_:1})]),(0,s.QD)("li",null,[(0,s.K2)(u,{to:"/transport_scolaire/parent"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2}),icon:["fas","person-breastfeeding"]},null,8,["class"]),(0,s.QD)("span",{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2})},"Parents d'élève",2),Le])),_:1})]),(0,s.QD)("li",null,[(0,s.K2)(u,{to:"/transport_scolaire/ligne"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2}),icon:["fas","road"]},null,8,["class"]),(0,s.QD)("span",{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2})},"Lignes",2),We])),_:1})]),(0,s.QD)("li",null,[(0,s.K2)(u,{to:"/transport_scolaire/itineraire"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2}),icon:["fas","hourglass"]},null,8,["class"]),(0,s.QD)("span",{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2})},"Itinéraires et horaires",2),xe])),_:1})]),(0,s.QD)("li",null,[(0,s.K2)(u,{to:"/transport_scolaire/lieuligne"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2}),icon:["fas","location-dot"]},null,8,["class"]),(0,s.QD)("span",{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2})},"Lieux des lignes",2),Pe])),_:1})]),(0,s.QD)("li",null,[(0,s.K2)(u,{to:"/transport_scolaire/lieuramassage"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2}),icon:["fas","circle-stop"]},null,8,["class"]),(0,s.QD)("span",{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2})},"Points de ramassage",2),$e])),_:1})]),(0,s.QD)("li",null,[(0,s.K2)(u,{to:"/transport_scolaire/bus"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2}),icon:["fas","bus"]},null,8,["class"]),(0,s.QD)("span",{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2})},"Bus",2),ze])),_:1})]),(0,s.QD)("li",null,[(0,s.K2)(u,{to:"/transport_scolaire/chauffeur"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2}),icon:["fas","fa-id-card"]},null,8,["class"]),(0,s.QD)("span",{class:(0,n.WN)({active:i.asideActive,active2:i.asideActive2})}," Chauffeurs",2),qe])),_:1})])])],2)}var Se={name:"AsideComponent",data(){return{asideActive:!1,asideActive2:!1}},methods:{handleMenuClick(){1==this.asideActive?(this.asideActive=!1,this.asideActive2=!1):(this.asideActive=!0,this.asideActive2=!0)},handleWindowSizeChange(e){e<1100?(this.asideActive2=!0,this.asideActive=!0):(alert("oui"),this.asideActive2=!1,this.asideActive=!1)}}};const Ye=(0,x.c)(Se,[["render",Be],["__scopeId","data-v-673f3fbc"]]);var Re=Ye,Ne={name:"App",setup(){},data(){return{baseUrl:"http://localhost:8000",mainActive:!1,mainActive2:!1,windowWidth:window.innerWidth,windowHeight:window.innerHeight}},components:{HeaderComponent:$,AsideComponent:Re,HeaderComponentSite:we},mounted(){this.handleWindowSizeChange(),window.addEventListener("resize",this.handleWindowSizeChange)},beforeUnmount(){},computed:{isAdmin(){const e=this.$route.path;return e.includes("transport_scolaire")},isLogin(){return"Login"==this.$route.name}},methods:{handleWindowSizeChange(){console.log("test",window.innerWidth,window.innerHeight),this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.windowWidth<1100&&this.$refs.asideComponent?(this.mainActive2=!0,this.mainActive=!0,this.$refs.asideComponent.asideActive=!0,this.$refs.asideComponent.asideActive2=!0):this.$refs.asideComponent&&(this.mainActive2=!1,this.mainActive=!1,this.$refs.asideComponent.asideActive=!1,this.$refs.asideComponent.asideActive2=!1)},handleMenuClick(){1==this.mainActive?(this.mainActive=!1,this.mainActive2=!1):(this.mainActive=!0,this.mainActive2=!0),this.$refs.asideComponent.handleMenuClick()}}};const Te=(0,x.c)(Ne,[["render",d]]);var Me=Te,Oe=a(7464);const Je=e=>((0,s.ED)("data-v-58ef7a89"),e=e(),(0,s.ii)(),e),Fe={class:"hello"},Ge={class:"lignes"},He=Je((()=>(0,s.QD)("h4",{class:"title-ligne"},"Ligne et Lieux Transport Scolaire",-1))),Xe={class:"cards-ligne rows"},je={class:"title"},Ze={class:"lieux-body"},el=Je((()=>(0,s.QD)("h5",null,"Lieux",-1))),ll={class:"lieu"},al={class:"link"},tl={class:"contact"},sl=Je((()=>(0,s.QD)("h3",null,"Contacts",-1))),nl={class:"ul"},il=Je((()=>(0,s.QD)("span",null," +265 25 035 42 682",-1))),rl=Je((()=>(0,s.QD)("span",null," +265 25 035 42 682",-1))),ol=Je((()=>(0,s.QD)("span",null," +265 25 035 42 682",-1))),ul={class:"adresse"},dl=Je((()=>(0,s.QD)("h3",null,"Adresse",-1))),cl={class:"ul"},pl=Je((()=>(0,s.QD)("span",null," Antananarivo - Madagascar",-1))),ml=Je((()=>(0,s.QD)("span",null," Antananarivo - Madagascar",-1))),hl=Je((()=>(0,s.QD)("span",null," Antananarivo - Madagascar",-1))),gl=Je((()=>(0,s.QD)("div",{class:"apropos"},[(0,s.QD)("h3",null,"Apropos"),(0,s.QD)("p",null,"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi distinctio vit")],-1)));function vl(e,l,a,t,i,r){const o=(0,s.E1)("router-link"),u=(0,s.E1)("font-awesome-icon");return(0,s.Wz)(),(0,s.An)("div",Fe,[(0,s.QD)("section",Ge,[He,(0,s.QD)("div",Xe,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(i.lignes,(l=>((0,s.Wz)(),(0,s.An)("div",{class:"card-ligne col-12 col-md-3",key:l.pk},[(0,s.QD)("div",je,(0,n.WA)(l.repr),1),(0,s.QD)("div",Ze,[el,((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(l.ordrelieus,(e=>((0,s.Wz)(),(0,s.An)("div",{class:"lieux",key:e.pk},[(0,s.QD)("div",ll,(0,n.WA)(e.lieu_ligne.repr),1)])))),128))]),(0,s.QD)("div",al,[(0,s.K2)(o,{to:`/ligne/site/${e.$encryptId(l.pk)}/detail`,class:"btn btn-ligne-detail"},{default:(0,s.Ql)((()=>[(0,s.mY)(" Voir detail ")])),_:2},1032,["to"])])])))),128))])]),(0,s.QD)("footer",null,[(0,s.QD)("div",tl,[sl,(0,s.QD)("div",nl,[(0,s.QD)("li",null,[(0,s.K2)(u,{icon:["fas","phone"]}),il]),(0,s.QD)("li",null,[(0,s.K2)(u,{icon:["fas","phone"]}),rl]),(0,s.QD)("li",null,[(0,s.K2)(u,{icon:["fas","phone"]}),ol])])]),(0,s.QD)("div",ul,[dl,(0,s.QD)("div",cl,[(0,s.QD)("li",null,[(0,s.K2)(u,{icon:["fas","location-dot"]}),pl]),(0,s.QD)("li",null,[(0,s.K2)(u,{icon:["fas","location-dot"]}),ml]),(0,s.QD)("li",null,[(0,s.K2)(u,{icon:["fas","location-dot"]}),hl])])]),gl])])}var Ql={name:"HomePage",props:{msg:String},mounted(){this.fecthDataLigne(this.baseUrlLigne)},data(){return{baseUrlLigne:`${this.$store.state.baseUrl}/api/transport_scolaire/lignes/`,lignes:[]}},methods:{fecthDataLigne(e){y.c.get(e,{params:{paginate:!1,special_detail_manytoone_class:"['ordrelieus',]"}}).then((e=>{const l=e.data;this.lignes=l.map((e=>({...e,value:e.pk,text:e.repr}))),console.log(this.lignes)})).catch((e=>{console.error("Une erreur s'est produite lors de la récupération des lignes :",e)}))}}};const _l=(0,x.c)(Ql,[["render",vl],["__scopeId","data-v-58ef7a89"]]);var Dl=_l,fl=a.p+"img/wave.8eed88c3.png",Al=a.p+"img/bg.26404c57.svg",bl=a.p+"img/avatar.80d9c13d.svg";const wl=e=>((0,s.ED)("data-v-3b79fa62"),e=e(),(0,s.ii)(),e),Kl=wl((()=>(0,s.QD)("img",{class:"wave",src:fl},null,-1))),Vl={class:"container"},Ul=wl((()=>(0,s.QD)("div",{class:"img"},[(0,s.QD)("img",{src:Al})],-1))),kl={class:"login-content"},Cl=wl((()=>(0,s.QD)("img",{src:bl},null,-1))),El=wl((()=>(0,s.QD)("h2",{class:"title"},"Bienvenue",-1))),yl={class:"i"},Il={class:"div"},Ll=wl((()=>(0,s.QD)("h5",null,"Nom d'utilisateur",-1))),Wl={class:"i"},xl={class:"div"},Pl=wl((()=>(0,s.QD)("h5",null,"Mot de passe",-1))),$l={class:"text-error text-danger"},zl=wl((()=>(0,s.QD)("span",null," - Vous n'êtes pas encore membre ?",-1))),ql=wl((()=>(0,s.QD)("span",null,"S'inscrire",-1))),Bl=wl((()=>(0,s.QD)("input",{type:"submit",class:"btn",value:"Se connecter"},null,-1)));function Sl(e,l,a,i,r,o){const u=(0,s.E1)("font-awesome-icon"),d=(0,s.E1)("router-link");return(0,s.Wz)(),(0,s.An)(s.ae,null,[Kl,(0,s.QD)("div",Vl,[Ul,(0,s.QD)("div",kl,[(0,s.QD)("form",{action:"index.html",onSubmit:l[6]||(l[6]=(...e)=>o.login&&o.login(...e))},[Cl,El,(0,s.QD)("div",{class:(0,n.WN)(["input-div one",{focus:r.isFocusedNom}])},[(0,s.QD)("div",yl,[(0,s.K2)(u,{icon:["fas","user"]})]),(0,s.QD)("div",Il,[Ll,(0,s.wt)((0,s.QD)("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>r.username=e),class:"input",onFocus:l[1]||(l[1]=(...e)=>o.handleFocusNom&&o.handleFocusNom(...e)),onBlur:l[2]||(l[2]=(...e)=>o.handleBlurNom&&o.handleBlurNom(...e))},null,544),[[t.Og,r.username]])])],2),(0,s.QD)("div",{class:(0,n.WN)(["input-div pass",{focus:r.isFocused}])},[(0,s.QD)("div",Wl,[(0,s.K2)(u,{icon:["fas","lock"]})]),(0,s.QD)("div",xl,[Pl,(0,s.wt)((0,s.QD)("input",{type:"password","onUpdate:modelValue":l[3]||(l[3]=e=>r.password=e),class:"input",onFocus:l[4]||(l[4]=(...e)=>o.handleFocus&&o.handleFocus(...e)),onBlur:l[5]||(l[5]=(...e)=>o.handleBlur&&o.handleBlur(...e))},null,544),[[t.Og,r.password]])])],2),(0,s.QD)("div",$l,(0,n.WA)(r.error),1),(0,s.K2)(d,{to:"/inscription",class:"link-insciption"},{default:(0,s.Ql)((()=>[zl,ql])),_:1}),Bl],32)])])],64)}var Yl={name:"LoginPage",data(){return{username:"",password:"",error:"",isFocused:!1,isFocusedNom:!1}},methods:{login(e){e.preventDefault(),this.username&&this.password?this.performeLogin({username:this.username,password:this.password}):this.error="Nom d'utilisateur ou mot de passe incorrect"},performeLogin(e){y.c.post(this.$obtainTokenUrl,e).then((e=>{console.log(e.data);const l=e.data.access,a=e.data.refresh;localStorage.setItem("refresh",a),localStorage.setItem("access",l),this.$store.commit("setUser",e.data.user),"admin"==e.data.user.role?this.$router.push("/transport_scolaire/dashboard"):this.$router.push("/inscription/list")})).catch((e=>{console.error(e),this.error=e.response.data.detail}))},handleFocus(){this.isFocused=!0},handleBlur(e){e.target.value||(this.isFocused=!1)},handleFocusNom(){this.isFocusedNom=!0},handleBlurNom(e){e.target.value||(this.isFocusedNom=!1)}}};const Rl=(0,x.c)(Yl,[["render",Sl],["__scopeId","data-v-3b79fa62"]]);var Nl=Rl;const Tl=e=>((0,s.ED)("data-v-2a7cfe32"),e=e(),(0,s.ii)(),e),Ml={class:"cont-sep"},Ol=Tl((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Horaires et "),(0,s.mY)(),(0,s.QD)("span",null,"Itineraires")]),(0,s.QD)("div",{class:"line"})],-1))),Jl=Tl((()=>(0,s.QD)("div",{class:"actions"},null,-1))),Fl={class:"filter-form"},Gl={class:"item-group"},Hl={class:"item"},Xl=Tl((()=>(0,s.QD)("label",null,"Ecole:",-1))),jl=Tl((()=>(0,s.QD)("option",{value:""},"-------------------",-1))),Zl={class:"item"},ea=Tl((()=>(0,s.QD)("label",null,"Ligne:",-1))),la=Tl((()=>(0,s.QD)("option",{value:""},"-------------------",-1))),aa={class:"search-form"},ta={class:"table-responsive"},sa={class:""},na={class:"lieu row col-9"},ia={class:"title_ligne"},ra=Tl((()=>(0,s.QD)("div",{class:"col-12 col-md-3 text-center"},[(0,s.QD)("strong",null,"Ligne")],-1))),oa=Tl((()=>(0,s.QD)("div",{class:"col-12 col-md-3 text-center"},[(0,s.QD)("strong",null,"Lieux")],-1))),ua={class:"row"},da={class:""},ca={class:""},pa={class:"col-12 col-md-2"},ma=Tl((()=>(0,s.QD)("div",{class:"ecole"},[(0,s.QD)("strong",null,"Ecole")],-1))),ha={class:""},ga=Tl((()=>(0,s.QD)("div",{class:"popup-buttons"},null,-1)));function va(e,l,a,i,r,o){const u=(0,s.E1)("font-awesome-icon");return(0,s.Wz)(),(0,s.An)("div",null,[(0,s.QD)("div",Ml,[Ol,Jl,(0,s.QD)("div",Fl,[(0,s.QD)("div",Gl,[(0,s.QD)("div",Hl,[Xl,(0,s.wt)((0,s.QD)("select",{name:"","onUpdate:modelValue":l[0]||(l[0]=e=>r.ecole_filter=e),id:""},[jl,((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.ecoles,(e=>((0,s.Wz)(),(0,s.An)("option",{value:"{{ecole.pk}}",key:e.pk},(0,n.WA)(e.nom),1)))),128))],512),[[t.Ip,r.ecole_filter]])]),(0,s.QD)("div",Zl,[ea,(0,s.wt)((0,s.QD)("select",{name:"","onUpdate:modelValue":l[1]||(l[1]=e=>r.ligne_filter=e),id:""},[la,((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.lignes,(e=>((0,s.Wz)(),(0,s.An)("option",{value:"",key:e.pk},(0,n.WA)(e.nom),1)))),128))],512),[[t.Ip,r.ligne_filter]])])]),(0,s.K2)(u,{icon:["fas","filter"],class:"icon"})]),(0,s.QD)("div",aa,[(0,s.wt)((0,s.QD)("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=e=>r.searchQuery=e),placeholder:"Rechercher  élève ..."},null,512),[[t.Og,r.searchQuery]]),(0,s.K2)(u,{icon:["fas","magnifying-glass"],class:"icon"})]),(0,s.QD)("div",ta,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.itineraires,(e=>((0,s.Wz)(),(0,s.An)("div",{class:"itineraire row",key:e.pk},[(0,s.QD)("div",sa,[(0,s.QD)("span",null,(0,n.WA)(e.ligne),1)]),(0,s.QD)("div",na,[(0,s.QD)("div",ia,[ra,(0,s.mY)(" // "),oa,(0,s.QD)("div",ua,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(e.horaires,(e=>((0,s.Wz)(),(0,s.An)("div",{class:"col-12 col-md-3",key:e.pk},[(0,s.QD)("div",da,[(0,s.QD)("strong",null,(0,n.WA)(e.pointArret.nom_lieu),1)]),(0,s.QD)("div",ca,[(0,s.QD)("span",null,(0,n.WA)(e.heureDebut),1),(0,s.mY)(" - "),(0,s.QD)("span",null,(0,n.WA)(e.heureFin),1)])])))),128))])])]),(0,s.QD)("div",pa,[ma,((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(e.ecoleassignations,(e=>((0,s.Wz)(),(0,s.An)("div",{class:"col-12 col-md-3",key:e.pk},[(0,s.QD)("div",ha,(0,n.WA)(e.ecole.nom),1)])))),128))])])))),128))]),ga])])}var Qa={name:"ItinerairePage",data(){return{itineraires:[],baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/itineraires/`,baseUrlEcole:`${this.$store.state.baseUrl}/api/transport_scolaire/ecoles/`,baseUrlLigne:`${this.$store.state.baseUrl}/api/transport_scolaire/lignes/`,baseUrlItineraire:`${this.$store.state.baseUrl}/api/transport_scolaire/itineraires/`,baseUrlHoraire:`${this.$store.state.baseUrl}/api/transport_scolaire/horaires/`,baseUrlEcoleAssignation:`${this.$store.state.baseUrl}/api/transport_scolaire/ecoleassignations/`,baseUrlBusAssignation:`${this.$store.state.baseUrl}/api/transport_scolaire/busassignations/`,baseUrlBus:`${this.$store.state.baseUrl}/api/transport_scolaire/buss/`,searchQuery:"",startDate:"",endDate:"",ecole_filter:"",ligne_filter:"",current_page:2,nbr_page:10,ecoles:[],lignes:[]}},computed:{},methods:{fecthDataEcole(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.ecoles=l.map((e=>({...e,value:e.pk,text:e.nom}))),console.log(this.ecoles)})).catch((e=>{console.error(e)}))},fecthDataLigne(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;console.log(l),this.lignes=l.map((e=>({...e,value:e.pk,text:e.nom}))),console.log(this.lignes)})).catch((e=>{console.error(e)}))},fecthData(e){y.c.get(e,{params:{paginate:!1,special_detail_manytoone_class:"['busassignations','ecoleassignations','horaires']"}}).then((e=>{const l=e.data;this.itineraires=l.map((e=>(e.horaires.length>0?(e.lieuDepart=e.horaires[0].pointArret,e.heureDepart=e.horaires[0].heureDebut,e.lieuArrivee=e.horaires[e.horaires.length-1].pointArret,e.heureArrivee=e.horaires[e.horaires.length-1].heureFin):(e.lieuDepart=null,e.heureDepart=null,e.lieuArrivee=null,e.heureArrivee=null),e))),console.log(this.itineraires)})).catch((e=>{console.error("Une erreur s'est produits lors de la récupération des itineraires:",e)}))}},mounted(){this.fecthData(this.baseUrlPage),this.fecthDataEcole(this.baseUrlEcole),this.fecthDataLigne(this.baseUrlLigne)}};const _a=(0,x.c)(Qa,[["render",va],["__scopeId","data-v-2a7cfe32"]]);var Da=_a;const fa=e=>((0,s.ED)("data-v-44992c50"),e=e(),(0,s.ii)(),e),Aa={class:"container"},ba=fa((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Inscription"),(0,s.mY)(),(0,s.QD)("span",null,"Elève")]),(0,s.QD)("div",{class:"line"})],-1))),wa=fa((()=>(0,s.QD)("h5",null,"Informations Elève",-1))),Ka={class:"col-12 col-md-6"},Va={class:"text-danger"},Ua={class:"col-12 col-md-6"},ka={class:"text-danger"},Ca={class:"col-12"},Ea={class:"text-danger"},ya={class:"col-12 col-md-6"},Ia={class:"text-danger"},La={key:0,class:"row col-12 col-md-6"},Wa={class:"col-10"},xa={class:"text-danger"},Pa={class:"col-2"},$a=fa((()=>(0,s.QD)("label",{for:""},"Autre Classe",-1))),za={key:1,v:"",class:"row col-12 col-md-6"},qa={class:"col-10"},Ba={class:"text-danger"},Sa={class:"col-2"},Ya=fa((()=>(0,s.QD)("label",{for:""},"Autre Classe",-1))),Ra={class:"col-12 col-md-6"},Na={class:"text-danger"},Ta={class:"col-12"},Ma={class:"text-danger"},Oa={class:"col-12 col-md-6"},Ja={class:"text-danger"},Fa={class:"col-12 col-md-6"},Ga={class:"text-danger"},Ha={class:"col-12 col-md-12"},Xa={class:"text-danger"},ja={key:0,class:"row"},Za={class:"col-10"},et={class:"text-danger"},lt={class:"col-2 checkbox"},at=fa((()=>(0,s.QD)("label",{for:""}," Autre Lieu de ramassage au lieu ",-1))),tt={key:1,class:"row"},st={class:"col-11 checkbox"},nt={class:"col-1 checkbox"},it=fa((()=>(0,s.QD)("label",{for:""}," Autre Lieu de ramassage au lieu ",-1))),rt={class:"text-danger"},ot={key:0,class:"row"},ut={class:"col-10"},dt={class:"text-danger"},ct={class:"col-2 checkbox"},pt=fa((()=>(0,s.QD)("label",{for:""}," Autre Lieu de Remisage ",-1))),mt={key:1,class:"row"},ht={class:"col-11 checkbox"},gt={class:"col-1 checkbox"},vt=fa((()=>(0,s.QD)("label",{for:""}," Autre Lieu de remisage ",-1))),Qt={class:"table-responsive"},_t={class:"table"},Dt=fa((()=>(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("th",null,"Cocher"),(0,s.QD)("th",null,"Lieu Départ"),(0,s.QD)("th",null,"Lieu Arrivée"),(0,s.QD)("th",null,"Heure Départ"),(0,s.QD)("th",null,"Heure d'arrivié")])],-1))),ft=["onInput"],At={key:0},bt={key:1},wt={key:2},Kt={key:3},Vt=fa((()=>(0,s.QD)("td",null,null,-1))),Ut=fa((()=>(0,s.QD)("h5",null,"Informations Parent Elève",-1))),kt={class:"col-12 col-md-6"},Ct={class:"text-danger"},Et={class:"col-12 col-md-6"},yt={class:"text-danger"},It={class:"col-12 col-md-6"},Lt={class:"text-danger"},Wt={class:"col-12 col-md-6"},xt={class:"text-danger"},Pt=fa((()=>(0,s.QD)("h5",null,"Informations Compte d'utilisateur",-1))),$t={class:"col-12 col-md-6"},zt=fa((()=>(0,s.QD)("div",{class:"text-danger"},null,-1))),qt={class:"col-12 col-md-6"},Bt=fa((()=>(0,s.QD)("div",{class:"text-danger"},null,-1))),St={class:"col-12 col-md-6"},Yt=fa((()=>(0,s.QD)("div",{class:"text-danger"},null,-1))),Rt={class:"col-12 col-md-6"},Nt={class:"text-danger"},Tt=fa((()=>(0,s.QD)("span",null,"Enregistrer",-1)));function Mt(e,l,a,i,r,o){const u=(0,s.E1)("b-form-input"),d=(0,s.E1)("b-form-group"),c=(0,s.E1)("b-form-select"),p=(0,s.E1)("font-awesome-icon"),m=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",Aa,[(0,s.QD)("form",{onSubmit:l[29]||(l[29]=(0,t.Y7)(((...e)=>o.addEleve&&o.addEleve(...e)),["prevent"])),class:"row form-form form-75"},[ba,wa,(0,s.QD)("div",Ka,[(0,s.K2)(d,{label:"nom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{id:"nom",modelValue:r.new_eleve.nom,"onUpdate:modelValue":l[0]||(l[0]=e=>r.new_eleve.nom=e),required:""},null,8,["modelValue"])])),_:1}),(0,s.QD)("div",Va,(0,n.WA)(r.new_eleve.nom_error),1)]),(0,s.QD)("div",Ua,[(0,s.K2)(d,{label:"Prénom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{id:"prenoms",modelValue:r.new_eleve.prenoms,"onUpdate:modelValue":l[1]||(l[1]=e=>r.new_eleve.prenoms=e),required:""},null,8,["modelValue"])])),_:1}),(0,s.QD)("div",ka,(0,n.WA)(r.new_eleve.prenoms_error),1)]),(0,s.QD)("div",Ca,[(0,s.K2)(d,{label:"Date Naissance :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{id:"date_naissance",modelValue:r.new_eleve.date_naissance,"onUpdate:modelValue":l[2]||(l[2]=e=>r.new_eleve.date_naissance=e),type:"date",required:""},null,8,["modelValue"])])),_:1}),(0,s.QD)("div",Ea,(0,n.WA)(r.new_eleve.date_naissance_error),1)]),(0,s.QD)("div",ya,[(0,s.K2)(d,{label:"Ecole :"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{onChange:o.handleEcoleChange,modelValue:r.new_eleve.ecole,"onUpdate:modelValue":l[3]||(l[3]=e=>r.new_eleve.ecole=e),options:r.ecoles,required:""},null,8,["onChange","modelValue","options"])])),_:1}),(0,s.QD)("div",Ia,(0,n.WA)(r.new_eleve.ecole_error),1)]),r.new_eleve.create_classe?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("div",La,[(0,s.QD)("div",Wa,[(0,s.K2)(d,{label:"Classe :"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{modelValue:r.new_eleve.classe,"onUpdate:modelValue":l[4]||(l[4]=e=>r.new_eleve.classe=e),options:r.classes_filter,required:""},null,8,["modelValue","options"])])),_:1}),(0,s.QD)("div",xa,(0,n.WA)(r.new_eleve.classe_error),1)]),(0,s.QD)("div",Pa,[(0,s.wt)((0,s.QD)("input",{"onUpdate:modelValue":l[5]||(l[5]=e=>r.new_eleve.create_classe=e),type:"checkbox"},null,512),[[t.cV,r.new_eleve.create_classe]]),$a])])),r.new_eleve.create_classe?((0,s.Wz)(),(0,s.An)("div",za,[(0,s.QD)("div",qa,[(0,s.K2)(d,{label:"Nouvel classe :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.new_eleve.new_classe.nom,"onUpdate:modelValue":l[6]||(l[6]=e=>r.new_eleve.new_classe.nom=e),required:""},null,8,["modelValue"])])),_:1}),(0,s.QD)("div",Ba,(0,n.WA)(r.new_eleve.classe_error),1)]),(0,s.QD)("div",Sa,[(0,s.wt)((0,s.QD)("input",{"onUpdate:modelValue":l[7]||(l[7]=e=>r.new_eleve.create_classe=e),type:"checkbox"},null,512),[[t.cV,r.new_eleve.create_classe]]),Ya])])):(0,s.g1)("",!0),(0,s.QD)("div",Ra,[(0,s.K2)(d,{label:"Image :"},{default:(0,s.Ql)((()=>[(0,s.QD)("input",{type:"file",accept:"image/*",onChange:l[8]||(l[8]=(...e)=>o.handleImageUploadNewEleve&&o.handleImageUploadNewEleve(...e))},null,32)])),_:1}),(0,s.QD)("div",Na,(0,n.WA)(r.new_eleve.image_error),1)]),(0,s.QD)("div",Ta,[(0,s.K2)(d,{label:"Adresse :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.new_eleve.adresse,"onUpdate:modelValue":l[9]||(l[9]=e=>r.new_eleve.adresse=e),required:""},null,8,["modelValue"])])),_:1}),(0,s.QD)("div",Ma,(0,n.WA)(r.new_eleve.adresse_error),1)]),(0,s.QD)("div",Oa,[(0,s.K2)(d,{label:"Ligne de bus :"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{modelValue:r.new_eleve.ligne,"onUpdate:modelValue":l[10]||(l[10]=e=>r.new_eleve.ligne=e),onChange:o.handleLigneChange,options:r.lignes,required:""},null,8,["modelValue","onChange","options"])])),_:1}),(0,s.QD)("div",Ja,(0,n.WA)(r.new_eleve.ligne_error),1)]),(0,s.QD)("div",Fa,[(0,s.K2)(d,{label:"Lieu de ligne :"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{onChange:o.handleLieuLigneChange,modelValue:r.new_eleve.lieuligne,"onUpdate:modelValue":l[11]||(l[11]=e=>r.new_eleve.lieuligne=e),options:r.lieulignes_filter,required:""},null,8,["onChange","modelValue","options"])])),_:1}),(0,s.QD)("div",Ga,(0,n.WA)(r.new_eleve.lieuligne_error),1)]),(0,s.QD)("div",Ha,[(0,s.K2)(d,{label:"Type Inscription :"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{modelValue:r.new_eleve.type_inscription,"onUpdate:modelValue":l[12]||(l[12]=e=>r.new_eleve.type_inscription=e),options:r.type_inscriptions,required:""},null,8,["modelValue","options"])])),_:1}),(0,s.QD)("div",Xa,(0,n.WA)(r.new_eleve.lieuligne_error),1)]),"ramasse et remisage"===r.new_eleve.type_inscription||"ramassage"===r.new_eleve.type_inscription?((0,s.Wz)(),(0,s.An)(s.ae,{key:2},[r.new_eleve.create_lieu_ramassage?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("div",ja,[(0,s.QD)("div",Za,[(0,s.K2)(d,{label:"Lieu de ramassage :"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{modelValue:r.new_eleve.lieu_ramassage,"onUpdate:modelValue":l[13]||(l[13]=e=>r.new_eleve.lieu_ramassage=e),options:r.lieu_ramassages_filter},null,8,["modelValue","options"])])),_:1}),(0,s.QD)("div",et,(0,n.WA)(r.new_eleve.lieu_ramassage_error),1)]),(0,s.QD)("div",lt,[(0,s.wt)((0,s.QD)("input",{type:"checkbox","onUpdate:modelValue":l[14]||(l[14]=e=>r.new_eleve.create_lieu_ramassage=e)},null,512),[[t.cV,r.new_eleve.create_lieu_ramassage]]),at])])),r.new_eleve.create_lieu_ramassage?((0,s.Wz)(),(0,s.An)("div",tt,[(0,s.QD)("div",st,[(0,s.K2)(d,{label:"Nouveau Lieu de Ramassage :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{id:"Lieu de Ramassage ",modelValue:r.new_eleve.new_lieu_ramassage.nom_lieu,"onUpdate:modelValue":l[15]||(l[15]=e=>r.new_eleve.new_lieu_ramassage.nom_lieu=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",nt,[(0,s.wt)((0,s.QD)("input",{type:"checkbox","onUpdate:modelValue":l[16]||(l[16]=e=>r.new_eleve.create_lieu_ramassage=e)},null,512),[[t.cV,r.new_eleve.create_lieu_ramassage]]),it])])):(0,s.g1)("",!0)],64)):(0,s.g1)("",!0),(0,s.QD)("div",rt,(0,n.WA)(r.errors.type_inscription),1),"ramasse et remisage"===r.new_eleve.type_inscription||"remisage"===r.new_eleve.type_inscription?((0,s.Wz)(),(0,s.An)(s.ae,{key:3},[r.new_eleve.create_lieu_remisage?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("div",ot,[(0,s.QD)("div",ut,[(0,s.K2)(d,{label:"Lieu de remisage :"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{modelValue:r.new_eleve.lieu_remisage,"onUpdate:modelValue":l[17]||(l[17]=e=>r.new_eleve.lieu_remisage=e),options:r.lieu_ramassages_filter},null,8,["modelValue","options"])])),_:1}),(0,s.QD)("div",dt,(0,n.WA)(r.new_eleve.lieu_ramassage_error),1)]),(0,s.QD)("div",ct,[(0,s.wt)((0,s.QD)("input",{type:"checkbox","onUpdate:modelValue":l[18]||(l[18]=e=>r.new_eleve.create_lieu_remisage=e)},null,512),[[t.cV,r.new_eleve.create_lieu_remisage]]),pt])])),r.new_eleve.create_lieu_remisage?((0,s.Wz)(),(0,s.An)("div",mt,[(0,s.QD)("div",ht,[(0,s.K2)(d,{label:"Nouveau Lieu de Remisage :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{id:"Lieu de Remisage ",modelValue:r.new_eleve.new_lieu_remisage.nom_lieu,"onUpdate:modelValue":l[19]||(l[19]=e=>r.new_eleve.new_lieu_remisage.nom_lieu=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",gt,[(0,s.wt)((0,s.QD)("input",{type:"checkbox","onUpdate:modelValue":l[20]||(l[20]=e=>r.new_eleve.create_lieu_remisage=e)},null,512),[[t.cV,r.new_eleve.create_lieu_remisage]]),vt])])):(0,s.g1)("",!0)],64)):(0,s.g1)("",!0),(0,s.QD)("div",Qt,[(0,s.QD)("table",_t,[Dt,(0,s.K2)(t.Q9,{name:"itineraire-table",tag:"tbody"},{default:(0,s.Ql)((()=>[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.itineraires_filter,(e=>((0,s.Wz)(),(0,s.An)("tr",{key:e.id},[(0,s.QD)("td",null,[(0,s.QD)("input",{type:"checkbox",name:"",onInput:l=>o.handleChangeItineraireCheckBox(e.pk),id:""},null,40,ft)]),e.lieuDepart?((0,s.Wz)(),(0,s.An)("td",At,(0,n.WA)(e.lieuDepart.repr),1)):(0,s.g1)("",!0),e.lieuDepart?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("td",bt,"------------")),e.lieuArrivee?((0,s.Wz)(),(0,s.An)("td",wt,(0,n.WA)(e.lieuArrivee.repr),1)):(0,s.g1)("",!0),e.lieuArrivee?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("td",Kt,"-------------")),(0,s.QD)("td",null,[(0,s.mY)((0,n.WA)(e.heureDepart),1),e.heureDepart?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)(s.ae,{key:0},[(0,s.mY)("-------------")],64))]),(0,s.QD)("td",null,[(0,s.mY)((0,n.WA)(e.heureArrivee),1),e.heureArrivee?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)(s.ae,{key:0},[(0,s.mY)("-------------")],64))]),Vt])))),128))])),_:1})])]),Ut,(0,s.QD)("div",kt,[(0,s.K2)(d,{label:"Nom Père :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.new_eleve.parent.nom_pere,"onUpdate:modelValue":l[21]||(l[21]=e=>r.new_eleve.parent.nom_pere=e),required:""},null,8,["modelValue"])])),_:1}),(0,s.QD)("div",Ct,(0,n.WA)(r.new_eleve.parent.nom_pere_error),1)]),(0,s.QD)("div",Et,[(0,s.K2)(d,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.new_eleve.parent.tel_pere,"onUpdate:modelValue":l[22]||(l[22]=e=>r.new_eleve.parent.tel_pere=e),required:""},null,8,["modelValue"])])),_:1}),(0,s.QD)("div",yt,(0,n.WA)(r.new_eleve.parent.tel_pere_error),1)]),(0,s.QD)("div",It,[(0,s.K2)(d,{label:"Nom Mère :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.new_eleve.parent.nom_mere,"onUpdate:modelValue":l[23]||(l[23]=e=>r.new_eleve.parent.nom_mere=e),required:""},null,8,["modelValue"])])),_:1}),(0,s.QD)("div",Lt,(0,n.WA)(r.new_eleve.parent.nom_mere_error),1)]),(0,s.QD)("div",Wt,[(0,s.K2)(d,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.new_eleve.parent.tel_mere,"onUpdate:modelValue":l[24]||(l[24]=e=>r.new_eleve.parent.tel_mere=e),required:""},null,8,["modelValue"])])),_:1}),(0,s.QD)("div",xt,(0,n.WA)(r.new_eleve.parent.tel_mere_error),1)]),e.$store.state.user?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)(s.ae,{key:4},[Pt,(0,s.QD)("div",$t,[(0,s.K2)(d,{label:"Nom d'utilisateur :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.new_eleve.user.username,"onUpdate:modelValue":l[25]||(l[25]=e=>r.new_eleve.user.username=e),required:""},null,8,["modelValue"])])),_:1}),zt]),(0,s.QD)("div",qt,[(0,s.K2)(d,{label:"Email :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.new_eleve.user.email,"onUpdate:modelValue":l[26]||(l[26]=e=>r.new_eleve.user.email=e),type:"email",required:""},null,8,["modelValue"])])),_:1}),Bt]),(0,s.QD)("div",St,[(0,s.K2)(d,{label:"Mots de passe :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.new_eleve.user.password,"onUpdate:modelValue":l[27]||(l[27]=e=>r.new_eleve.user.password=e),type:"password",required:""},null,8,["modelValue"])])),_:1}),Yt]),(0,s.QD)("div",Rt,[(0,s.K2)(d,{label:"Verification mots de passe :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.new_eleve.user.password_verify,"onUpdate:modelValue":l[28]||(l[28]=e=>r.new_eleve.user.password_verify=e),type:"password",required:""},null,8,["modelValue"])])),_:1}),(0,s.QD)("div",Nt,(0,n.WA)(r.new_eleve.user.password_error),1)])],64)),(0,s.K2)(m,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(p,{icon:["fas","floppy-disk"]}),Tt])),_:1})],32)])}var Ot={name:"EleveCreatePage",props:{baseUrl:String},watch:{"new_eleve.ligne":function(e,l){this.new_eleve.new_lieu_ramassage.ligne=e,this.new_eleve.new_lieu_remisage.ligne=e,this.filterItineraire()},"new_eleve.ecole":function(e,l){this.filterItineraire()},"new_eleve.lieuligne":function(e,l){this.new_eleve.new_lieu_ramassage.lieu_ligne=e,this.new_eleve.new_lieu_remisage.lieu_ligne=e}},data(){return{baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/eleves/`,baseUrlEcole:`${this.$store.state.baseUrl}/api/transport_scolaire/ecoles/`,baseUrlClasse:`${this.$store.state.baseUrl}/api/transport_scolaire/classes/`,baseUrlLigne:`${this.$store.state.baseUrl}/api/transport_scolaire/lignes/`,baseUrlLieuLigne:`${this.$store.state.baseUrl}/api/transport_scolaire/lieulignes/`,baseUrlLieuRamassage:`${this.$store.state.baseUrl}/api/transport_scolaire/lieuramassages/`,baseUrlItineraire:`${this.$store.state.baseUrl}/api/transport_scolaire/itineraires/`,new_eleve:{nom:"",prenoms:"",date_naissance:"",ecole:"",image:null,classe:"",ligne:"",lieuligne:"",lieu_ramassage:"",create_lieu_ramassage:!1,create_classe:!1,new_lieu_ramassage:{lieu_ligne:"",ligne:"",nom_lieu:""},new_lieu_remisage:{lieu_ligne:"",ligne:"",nom_lieu:""},new_classe:{nom:""},parent:{nom_mere:"",nom_pere:"",tel_pere:"",tel_mere:""},type_inscription:"",assignationitineraires:[],user:{username:"",email:"",password:"",password_verify:"",password_error:"",role:"parent"}},ecoles:[],classes:[],lignes:[],lieulignes:[],itineraires:[],itineraires_filter:[],lieulignes_filter:[],classes_filter:[],lieu_ramassages:[],lieu_ramassages_filter:[],errors:{},type_inscriptions:[{value:"",text:"--------------------"},{value:"ramasse et remisage",text:"Ramasse et Remisage"},{value:"ramassage",text:"Ramasse"},{value:"remisage",text:"Remisage"}]}},methods:{handleChangeItineraireCheckBox(e){let l=this.new_eleve.assignationitineraires.findIndex((l=>l.itineraire==e));-1==l?this.new_eleve.assignationitineraires.push({itineraire:e}):this.new_eleve.assignationitineraires.splice(l,1)},handleLigneChange(e){const l=this.lignes.find((l=>l.pk==e));this.lieulignes_filter=l.ordrelieus.map((e=>({value:e.lieu_ligne.pk,text:e.lieu_ligne.repr})))},filterItineraire(){console.log(this.new_eleve.ligne);const e=this.lignes.find((e=>e.pk==this.new_eleve.ligne)),l=this.ecoles.find((e=>e.pk==this.new_eleve.ecole));e&&l&&(this.itineraires_filter=[],console.log(this.itineraires),this.itineraires.forEach((a=>{const t=a.ecoleassignations.find((e=>e.ecole.repr==l.text));console.log(e,l,t),t&&a.ligne==e.text&&this.itineraires_filter.push({...a,value:a.pk,text:a.repr})})))},handleLieuLigneChange(e){const l=this.lieulignes.find((l=>l.pk==e));this.lieu_ramassages_filter=l.lieuramassages.map((e=>({value:e.pk,text:e.repr})))},handleEcoleChange(e){const l=this.ecoles.find((l=>l.pk==e));this.classes_filter=l.classes.map((e=>({value:e.pk,text:e.repr})))},addEleve(){this.new_eleve&&console.log(L.defaults.headers.common["Authorization"]),this.new_eleve.user.password==this.new_eleve.user.password_verify?(this.new_eleve.user.password_error="","ramasse et remisage"!=this.new_eleve.type_inscription||2==this.new_eleve.assignationitineraires.length?"ramassage"!=this.new_eleve.type_inscription||1==this.new_eleve.assignationitineraires.length?"remisage"!=this.new_eleve.type_inscription||1==this.new_eleve.assignationitineraires.length?(console.log(this.new_eleve),L.post(this.baseUrlPage,this.new_eleve).then((e=>{console.log(e.data),this.$store.state.user?this.$router.push("/inscription/list"):this.login(this.new_eleve.user)})).catch((e=>{console.error(e)}))):this.errors.type_inscription="l nombre de l'itinéraire doit être egale à un car le type itineraire est remisage":this.errors.type_inscription="l enombre de l'itinéraire doit être egale à un car le type itineraire est ramassage":this.errors.type_inscription="le nombre de l'itinéraire doit être egale à deux car le type itineraire est ramasse et remisage"):this.new_eleve.user.password_error="les deux mots de passes ne se correspondent pas"},login(e){L.post(this.$obtainTokenUrl,e).then((e=>{console.log(e.data);const l=e.data.access,a=e.data.refresh;localStorage.setItem("refresh",a),localStorage.setItem("access",l),this.$router.push("/inscription/list")})).catch((e=>{console.error(e)}))},handleImageUploadNewEleve(e){const l=e.target.files[0];if(l){const e=new FileReader;e.onloadend=()=>{const l=e.result.split(",")[1];this.new_eleve.image=l},e.readAsDataURL(l)}},fecthDataEcole(e){L.get(e,{params:{paginate:!1,special_detail_manytoone_class:"['classes',]"}}).then((e=>{const l=e.data;this.ecoles=l.map((e=>({...e,value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des ecoles:",e)}))},fecthDataClasse(e){L.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.classes=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des classes:",e)}))},fecthDataLigne(e){L.get(e,{params:{paginate:!1,special_detail_manytoone_class:"['ordrelieus',]"}}).then((e=>{const l=e.data;this.lignes=l.map((e=>({...e,value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des lignes:",e)}))},fecthDataItineraire(e){L.get(e,{params:{paginate:!0,special_detail_manytoone_class:"['busassignations','ecoleassignations','horaires']"}}).then((e=>{const l=e.data;this.itineraires=l.results.map((e=>(e.horaires.length>0?(e.lieuDepart=e.horaires[0].pointArret,e.heureDepart=e.horaires[0].heureDebut,e.lieuArrivee=e.horaires[e.horaires.length-1].pointArret,e.heureArrivee=e.horaires[e.horaires.length-1].heureFin):(e.lieuDepart=null,e.heureDepart=null,e.lieuArrivee=null,e.heureArrivee=null),e))),console.log(this.itineraires)})).catch((e=>{console.error("Une erreur s'est produits lors de la récupération des itineraires:",e)}))},fecthDataLieuLigne(e){L.get(e,{params:{paginate:!1,special_detail_manytoone_class:"['lieuramassages',]"}}).then((e=>{const l=e.data;this.lieulignes=l.map((e=>({...e,value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des lignes:",e)}))},fecthDataLieuRamassage(e){L.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.lieu_ramassages=l.map((e=>({...e,value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des lignes:",e)}))}},mounted(){this.fecthDataEcole(this.baseUrlEcole),this.fecthDataClasse(this.baseUrlClasse),this.fecthDataLigne(this.baseUrlLigne),this.fecthDataLieuLigne(this.baseUrlLieuLigne),this.fecthDataLieuRamassage(this.baseUrlLieuRamassage),this.fecthDataItineraire(this.baseUrlItineraire)}};const Jt=(0,x.c)(Ot,[["render",Mt],["__scopeId","data-v-44992c50"]]);var Ft=Jt;const Gt=e=>((0,s.ED)("data-v-2aebf5e7"),e=e(),(0,s.ii)(),e),Ht={class:"cont-sep"},Xt=Gt((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Liste"),(0,s.mY)(),(0,s.QD)("span",null,"D'inscription")]),(0,s.QD)("div",{class:"line"})],-1))),jt={class:"actions"},Zt={class:"search-form"},es={class:"table-responsive"},ls={class:"table"},as=Gt((()=>(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("th",null,"N°"),(0,s.QD)("th",null,"Date Inscription"),(0,s.QD)("th",null,"Etat"),(0,s.QD)("th",null,"Nom"),(0,s.QD)("th",null,"Prénoms"),(0,s.QD)("th",null,"Ligne"),(0,s.QD)("th",null,"Type Inscription"),(0,s.QD)("th",null,"Lieu de Ramassage"),(0,s.QD)("th",null,"Lieu de Remisage"),(0,s.QD)("th",null,"Ecole"),(0,s.QD)("th",null,"Classe"),(0,s.QD)("th",null,"Date de naissance"),(0,s.QD)("th",null,"Image"),(0,s.QD)("th",null,"Actions")])],-1))),ts={key:0},ss={key:1},ns={key:2},is={key:3},rs=["src"],os=Gt((()=>(0,s.QD)("div",{class:"popup-buttons"},null,-1)));function us(e,l,a,i,r,o){const u=(0,s.E1)("font-awesome-icon"),d=(0,s.E1)("router-link");return(0,s.Wz)(),(0,s.An)("div",null,[(0,s.QD)("div",Ht,[Xt,(0,s.QD)("div",jt,[(0,s.K2)(d,{to:"/inscription",class:"btn btn-add"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","plus"]}),(0,s.mY)(" Nouveau inscription ")])),_:1})]),(0,s.QD)("div",Zt,[(0,s.wt)((0,s.QD)("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>r.searchQuery=e),placeholder:"Rechercher  élève ..."},null,512),[[t.Og,r.searchQuery]]),(0,s.K2)(u,{icon:["fas","magnifying-glass"],class:"icon"})]),(0,s.QD)("div",es,[(0,s.QD)("table",ls,[as,(0,s.K2)(t.Q9,{name:"eleve-table",tag:"tbody"},{default:(0,s.Ql)((()=>[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.eleves,(l=>((0,s.Wz)(),(0,s.An)("tr",{key:l.pk},[(0,s.QD)("td",null,(0,n.WA)(l.pk),1),(0,s.QD)("td",null,(0,n.WA)(l.date_inscription),1),(0,s.QD)("th",null,(0,n.WA)(l.etat),1),(0,s.QD)("td",null,(0,n.WA)(l.nom),1),(0,s.QD)("td",null,(0,n.WA)(l.prenoms),1),(0,s.QD)("td",null,(0,n.WA)(l.ligne),1),(0,s.QD)("td",null,(0,n.WA)(l.type_inscription),1),"ramasse et remisage"===l.type_inscription||"ramassage"===l.type_inscription?((0,s.Wz)(),(0,s.An)("td",ts,(0,n.WA)(l.lieu_ramassage),1)):((0,s.Wz)(),(0,s.An)("td",ss,"----------")),"ramasse et remisage"===l.type_inscription||"remisage"===l.type_inscription?((0,s.Wz)(),(0,s.An)("td",ns,(0,n.WA)(l.lieu_remisage),1)):((0,s.Wz)(),(0,s.An)("td",is,"----------")),(0,s.QD)("td",null,(0,n.WA)(l.ecole),1),(0,s.QD)("td",null,(0,n.WA)(l.classe),1),(0,s.QD)("td",null,(0,n.WA)(l.date_naissance),1),(0,s.QD)("td",null,[(0,s.QD)("img",{src:l.image,alt:""},null,8,rs)]),(0,s.QD)("td",null,[(0,s.K2)(d,{to:`/transport_scolaire/eleve/${e.$encryptId(l.pk)}/edit`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","file-pen"]})])),_:2},1032,["to"]),(0,s.K2)(d,{to:`/transport_scolaire/eleve/${e.$encryptId(l.pk)}/delete`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","x"]})])),_:2},1032,["to"])])])))),128))])),_:1})])]),os])])}var ds={name:"ElevePage",props:{baseUrl:String},data(){return{baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/eleves/`,eleves:[],searchQuery:"",startDate:"",endDate:"",current_page:2,nbr_page:10}},computed:{},methods:{fecthData(e){L.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.eleves=l.results})).catch((e=>{console.error("Une erreur s'est produit lors de la récupération des élèves:",e)}))}},mounted(){this.fecthData(this.baseUrlPage)}};const cs=(0,x.c)(ds,[["render",us],["__scopeId","data-v-2aebf5e7"]]);var ps=cs;const ms=e=>((0,s.ED)("data-v-54a3a9e3"),e=e(),(0,s.ii)(),e),hs={class:"global"},gs={class:"overview-boxes"},vs={class:"box"},Qs={class:"left-side"},_s=ms((()=>(0,s.QD)("div",{class:"box-topic"}," Elève Inscript ",-1))),Ds={class:"number"},fs=ms((()=>(0,s.QD)("div",{class:"indicator"},[(0,s.QD)("i",{class:"fa-solid fa-circle-up"})],-1))),As=ms((()=>(0,s.QD)("i",{class:"fa-solid fa-wallet cart"},null,-1))),bs={class:"box"},ws={class:"left-side"},Ks=ms((()=>(0,s.QD)("div",{class:"box-topic"}," Inscription en Attentes ",-1))),Vs={class:"number"},Us=ms((()=>(0,s.QD)("div",{class:"indicator"},[(0,s.QD)("i",{class:"fa-solid fa-circle-up"})],-1))),ks=ms((()=>(0,s.QD)("i",{class:"fa-solid fa-plus cart two"},null,-1))),Cs={class:"box"},Es={class:"left-side"},ys=ms((()=>(0,s.QD)("div",{class:"box-topic"}," Inscription Annulés ",-1))),Is={class:"number"},Ls=ms((()=>(0,s.QD)("div",{class:"indicator"},[(0,s.QD)("i",{class:"fa-solid fa-circle-up"}),(0,s.QD)("span",{class:"text"})],-1))),Ws=ms((()=>(0,s.QD)("i",{class:"fa-solid fa-plus cart three"},null,-1))),xs=(0,s.IL)('<div class="box" data-v-54a3a9e3><div class="left-side" data-v-54a3a9e3><div class="box-topic" data-v-54a3a9e3> Vehicule </div><div class="number" data-v-54a3a9e3>2</div><div class="indicator" data-v-54a3a9e3><i class="fa-solid fa-circle-up" data-v-54a3a9e3></i><span class="text" data-v-54a3a9e3>depuis hier</span></div></div><i class="fa-solid fa-plus cart four" data-v-54a3a9e3></i></div>',1),Ps={class:"row graphs"},$s={key:0,class:"col-12 col-md-6 graph"},zs=ms((()=>(0,s.QD)("h2",{class:"mb-4 text-center"},"Ligne / Elève",-1))),qs={key:1,class:"col-12 col-md-6 graph"},Bs=ms((()=>(0,s.QD)("h2",{class:"mb-4 text-center"},"Elève /Lieu",-1)));function Ss(e,l,a,t,i,r){const o=(0,s.E1)("Bar");return(0,s.Wz)(),(0,s.An)("div",hs,[(0,s.QD)("div",gs,[(0,s.QD)("div",vs,[(0,s.QD)("div",Qs,[_s,(0,s.QD)("div",Ds,(0,n.WA)(i.counts.eleve),1),fs]),As]),(0,s.QD)("div",bs,[(0,s.QD)("div",ws,[Ks,(0,s.QD)("div",Vs,(0,n.WA)(i.counts.inscription_en_attente),1),Us]),ks]),(0,s.QD)("div",Cs,[(0,s.QD)("div",Es,[ys,(0,s.QD)("div",Is,(0,n.WA)(i.counts.inscription_annule),1),Ls]),Ws]),xs]),(0,s.QD)("div",Ps,[i.chartData!={}?((0,s.Wz)(),(0,s.An)("div",$s,[zs,(0,s.K2)(o,{id:"my-chart-id",options:i.chartOptions,data:r.chartDataB()},null,8,["options","data"])])):(0,s.g1)("",!0),i.chartData!={}?((0,s.Wz)(),(0,s.An)("div",qs,[Bs,(0,s.K2)(o,{id:"my-chart-id",options:i.chartOptions,data:r.chartDataB()},null,8,["options","data"])])):(0,s.g1)("",!0)])])}var Ys=a(680),Rs=a(5284);Rs.kR.register(Rs.OY,Rs.o5,Rs.o9,Rs.kX,Rs.gv,Rs.KW);var Ns={name:"AboutPage",props:{msg:String},components:{Bar:Ys.UM},data(){return{baseUrlPage:`${this.$store.state.baseUrl}/api/counts/`,counts:{},chartData:{labels:["ANOSY-CNAPS","Anosizato-Anosy","Mapa"],backgroundColor:"#f87979",datasets:[{data:[80,60,12],backgroundColor:["#46a7b4","#C0F2D8","#f5719d"]}]},chartOptions:{responsive:!0}}},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.counts=l,this.chartData.labels=l.ligne_eleve.labels,this.chartData.datasets.data=l.ligne_eleve.values,this.chartData.datasets.backgroundColor=l.ligne_eleve.colors,this.chartData.backgroundColor="#f87979"})).catch((e=>{console.error("Une erreur s'est produit lors de la récupération des élèves:",e)}))},chartDataB(){return this.chartData}},mounted(){this.fecthData(this.baseUrlPage)}};const Ts=(0,x.c)(Ns,[["render",Ss],["__scopeId","data-v-54a3a9e3"]]);var Ms=Ts;const Os=e=>((0,s.ED)("data-v-6d71121b"),e=e(),(0,s.ii)(),e),Js={class:"cont-sep"},Fs=Os((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Liste Inscriptions"),(0,s.mY)(),(0,s.QD)("span",null," en Attente")]),(0,s.QD)("div",{class:"line"})],-1))),Gs={class:"actions"},Hs={class:"filter-form"},Xs={class:"item-group"},js={class:"item"},Zs=Os((()=>(0,s.QD)("label",null,"Date de début:",-1))),en={class:"item"},ln=Os((()=>(0,s.QD)("label",null,"Date de fin:",-1))),an=Os((()=>(0,s.QD)("div",{class:"item"},[(0,s.QD)("label",null,"Ligne:"),(0,s.QD)("select",{name:"",id:""},[(0,s.QD)("option",{value:""},"-------------------")])],-1))),tn={class:"search-form"},sn={class:"table-responsive"},nn={class:"table"},rn=Os((()=>(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("th",null,"N°"),(0,s.QD)("th",null,"Date Inscription"),(0,s.QD)("th",null,"Email"),(0,s.QD)("th",null,"Etat"),(0,s.QD)("th",null,"Nom et Prénom"),(0,s.QD)("th",null,"Ligne"),(0,s.QD)("th",null,"Lieu de Ramassage"),(0,s.QD)("th",null,"Ecole"),(0,s.QD)("th",null,"Classe"),(0,s.QD)("th",null,"Photo"),(0,s.QD)("th",null,"Actions")])],-1))),on={key:0},un={key:1},dn=["src"],cn={class:"pagination"},pn={class:"page"},mn=Os((()=>(0,s.QD)("span",null,"Page",-1))),hn={class:"btns"},gn=["disabled"],vn=["disabled"],Qn=Os((()=>(0,s.QD)("div",{class:"ads btn"}," . ",-1))),_n=Os((()=>(0,s.QD)("div",{class:"popup-buttons"},null,-1)));function Dn(e,l,a,i,r,o){const u=(0,s.E1)("font-awesome-icon"),d=(0,s.E1)("router-link");return(0,s.Wz)(),(0,s.An)("div",null,[(0,s.QD)("div",Js,[Fs,(0,s.QD)("div",Gs,[(0,s.K2)(d,{to:"/transport_scolaire/eleve/nouveau",class:"btn btn-add"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","plus"]}),(0,s.mY)(" Ajouter un nouveau élève ")])),_:1})]),(0,s.QD)("div",Hs,[(0,s.QD)("div",Xs,[(0,s.QD)("div",js,[Zs,(0,s.wt)((0,s.QD)("input",{type:"date","onUpdate:modelValue":l[0]||(l[0]=e=>r.startDate=e)},null,512),[[t.Og,r.startDate]])]),(0,s.QD)("div",en,[ln,(0,s.wt)((0,s.QD)("input",{type:"date","onUpdate:modelValue":l[1]||(l[1]=e=>r.endDate=e)},null,512),[[t.Og,r.endDate]])]),an]),(0,s.K2)(u,{icon:["fas","filter"],class:"icon"})]),(0,s.QD)("div",tn,[(0,s.wt)((0,s.QD)("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=e=>r.searchQuery=e),placeholder:"Rechercher  élève ..."},null,512),[[t.Og,r.searchQuery]]),(0,s.K2)(u,{icon:["fas","magnifying-glass"],class:"icon"})]),(0,s.QD)("div",sn,[(0,s.QD)("table",nn,[rn,(0,s.K2)(t.Q9,{name:"eleve-table",tag:"tbody"},{default:(0,s.Ql)((()=>[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.eleves,(l=>((0,s.Wz)(),(0,s.An)("tr",{key:l.pk},[(0,s.QD)("td",null,[(0,s.K2)(d,{to:`/transport_scolaire/inscription/${e.$encryptId(l.pk)}/detail`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.mY)((0,n.WA)(l.pk),1)])),_:2},1032,["to"])]),(0,s.QD)("td",null,(0,n.WA)(l.date_inscription),1),l.user?((0,s.Wz)(),(0,s.An)("td",on,(0,n.WA)(l.user),1)):(0,s.g1)("",!0),l.user?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("td",un,"-------------------")),(0,s.QD)("td",null,(0,n.WA)(l.etat),1),(0,s.QD)("td",null,(0,n.WA)(l.nom)+" "+(0,n.WA)(l.prenoms),1),(0,s.QD)("td",null,(0,n.WA)(l.ligne),1),(0,s.QD)("td",null,(0,n.WA)(l.lieu_ramassage),1),(0,s.QD)("td",null,(0,n.WA)(l.ecole),1),(0,s.QD)("td",null,(0,n.WA)(l.classe),1),(0,s.QD)("td",null,[(0,s.QD)("img",{src:l.image,alt:""},null,8,dn)]),(0,s.QD)("td",null,[(0,s.K2)(d,{to:`/transport_scolaire/inscription/${e.$encryptId(l.pk)}/detail`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","file-pen"]})])),_:2},1032,["to"])])])))),128))])),_:1})])]),(0,s.QD)("div",cn,[(0,s.QD)("div",pn,[mn,(0,s.mY)(),(0,s.QD)("span",null,(0,n.WA)(r.currentPage),1),(0,s.mY)(" sur "),(0,s.QD)("span",null,(0,n.WA)(e.nbrPage),1)]),(0,s.QD)("div",hn,[(0,s.QD)("button",{onClick:l[3]||(l[3]=e=>o.goToPage(r.previousPage)),disabled:!r.previousPage,class:"btn"},[(0,s.K2)(u,{icon:["fas","chevron-left"]})],8,gn),(0,s.QD)("button",{onClick:l[4]||(l[4]=e=>o.goToPage(r.previousPage)),class:"btn"},(0,n.WA)(r.currentPage),1),(0,s.QD)("button",{onClick:l[5]||(l[5]=e=>o.goToPage(r.nextPage)),disabled:!r.nextPage,class:"btn"},[(0,s.K2)(u,{icon:["fas","chevron-right"]})],8,vn)]),Qn]),_n])])}a(2168),a(5104),a(8312);var fn={name:"ElevePage",props:{baseUrl:String},data(){return{baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/eleves/`,eleves:[],count:null,previousPage:null,nextPage:null,searchQuery:"",startDate:"",endDate:"",currentPage:2,nbr_page:10}},computed:{},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0,search_filter_etat:"en_attente"}}).then((l=>{const a=l.data;let t;this.eleves=a.results,this.count=a.count,this.nextPage=a.next,this.previousPage=a.previous,a.next?(t=new URL(a.next),console.log("test1")):a.previous?(t=new URL(a.previous),console.log("test2")):(t=new URL(this.baseUrlPage),console.log("test")),t=new URL(e);const s=new URLSearchParams(t.search);this.currentPage=parseInt(s.get("page")),isNaN(this.currentPage)&&(this.currentPage=1),console.log("Page actuelle :",this.currentPage)})).catch((e=>{console.error("Une erreur s'est produit lors de la récupération des élèves:",e)}))},goToPage(e){this.fecthData(e)}},mounted(){this.fecthData(this.baseUrlPage)}};const An=(0,x.c)(fn,[["render",Dn],["__scopeId","data-v-6d71121b"]]);var bn=An;const wn=e=>((0,s.ED)("data-v-a36ee51c"),e=e(),(0,s.ii)(),e),Kn={class:"cont-sep"},Vn=wn((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Inscriptions"),(0,s.mY)(),(0,s.QD)("span",null," Annulée")]),(0,s.QD)("div",{class:"line"})],-1))),Un={class:"actions"},kn={class:"filter-form"},Cn={class:"item-group"},En={class:"item"},yn=wn((()=>(0,s.QD)("label",null,"Date de début:",-1))),In={class:"item"},Ln=wn((()=>(0,s.QD)("label",null,"Date de fin:",-1))),Wn=wn((()=>(0,s.QD)("div",{class:"item"},[(0,s.QD)("label",null,"Ligne:"),(0,s.QD)("select",{name:"",id:""},[(0,s.QD)("option",{value:""},"-------------------")])],-1))),xn={class:"search-form"},Pn={class:"table-responsive"},$n={class:"table"},zn=wn((()=>(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("th",null,"N°"),(0,s.QD)("th",null,"Date Inscription"),(0,s.QD)("th",null,"Email"),(0,s.QD)("th",null,"Etat"),(0,s.QD)("th",null,"Nom et Prénom"),(0,s.QD)("th",null,"Ligne"),(0,s.QD)("th",null,"Lieu de Ramassage"),(0,s.QD)("th",null,"Ecole"),(0,s.QD)("th",null,"Classe"),(0,s.QD)("th",null,"Photo"),(0,s.QD)("th",null,"Actions")])],-1))),qn=["src"],Bn={class:"pagination"},Sn={class:"page"},Yn=wn((()=>(0,s.QD)("span",null,"Page",-1))),Rn={class:"btns"},Nn=["disabled"],Tn=["disabled"],Mn=wn((()=>(0,s.QD)("div",{class:"ads btn"}," . ",-1))),On=wn((()=>(0,s.QD)("div",{class:"popup-buttons"},null,-1)));function Jn(e,l,a,i,r,o){const u=(0,s.E1)("font-awesome-icon"),d=(0,s.E1)("router-link");return(0,s.Wz)(),(0,s.An)("div",null,[(0,s.QD)("div",Kn,[Vn,(0,s.QD)("div",Un,[(0,s.K2)(d,{to:"/transport_scolaire/eleve/nouveau",class:"btn btn-add"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","plus"]}),(0,s.mY)(" Ajouter un nouveau élève ")])),_:1})]),(0,s.QD)("div",kn,[(0,s.QD)("div",Cn,[(0,s.QD)("div",En,[yn,(0,s.wt)((0,s.QD)("input",{type:"date","onUpdate:modelValue":l[0]||(l[0]=e=>r.startDate=e)},null,512),[[t.Og,r.startDate]])]),(0,s.QD)("div",In,[Ln,(0,s.wt)((0,s.QD)("input",{type:"date","onUpdate:modelValue":l[1]||(l[1]=e=>r.endDate=e)},null,512),[[t.Og,r.endDate]])]),Wn]),(0,s.K2)(u,{icon:["fas","filter"],class:"icon"})]),(0,s.QD)("div",xn,[(0,s.wt)((0,s.QD)("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=e=>r.searchQuery=e),placeholder:"Rechercher  élève ..."},null,512),[[t.Og,r.searchQuery]]),(0,s.K2)(u,{icon:["fas","magnifying-glass"],class:"icon"})]),(0,s.QD)("div",Pn,[(0,s.QD)("table",$n,[zn,(0,s.K2)(t.Q9,{name:"eleve-table",tag:"tbody"},{default:(0,s.Ql)((()=>[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.eleves,(l=>((0,s.Wz)(),(0,s.An)("tr",{key:l.pk},[(0,s.QD)("td",null,[(0,s.K2)(d,{to:`/transport_scolaire/inscription/${e.$encryptId(l.pk)}/detail`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.mY)((0,n.WA)(l.pk),1)])),_:2},1032,["to"])]),(0,s.QD)("td",null,(0,n.WA)(l.date_inscription),1),(0,s.QD)("th",null,(0,n.WA)(l.parent),1),(0,s.QD)("td",null,(0,n.WA)(l.etat),1),(0,s.QD)("td",null,(0,n.WA)(l.nom)+" "+(0,n.WA)(l.prenoms),1),(0,s.QD)("td",null,(0,n.WA)(l.ligne),1),(0,s.QD)("td",null,(0,n.WA)(l.lieu_ramassage),1),(0,s.QD)("td",null,(0,n.WA)(l.ecole),1),(0,s.QD)("td",null,(0,n.WA)(l.classe),1),(0,s.QD)("td",null,[(0,s.QD)("img",{src:l.image,alt:""},null,8,qn)]),(0,s.QD)("td",null,[(0,s.K2)(d,{to:`/transport_scolaire/inscription/${e.$encryptId(l.pk)}/detail`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","file-pen"]})])),_:2},1032,["to"])])])))),128))])),_:1})])]),(0,s.QD)("div",Bn,[(0,s.QD)("div",Sn,[Yn,(0,s.mY)(),(0,s.QD)("span",null,(0,n.WA)(r.currentPage),1),(0,s.mY)(" sur "),(0,s.QD)("span",null,(0,n.WA)(e.nbrPage),1)]),(0,s.QD)("div",Rn,[(0,s.QD)("button",{onClick:l[3]||(l[3]=e=>o.goToPage(r.previousPage)),disabled:!r.previousPage,class:"btn"},[(0,s.K2)(u,{icon:["fas","chevron-left"]})],8,Nn),(0,s.QD)("button",{onClick:l[4]||(l[4]=e=>o.goToPage(r.previousPage)),class:"btn"},(0,n.WA)(r.currentPage),1),(0,s.QD)("button",{onClick:l[5]||(l[5]=e=>o.goToPage(r.nextPage)),disabled:!r.nextPage,class:"btn"},[(0,s.K2)(u,{icon:["fas","chevron-right"]})],8,Tn)]),Mn]),On])])}var Fn={name:"ElevePage",props:{baseUrl:String},data(){return{baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/eleves/`,eleves:[],count:null,previousPage:null,nextPage:null,searchQuery:"",startDate:"",endDate:"",currentPage:2,nbr_page:10}},computed:{},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0,search_filter_etat:"annulé"}}).then((l=>{const a=l.data;let t;this.eleves=a.results,this.count=a.count,this.nextPage=a.next,this.previousPage=a.previous,a.next?(t=new URL(a.next),console.log("test1")):a.previous?(t=new URL(a.previous),console.log("test2")):(t=new URL(this.baseUrlPage),console.log("test")),t=new URL(e);const s=new URLSearchParams(t.search);this.currentPage=parseInt(s.get("page")),isNaN(this.currentPage)&&(this.currentPage=1),console.log("Page actuelle :",this.currentPage)})).catch((e=>{console.error("Une erreur s'est produit lors de la récupération des élèves:",e)}))},goToPage(e){this.fecthData(e)}},mounted(){this.fecthData(this.baseUrlPage)}};const Gn=(0,x.c)(Fn,[["render",Jn],["__scopeId","data-v-a36ee51c"]]);var Hn=Gn;const Xn=e=>((0,s.ED)("data-v-4093724e"),e=e(),(0,s.ii)(),e),jn={class:"container"},Zn={class:"row form-form form-75"},ei=Xn((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Detail Inscription"),(0,s.mY)(),(0,s.QD)("span",null,"Elève")]),(0,s.QD)("div",{class:"line"})],-1))),li={class:"col-12"},ai=Xn((()=>(0,s.QD)("span",null,"Valide Inscription",-1))),ti=Xn((()=>(0,s.QD)("span",null,"Annuler Inscription",-1))),si=Xn((()=>(0,s.QD)("h5",null,"Informations Elève",-1))),ni={class:"col-12 col-md-6"},ii=["src"],ri={class:"col-12 col-md-6"},oi={class:"table-responsive"},ui={class:"table"},di=Xn((()=>(0,s.QD)("td",null,"Nom",-1))),ci=Xn((()=>(0,s.QD)("td",null,"Prénoms",-1))),pi=Xn((()=>(0,s.QD)("td",null,"Date de Naissance",-1))),mi=Xn((()=>(0,s.QD)("td",null,"Adresse",-1))),hi=Xn((()=>(0,s.QD)("td",null,"Ecole",-1))),gi={key:0},vi={key:1},Qi=Xn((()=>(0,s.QD)("td",null,"Classe",-1))),_i={key:0},Di={key:1},fi=Xn((()=>(0,s.QD)("td",null,"Adresse",-1))),Ai={class:"col-12 col-md-6"},bi=Xn((()=>(0,s.QD)("h5",null,"Informations Parent de l'élève",-1))),wi={class:"table-responsive"},Ki={class:"table"},Vi=Xn((()=>(0,s.QD)("td",null,"Père",-1))),Ui=Xn((()=>(0,s.QD)("td",null,"Tel",-1))),ki=Xn((()=>(0,s.QD)("td",null,"Mère",-1))),Ci=Xn((()=>(0,s.QD)("td",null,"Tel",-1))),Ei={class:"col-12 col-md-6"},yi=Xn((()=>(0,s.QD)("h5",null,"Informations Inscripion ",-1))),Ii={class:"table-responsive"},Li={class:"table"},Wi=Xn((()=>(0,s.QD)("td",null,"Ligne",-1))),xi=Xn((()=>(0,s.QD)("td",null,"Lieu Ligne",-1))),Pi=Xn((()=>(0,s.QD)("td",null,"Lieu de Ramassage",-1))),$i=Xn((()=>(0,s.QD)("h5",null,"Itineraire Associé",-1))),zi={class:"table-responsive"},qi={class:""},Bi={class:""},Si={class:""},Yi={class:"col-12 col-md-3"},Ri=Xn((()=>(0,s.QD)("h5",null,"Informations Compte de L'Utilisateur ",-1))),Ni={class:"col-12 col-md-6"},Ti={class:"table-responsive"},Mi={class:"table"},Oi=Xn((()=>(0,s.QD)("td",null,"Nom d'utlisateur",-1))),Ji={key:0},Fi={key:1},Gi=Xn((()=>(0,s.QD)("td",null,"Email",-1))),Hi={key:0},Xi={key:1},ji=Xn((()=>(0,s.QD)("td",null,"Role",-1))),Zi={key:0},er={key:1},lr={class:"col-12 col-md-6"},ar=Xn((()=>(0,s.QD)("span",null,"Valide Inscription",-1))),tr=Xn((()=>(0,s.QD)("span",null,"Annuler Inscription",-1)));function sr(e,l,a,t,i,r){const o=(0,s.E1)("font-awesome-icon"),u=(0,s.E1)("b-button"),d=(0,s.E1)("b-form-select"),c=(0,s.E1)("b-form-group");return(0,s.Wz)(),(0,s.An)("div",jn,[(0,s.QD)("div",Zn,[ei,(0,s.QD)("div",li,[(0,s.K2)(u,{type:"submit",variant:"",onClick:r.valideInscription,class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{icon:["fas","floppy-disk"]}),ai])),_:1},8,["onClick"]),(0,s.K2)(u,{type:"submit",variant:"",onClick:r.annulerInscription,class:"btn btn-outline-danger text-danger"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{icon:["fas","floppy-disk"]}),ti])),_:1},8,["onClick"])]),si,(0,s.QD)("div",ni,[(0,s.QD)("img",{src:i.detail_eleve.image,alt:""},null,8,ii)]),(0,s.QD)("div",ri,[(0,s.QD)("div",oi,[(0,s.QD)("div",ui,[(0,s.QD)("tbody",null,[(0,s.QD)("tr",null,[di,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.nom),1)]),(0,s.QD)("tr",null,[ci,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.prenoms),1)]),(0,s.QD)("tr",null,[pi,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.date_naissance),1)]),(0,s.QD)("tr",null,[mi,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.adresse),1)]),(0,s.QD)("tr",null,[hi,i.detail_eleve.ecole?((0,s.Wz)(),(0,s.An)("td",gi,(0,n.WA)(i.detail_eleve.ecole.repr),1)):(0,s.g1)("",!0),i.detail_eleve.ecole?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("td",vi,"---------------"))]),(0,s.QD)("tr",null,[Qi,i.detail_eleve.classe?((0,s.Wz)(),(0,s.An)("td",_i,(0,n.WA)(i.detail_eleve.classe.repr),1)):(0,s.g1)("",!0),i.detail_eleve.classe?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("td",Di,"--------------"))]),(0,s.QD)("tr",null,[fi,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.adresse),1)])])])])]),(0,s.QD)("div",Ai,[bi,(0,s.QD)("div",wi,[(0,s.QD)("div",Ki,[(0,s.QD)("tbody",null,[(0,s.QD)("tr",null,[Vi,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.parent.nom_pere),1)]),(0,s.QD)("tr",null,[Ui,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.parent.tel_pere),1)]),(0,s.QD)("tr",null,[ki,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.parent.nom_mere),1)]),(0,s.QD)("tr",null,[Ci,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.parent.tel_mere),1)])])])])]),(0,s.QD)("div",Ei,[yi,(0,s.QD)("div",Ii,[(0,s.QD)("div",Li,[(0,s.QD)("tbody",null,[(0,s.QD)("tr",null,[Wi,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.ligne.repr),1)]),(0,s.QD)("tr",null,[xi,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.lieu_ramassage.lieu_ligne.repr),1)]),(0,s.QD)("tr",null,[Pi,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.lieu_ramassage.repr),1)])])])])]),$i,(0,s.QD)("div",zi,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(i.detail_eleve.assignationitineraires,(a=>((0,s.Wz)(),(0,s.An)("div",{class:"itineraire row",key:a.pk},[(0,s.QD)("div",qi,[(0,s.QD)("span",null,(0,n.WA)(a.itineraire.pk),1)]),((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(a.itineraire.horaires,(e=>((0,s.Wz)(),(0,s.An)("div",{class:"col-12 col-md-3",key:e.pk},[(0,s.QD)("div",Bi,[(0,s.QD)("strong",null,(0,n.WA)(e.pointArret.nom_lieu),1)]),(0,s.QD)("div",Si,[(0,s.QD)("span",null,(0,n.WA)(e.heureDebut),1),(0,s.mY)(" - "),(0,s.QD)("span",null,(0,n.WA)(e.heureFin),1)])])))),128)),(0,s.QD)("div",Yi,[(0,s.K2)(c,{label:"Bus Associé :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{onInput:e=>r.handleSelectBus(a.pk,a.itineraire.pk,e),modelValue:e.new_bus,"onUpdate:modelValue":l[0]||(l[0]=l=>e.new_bus=l),options:i.buss},null,8,["onInput","modelValue","options"])])),_:2},1024)])])))),128))]),Ri,(0,s.QD)("div",Ni,[(0,s.QD)("div",Ti,[(0,s.QD)("div",Mi,[(0,s.QD)("tbody",null,[(0,s.QD)("tr",null,[Oi,i.detail_eleve.user?((0,s.Wz)(),(0,s.An)("td",Ji,(0,n.WA)(i.detail_eleve.user.username),1)):(0,s.g1)("",!0),i.detail_eleve.user?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("td",Fi,"-----------------"))]),(0,s.QD)("tr",null,[Gi,i.detail_eleve.user?((0,s.Wz)(),(0,s.An)("td",Hi,(0,n.WA)(i.detail_eleve.user.email),1)):(0,s.g1)("",!0),i.detail_eleve.user?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("td",Xi,"------------------"))]),(0,s.QD)("tr",null,[ji,i.detail_eleve.user?((0,s.Wz)(),(0,s.An)("td",Zi,(0,n.WA)(i.detail_eleve.user.role),1)):(0,s.g1)("",!0),i.detail_eleve.user?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("td",er,"---------------------"))])])])])]),(0,s.QD)("div",lr,[(0,s.K2)(u,{type:"submit",variant:"",onClick:r.valideInscription,class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{icon:["fas","floppy-disk"]}),ar])),_:1},8,["onClick"]),(0,s.K2)(u,{type:"submit",variant:"",onClick:r.annulerInscription,class:"btn btn-outline-danger text-danger"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{icon:["fas","floppy-disk"]}),tr])),_:1},8,["onClick"])])])])}var nr={name:"EleveEditPage",mounted(){const e=this.$route.params.id,l=this.$decryptId(e);console.log(l),this.url=`${this.$store.state.baseUrl}/api/transport_scolaire/eleves/${l}/`,this.fecthData(this.url),this.fecthDateBus(this.baseUrlBus)},data(){return{url:"",baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/eleves/`,baseUrlEcole:`${this.$store.state.baseUrl}/api/transport_scolaire/ecoles/`,baseUrlClasse:`${this.$store.state.baseUrl}/api/transport_scolaire/classes/`,baseUrlBus:`${this.$store.state.baseUrl}/api/transport_scolaire/buss/`,baseUrlItineraireBusAssignation:`${this.$store.state.baseUrl}/api/ts/assignation_itineraire_bus`,baseUrlLigne:`${this.$store.state.baseUrl}/api/transport_scolaire/lignes/`,baseUrlLieuLigne:`${this.$store.state.baseUrl}/api/transport_scolaire/lieulignes/`,baseUrlieuRamassage:`${this.$store.state.baseUrl}/api/transport_scolaire/lieuramassages/`,detail_eleve:{nom:"",prenoms:"",date_naissance:"",etat:"",ecole:{repr:""},classe:{repr:""},ligne:"",lieu_ligne:"",lieu_ramassage:{repr:"",lieu_ligne:{repr:""}},parent:{nom_mere:"",nom_pere:"",tel_pere:"",tel_mere:""},user:{username:"",email:"",role:""}},ecoles:[],buss:[],classes:[],lignes:[],lieulignes:[],lieuramassages:[],assignationitineraires:[]}},methods:{handleSelectBus(e,l,a){const t=this.assignationitineraires.findIndex((e=>e.itineraire==l));if(-1==t){const t={pk:e,eleve:this.detail_eleve.pk,itineraire:l,bus:a};this.assignationitineraires.push(t),this.assignationitineraires.find((e=>e.itineraire==l))}else{const e=this.assignationitineraires.findIndex((e=>e.itineraire==l));this.assignationitineraires[e].bus=a}},fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.detail_eleve=l})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des eleves:",e)}))},valideInscription(){this.detail_eleve.etat="validé",console.log(this.assignationitineraires),y.c.post(this.baseUrlItineraireBusAssignation,this.assignationitineraires).then((e=>{console.log(e.data),y.c.put(this.url,{validation:!0,etat:"validé"}).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/inscription")})).catch((e=>{console.error(e)}))})).catch((e=>{console.error(e)}))},annulerInscription(){this.detail_eleve.etat="validé",y.c.put(this.url,{annulation:!0,etat:"annulé"}).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/inscription")})).catch((e=>{console.error(e)}))},fecthDataEcole(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.ecoles=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des ecoles:",e)}))},fecthDateBus(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.buss=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est produit lors de la récupération des buss:",e)}))},fecthDataClasse(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.classes=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des classes:",e)}))},fecthDataLigne(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.lignes=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des lignes:",e)}))},fecthDataLieuLigne(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.lieulignes=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des lignes:",e)}))},fecthDataLieuRamassage(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.lieuramassages=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des lignes:",e)}))}}};const ir=(0,x.c)(nr,[["render",sr],["__scopeId","data-v-4093724e"]]);var rr=ir;const or=e=>((0,s.ED)("data-v-d62037f8"),e=e(),(0,s.ii)(),e),ur={class:"container"},dr={class:"title"},cr=or((()=>(0,s.QD)("span",null,"Suppression",-1))),pr=or((()=>(0,s.QD)("span",null,"Inscripion",-1))),mr={key:0,class:"alert alert-danger"},hr=or((()=>(0,s.QD)("div",{class:"line"},null,-1)));function gr(e,l,a,i,r,o){return(0,s.Wz)(),(0,s.An)("div",ur,[(0,s.QD)("form",{onSubmit:l[2]||(l[2]=(0,t.Y7)(((...l)=>e.deleteLieuLigne&&e.deleteLieuLigne(...l)),["prevent"])),class:"row form-form form-75"},[(0,s.QD)("div",dr,[(0,s.QD)("h4",null,[cr,(0,s.mY)(),pr,(0,s.QD)("p",null,(0,n.WA)(r.edit_eleve.repr),1)]),e.showDeleteAlert?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("div",mr,[(0,s.mY)(" Êtes-vous sûr de vouloir supprimer ce eleve ? Cette action est irréversible. "),(0,s.QD)("button",{class:"btn btn-danger",onClick:l[0]||(l[0]=(...e)=>o.confirmDelete&&o.confirmDelete(...e))},"Confirmer"),(0,s.QD)("button",{class:"btn btn-secondary",onClick:l[1]||(l[1]=(...e)=>o.cancelDelete&&o.cancelDelete(...e))},"Annuler")])),hr])],32)])}var vr={name:"LieuLigneCreatePage",mounted(){const e=this.$route.params.id,l=this.$decryptId(e);console.log(l),this.url=`${this.$store.state.baseUrl}/api/transport_scolaire/eleves/${l}/`,this.fecthData(this.url)},data(){return{url:"",baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/eleves/`,edit_eleve:{nom:"",prenoms:"",email:"",tel:"",repr:""}}},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.edit_eleve={...l}})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des eleves:",e)}))},confirmDelete(){y.c.delete(this.url,this.edit_eleve).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/eleve")})).catch((e=>{console.error(e)}))},cancelDelete(){this.$router.push("/transport_scolaire/eleve")}}};const Qr=(0,x.c)(vr,[["render",gr],["__scopeId","data-v-d62037f8"]]);var _r=Qr;const Dr=e=>((0,s.ED)("data-v-4ba7c15d"),e=e(),(0,s.ii)(),e),fr={class:"cont-sep"},Ar=Dr((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Liste"),(0,s.mY)(),(0,s.QD)("span",null,"Elèves")]),(0,s.QD)("div",{class:"line"})],-1))),br={class:"actions"},wr={class:"filter-form"},Kr={class:"item-group"},Vr={class:"item"},Ur=Dr((()=>(0,s.QD)("label",null,"Date de début:",-1))),kr={class:"item"},Cr=Dr((()=>(0,s.QD)("label",null,"Date de fin:",-1))),Er=Dr((()=>(0,s.QD)("div",{class:"item"},[(0,s.QD)("label",null,"Ligne:"),(0,s.QD)("select",{name:"",id:""},[(0,s.QD)("option",{value:""},"-------------------")])],-1))),yr={class:"search-form"},Ir={class:"table-responsive"},Lr={class:"table"},Wr=Dr((()=>(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("th",null,"N°"),(0,s.QD)("th",null,"Date Inscription"),(0,s.QD)("th",null,"Nom"),(0,s.QD)("th",null,"Prénoms"),(0,s.QD)("th",null,"Ligne"),(0,s.QD)("th",null,"Lieu de Ramassage"),(0,s.QD)("th",null,"Ecole"),(0,s.QD)("th",null,"Classe"),(0,s.QD)("th",null,"Date de naissance"),(0,s.QD)("th",null,"Image"),(0,s.QD)("th",null,"Actions")])],-1))),xr=["src"],Pr={class:"pagination"},$r={class:"page"},zr=Dr((()=>(0,s.QD)("span",null,"Page",-1))),qr={class:"btns"},Br=["disabled"],Sr=["disabled"],Yr=Dr((()=>(0,s.QD)("div",{class:"ads btn"}," . ",-1))),Rr=Dr((()=>(0,s.QD)("div",{class:"popup-buttons"},null,-1)));function Nr(e,l,a,i,r,o){const u=(0,s.E1)("font-awesome-icon"),d=(0,s.E1)("router-link");return(0,s.Wz)(),(0,s.An)("div",null,[(0,s.QD)("div",fr,[Ar,(0,s.QD)("div",br,[(0,s.K2)(d,{to:"/transport_scolaire/eleve/nouveau",class:"btn btn-add"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","plus"]}),(0,s.mY)(" Ajouter un nouveau élève ")])),_:1})]),(0,s.QD)("div",wr,[(0,s.QD)("div",Kr,[(0,s.QD)("div",Vr,[Ur,(0,s.wt)((0,s.QD)("input",{type:"date","onUpdate:modelValue":l[0]||(l[0]=e=>r.startDate=e)},null,512),[[t.Og,r.startDate]])]),(0,s.QD)("div",kr,[Cr,(0,s.wt)((0,s.QD)("input",{type:"date","onUpdate:modelValue":l[1]||(l[1]=e=>r.endDate=e)},null,512),[[t.Og,r.endDate]])]),Er]),(0,s.K2)(u,{icon:["fas","filter"],class:"icon"})]),(0,s.QD)("div",yr,[(0,s.wt)((0,s.QD)("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=e=>r.searchQuery=e),placeholder:"Rechercher  élève ..."},null,512),[[t.Og,r.searchQuery]]),(0,s.K2)(u,{icon:["fas","magnifying-glass"],class:"icon"})]),(0,s.QD)("div",Ir,[(0,s.QD)("table",Lr,[Wr,(0,s.QD)("tbody",null,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.eleves,(l=>((0,s.Wz)(),(0,s.An)("tr",{key:l.pk},[(0,s.QD)("td",null,[(0,s.K2)(d,{to:`/transport_scolaire/eleve/${e.$encryptId(l.pk)}/detail`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.mY)((0,n.WA)(l.pk),1)])),_:2},1032,["to"])]),(0,s.QD)("td",null,(0,n.WA)(l.date_inscription),1),(0,s.QD)("td",null,(0,n.WA)(l.nom),1),(0,s.QD)("td",null,(0,n.WA)(l.prenoms),1),(0,s.QD)("td",null,(0,n.WA)(l.ligne),1),(0,s.QD)("td",null,(0,n.WA)(l.lieu_ramassage),1),(0,s.QD)("td",null,(0,n.WA)(l.ecole),1),(0,s.QD)("td",null,(0,n.WA)(l.classe),1),(0,s.QD)("td",null,(0,n.WA)(l.date_naissance),1),(0,s.QD)("td",null,[(0,s.QD)("img",{src:l.image,alt:""},null,8,xr)]),(0,s.QD)("td",null,[(0,s.K2)(d,{to:`/transport_scolaire/eleve/${e.$encryptId(l.pk)}/edit`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","file-pen"]})])),_:2},1032,["to"]),(0,s.K2)(d,{to:`/transport_scolaire/eleve/${e.$encryptId(l.pk)}/delete`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","x"]})])),_:2},1032,["to"])])])))),128))])])]),(0,s.QD)("div",Pr,[(0,s.QD)("div",$r,[zr,(0,s.mY)(),(0,s.QD)("span",null,(0,n.WA)(r.currentPage),1),(0,s.mY)(" sur "),(0,s.QD)("span",null,(0,n.WA)(r.nbrPage),1)]),(0,s.QD)("div",qr,[(0,s.QD)("button",{onClick:l[3]||(l[3]=e=>o.goToPage(r.previousPage)),disabled:!r.previousPage,class:"btn"},[(0,s.K2)(u,{icon:["fas","chevron-left"]})],8,Br),(0,s.QD)("button",{onClick:l[4]||(l[4]=e=>o.goToPage(r.previousPage)),class:"btn"},(0,n.WA)(r.currentPage),1),(0,s.QD)("button",{onClick:l[5]||(l[5]=e=>o.goToPage(r.nextPage)),disabled:!r.nextPage,class:"btn"},[(0,s.K2)(u,{icon:["fas","chevron-right"]})],8,Sr)]),Yr]),Rr])])}var Tr={name:"ElevePage",props:{baseUrl:String},data(){return{baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/eleves/`,eleves:[],count:null,previousPage:null,nextPage:null,searchQuery:"",startDate:"",endDate:"",currentPage:1,nbrPage:10}},computed:{},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0,search_filter_etat:"validé"}}).then((l=>{const a=l.data;let t;this.eleves=a.results,this.count=a.count,this.nextPage=a.next,this.previousPage=a.previous,a.next?(t=new URL(a.next),console.log("test1")):a.previous?(t=new URL(a.previous),console.log("test2")):(t=new URL(this.baseUrlPage),console.log("test")),t=new URL(e);const s=new URLSearchParams(t.search);this.currentPage=parseInt(s.get("page")),isNaN(this.currentPage)&&(this.currentPage=1),console.log("Page actuelle :",this.currentPage)})).catch((e=>{console.error("Une erreur s'est produit lors de la récupération des élèves:",e)}))},goToPage(e){console.log(e),this.fecthData(e)}},mounted(){this.fecthData(this.baseUrlPage)}};const Mr=(0,x.c)(Tr,[["render",Nr],["__scopeId","data-v-4ba7c15d"]]);var Or=Mr;const Jr=e=>((0,s.ED)("data-v-24a90634"),e=e(),(0,s.ii)(),e),Fr={class:"container"},Gr=Jr((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Ajout"),(0,s.mY)(),(0,s.QD)("span",null,"Elève")]),(0,s.QD)("div",{class:"line"})],-1))),Hr=Jr((()=>(0,s.QD)("h5",null,"Informations Elève",-1))),Xr={class:"col-12 col-md-6"},jr={class:"text-danger"},Zr={class:"col-12 col-md-6"},eo={class:"text-danger"},lo={class:"col-12"},ao={class:"text-danger"},to={class:"col-12 col-md-6"},so={class:"text-danger"},no={key:0,class:"row col-12 col-md-6"},io={class:"col-10"},ro={class:"text-danger"},oo={class:"col-2"},uo=Jr((()=>(0,s.QD)("label",{for:""},"Autre Classe",-1))),co={key:1,v:"",class:"row col-12 col-md-6"},po={class:"col-10"},mo={class:"text-danger"},ho={class:"col-2"},go=Jr((()=>(0,s.QD)("label",{for:""},"Autre Classe",-1))),vo={class:"col-12 col-md-6"},Qo={class:"text-danger"},_o={class:"col-12"},Do={class:"text-danger"},fo={class:"col-12 col-md-6"},Ao={class:"text-danger"},bo={class:"col-12 col-md-6"},wo={class:"text-danger"},Ko={key:2,class:"row"},Vo={class:"col-10"},Uo={class:"text-danger"},ko={class:"col-2 checkbox"},Co=Jr((()=>(0,s.QD)("label",{for:""}," Autre Lieu de ramassage au lieu ",-1))),Eo={key:3,class:"row"},yo={class:"col-11 checkbox"},Io={class:"col-1 checkbox"},Lo=Jr((()=>(0,s.QD)("label",{for:""}," Autre Lieu de ramassage au lieu ",-1))),Wo=Jr((()=>(0,s.QD)("h5",null,"Informations Parent Elève",-1))),xo={class:"col-12 col-md-6"},Po={class:"text-danger"},$o={class:"col-12 col-md-6"},zo={class:"text-danger"},qo={class:"col-12 col-md-6"},Bo={class:"text-danger"},So={class:"col-12 col-md-6"},Yo={class:"text-danger"},Ro=Jr((()=>(0,s.QD)("h5",null,"Informations Compte d'utilisateur Elève",-1))),No=Jr((()=>(0,s.QD)("span",null,"Enregistrer",-1)));function To(e,l,a,i,r,o){const u=(0,s.E1)("b-form-input"),d=(0,s.E1)("b-form-group"),c=(0,s.E1)("b-form-select"),p=(0,s.E1)("font-awesome-icon"),m=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",Fr,[(0,s.QD)("form",{onSubmit:l[20]||(l[20]=(0,t.Y7)(((...e)=>o.addEleve&&o.addEleve(...e)),["prevent"])),class:"row form-form form-75"},[Gr,Hr,(0,s.QD)("div",Xr,[(0,s.K2)(d,{label:"nom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{id:"nom",modelValue:r.new_eleve.nom,"onUpdate:modelValue":l[0]||(l[0]=e=>r.new_eleve.nom=e),required:""},null,8,["modelValue"])])),_:1}),(0,s.QD)("div",jr,(0,n.WA)(r.new_eleve.nom_error),1)]),(0,s.QD)("div",Zr,[(0,s.K2)(d,{label:"Prénom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{id:"prenoms",modelValue:r.new_eleve.prenoms,"onUpdate:modelValue":l[1]||(l[1]=e=>r.new_eleve.prenoms=e),required:""},null,8,["modelValue"])])),_:1}),(0,s.QD)("div",eo,(0,n.WA)(r.new_eleve.prenoms_error),1)]),(0,s.QD)("div",lo,[(0,s.K2)(d,{label:"Date Naissance :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{id:"date_naissance",modelValue:r.new_eleve.date_naissance,"onUpdate:modelValue":l[2]||(l[2]=e=>r.new_eleve.date_naissance=e),type:"date",required:""},null,8,["modelValue"])])),_:1}),(0,s.QD)("div",ao,(0,n.WA)(r.new_eleve.date_naissance_error),1)]),(0,s.QD)("div",to,[(0,s.K2)(d,{label:"Ecole :"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{modelValue:r.new_eleve.ecole,"onUpdate:modelValue":l[3]||(l[3]=e=>r.new_eleve.ecole=e),options:r.ecoles,required:""},null,8,["modelValue","options"])])),_:1}),(0,s.QD)("div",so,(0,n.WA)(r.new_eleve.ecole_error),1)]),r.new_eleve.create_classe?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("div",no,[(0,s.QD)("div",io,[(0,s.K2)(d,{label:"Classe :"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{modelValue:r.new_eleve.classe,"onUpdate:modelValue":l[4]||(l[4]=e=>r.new_eleve.classe=e),options:r.classes,required:""},null,8,["modelValue","options"])])),_:1}),(0,s.QD)("div",ro,(0,n.WA)(r.new_eleve.classe_error),1)]),(0,s.QD)("div",oo,[(0,s.wt)((0,s.QD)("input",{"onUpdate:modelValue":l[5]||(l[5]=e=>r.new_eleve.create_classe=e),type:"checkbox"},null,512),[[t.cV,r.new_eleve.create_classe]]),uo])])),r.new_eleve.create_classe?((0,s.Wz)(),(0,s.An)("div",co,[(0,s.QD)("div",po,[(0,s.K2)(d,{label:"Nouvel classe :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.new_eleve.new_classe.nom,"onUpdate:modelValue":l[6]||(l[6]=e=>r.new_eleve.new_classe.nom=e)},null,8,["modelValue"])])),_:1}),(0,s.QD)("div",mo,(0,n.WA)(r.new_eleve.classe_error),1)]),(0,s.QD)("div",ho,[(0,s.wt)((0,s.QD)("input",{"onUpdate:modelValue":l[7]||(l[7]=e=>r.new_eleve.create_classe=e),type:"checkbox"},null,512),[[t.cV,r.new_eleve.create_classe]]),go])])):(0,s.g1)("",!0),(0,s.QD)("div",vo,[(0,s.K2)(d,{label:"Image :"},{default:(0,s.Ql)((()=>[(0,s.QD)("input",{type:"file",accept:"image/*",onChange:l[8]||(l[8]=(...e)=>o.handleImageUploadNewEleve&&o.handleImageUploadNewEleve(...e))},null,32)])),_:1}),(0,s.QD)("div",Qo,(0,n.WA)(r.new_eleve.image_error),1)]),(0,s.QD)("div",_o,[(0,s.K2)(d,{label:"Adresse :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.new_eleve.adresse,"onUpdate:modelValue":l[9]||(l[9]=e=>r.new_eleve.adresse=e),required:""},null,8,["modelValue"])])),_:1}),(0,s.QD)("div",Do,(0,n.WA)(r.new_eleve.adresse_error),1)]),(0,s.QD)("div",fo,[(0,s.K2)(d,{label:"Ligne de bus :"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{modelValue:r.new_eleve.ligne,"onUpdate:modelValue":l[10]||(l[10]=e=>r.new_eleve.ligne=e),options:r.lignes,required:""},null,8,["modelValue","options"])])),_:1}),(0,s.QD)("div",Ao,(0,n.WA)(r.new_eleve.ligne_error),1)]),(0,s.QD)("div",bo,[(0,s.K2)(d,{label:"Lieu de ligne :"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{modelValue:r.new_eleve.lieuligne,"onUpdate:modelValue":l[11]||(l[11]=e=>r.new_eleve.lieuligne=e),options:r.lieulignes,required:""},null,8,["modelValue","options"])])),_:1}),(0,s.QD)("div",wo,(0,n.WA)(r.new_eleve.lieuligne_error),1)]),r.new_eleve.create_lieu_ramassage?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("div",Ko,[(0,s.QD)("div",Vo,[(0,s.K2)(d,{label:"Lieu de ramassage :"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{modelValue:r.new_eleve.lieu_ramassage,"onUpdate:modelValue":l[12]||(l[12]=e=>r.new_eleve.lieu_ramassage=e),options:r.lieu_ramassages},null,8,["modelValue","options"])])),_:1}),(0,s.QD)("div",Uo,(0,n.WA)(r.new_eleve.lieu_ramassage_error),1)]),(0,s.QD)("div",ko,[(0,s.wt)((0,s.QD)("input",{type:"checkbox","onUpdate:modelValue":l[13]||(l[13]=e=>r.new_eleve.create_lieu_ramassage=e)},null,512),[[t.cV,r.new_eleve.create_lieu_ramassage]]),Co])])),r.new_eleve.create_lieu_ramassage?((0,s.Wz)(),(0,s.An)("div",Eo,[(0,s.QD)("div",yo,[(0,s.K2)(d,{label:"Nouveau Lieu de Ramassage :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{id:"Lieu de Ramassage ",modelValue:r.new_eleve.new_lieu_ramassage.nom_lieu,"onUpdate:modelValue":l[14]||(l[14]=e=>r.new_eleve.new_lieu_ramassage.nom_lieu=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Io,[(0,s.wt)((0,s.QD)("input",{type:"checkbox","onUpdate:modelValue":l[15]||(l[15]=e=>r.new_eleve.create_lieu_ramassage=e)},null,512),[[t.cV,r.new_eleve.create_lieu_ramassage]]),Lo])])):(0,s.g1)("",!0),Wo,(0,s.QD)("div",xo,[(0,s.K2)(d,{label:"Nom Père :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.new_eleve.parent.nom_pere,"onUpdate:modelValue":l[16]||(l[16]=e=>r.new_eleve.parent.nom_pere=e),required:""},null,8,["modelValue"])])),_:1}),(0,s.QD)("div",Po,(0,n.WA)(r.new_eleve.parent.nom_pere_error),1)]),(0,s.QD)("div",$o,[(0,s.K2)(d,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.new_eleve.parent.tel_pere,"onUpdate:modelValue":l[17]||(l[17]=e=>r.new_eleve.parent.tel_pere=e),required:""},null,8,["modelValue"])])),_:1}),(0,s.QD)("div",zo,(0,n.WA)(r.new_eleve.parent.tel_pere_error),1)]),(0,s.QD)("div",qo,[(0,s.K2)(d,{label:"Nom Mère :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.new_eleve.parent.nom_mere,"onUpdate:modelValue":l[18]||(l[18]=e=>r.new_eleve.parent.nom_mere=e),required:""},null,8,["modelValue"])])),_:1}),(0,s.QD)("div",Bo,(0,n.WA)(r.new_eleve.parent.nom_mere_error),1)]),(0,s.QD)("div",So,[(0,s.K2)(d,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.new_eleve.parent.tel_mere,"onUpdate:modelValue":l[19]||(l[19]=e=>r.new_eleve.parent.tel_mere=e),required:""},null,8,["modelValue"])])),_:1}),(0,s.QD)("div",Yo,(0,n.WA)(r.new_eleve.parent.tel_mere_error),1)]),Ro,(0,s.K2)(m,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(p,{icon:["fas","floppy-disk"]}),No])),_:1})],32)])}var Mo={name:"EleveCreatePage",props:{baseUrl:String},watch:{"new_eleve.ligne":function(e,l){this.new_eleve.new_lieu_ramassage.ligne=e},"new_eleve.lieuligne":function(e,l){this.new_eleve.new_lieu_ramassage.lieu_ligne=e}},data(){return{baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/eleves/`,baseUrlEcole:`${this.$store.state.baseUrl}/api/transport_scolaire/ecoles/`,baseUrlClasse:`${this.$store.state.baseUrl}/api/transport_scolaire/classes/`,baseUrlLigne:`${this.$store.state.baseUrl}/api/transport_scolaire/lignes/`,baseUrlLieuLigne:`${this.$store.state.baseUrl}/api/transport_scolaire/lieulignes/`,baseUrlLieuRamassage:`${this.$store.state.baseUrl}/api/transport_scolaire/lieuramassages/`,new_eleve:{nom:"",prenoms:"",date_naissance:"",ecole:"",image:null,classe:"",ligne:"",lieuligne:"",lieu_ramassage:"",create_lieu_ramassage:!1,create_classe:!1,new_lieu_ramassage:{lieu_ligne:"",ligne:"",nom_lieu:""},new_classe:{nom:""},parent:{nom_mere:"",nom_pere:"",tel_pere:"",tel_mere:""},user:{username:"",email:"",password:"",password_verify:""}},ecoles:[],classes:[],lignes:[],lieulignes:[],lieu_ramassages:[]}},methods:{addEleve(){console.log(this.new_eleve),y.c.post(this.baseUrlPage,this.new_eleve).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/eleve")})).catch((e=>{console.error(e)}))},handleImageUploadNewEleve(e){const l=e.target.files[0];if(l){const e=new FileReader;e.onloadend=()=>{const l=e.result.split(",")[1];this.new_eleve.image=l},e.readAsDataURL(l)}},fecthDataEcole(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.ecoles=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des ecoles:",e)}))},fecthDataClasse(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.classes=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des classes:",e)}))},fecthDataLigne(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.lignes=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des lignes:",e)}))},fecthDataLieuLigne(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.lieulignes=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des lignes:",e)}))},fecthDataLieuRamassage(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.lieu_ramassages=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des lignes:",e)}))}},mounted(){this.fecthDataEcole(this.baseUrlEcole),this.fecthDataClasse(this.baseUrlClasse),this.fecthDataLigne(this.baseUrlLigne),this.fecthDataLieuLigne(this.baseUrlLieuLigne),this.fecthDataLieuRamassage(this.baseUrlLieuRamassage)}};const Oo=(0,x.c)(Mo,[["render",To],["__scopeId","data-v-24a90634"]]);var Jo=Oo;const Fo=e=>((0,s.ED)("data-v-97217d24"),e=e(),(0,s.ii)(),e),Go={class:"container"},Ho=Fo((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Modification"),(0,s.mY)(),(0,s.QD)("span",null,"Elève")]),(0,s.QD)("div",{class:"line"})],-1))),Xo=Fo((()=>(0,s.QD)("h5",null,"Informations Elève",-1))),jo={class:"col-12 col-md-6"},Zo={class:"col-12 col-md-6"},eu={class:"col-12"},lu={class:"col-12 col-md-6"},au={class:"col-12 col-md-6"},tu={class:"col-12"},su={class:"col-12 col-md-6"},nu={class:"col-12 col-md-6"},iu={class:"col-12"},ru=Fo((()=>(0,s.QD)("h5",null,"Informations Parent Elève",-1))),ou={class:"col-12 col-md-6"},uu={class:"col-12 col-md-6"},du={class:"col-12 col-md-6"},cu={class:"col-12 col-md-6"},pu=Fo((()=>(0,s.QD)("h5",null,"Itineraire Associé",-1))),mu={class:"table-responsive"},hu={class:""},gu={class:""},vu={class:""},Qu={class:"col-12 col-md-3"},_u=Fo((()=>(0,s.QD)("span",null,"Enregistrer les modifications",-1)));function Du(e,l,a,i,r,o){const u=(0,s.E1)("b-form-input"),d=(0,s.E1)("b-form-group"),c=(0,s.E1)("b-form-select"),p=(0,s.E1)("font-awesome-icon"),m=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",Go,[(0,s.QD)("form",{onSubmit:l[14]||(l[14]=(0,t.Y7)(((...e)=>o.editEleve&&o.editEleve(...e)),["prevent"])),class:"row form-form form-75"},[Ho,Xo,(0,s.QD)("div",jo,[(0,s.K2)(d,{label:"nom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{id:"nom",modelValue:r.edit_eleve.nom,"onUpdate:modelValue":l[0]||(l[0]=e=>r.edit_eleve.nom=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Zo,[(0,s.K2)(d,{label:"Prénom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{id:"prenoms",modelValue:r.edit_eleve.prenoms,"onUpdate:modelValue":l[1]||(l[1]=e=>r.edit_eleve.prenoms=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",eu,[(0,s.K2)(d,{label:"Date Naissance :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{id:"date_naissance",modelValue:r.edit_eleve.date_naissance,"onUpdate:modelValue":l[2]||(l[2]=e=>r.edit_eleve.date_naissance=e),type:"date",required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",lu,[(0,s.K2)(d,{label:"Ecole :"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{modelValue:r.edit_eleve.ecole,"onUpdate:modelValue":l[3]||(l[3]=e=>r.edit_eleve.ecole=e),options:r.ecoles,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",au,[(0,s.K2)(d,{label:"Classe :"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{modelValue:r.edit_eleve.classe,"onUpdate:modelValue":l[4]||(l[4]=e=>r.edit_eleve.classe=e),options:r.classes,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",tu,[(0,s.K2)(d,{label:"Adresse :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.edit_eleve.adresse,"onUpdate:modelValue":l[5]||(l[5]=e=>r.edit_eleve.adresse=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",su,[(0,s.K2)(d,{label:"Ligne de bus :"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{modelValue:r.edit_eleve.ligne,"onUpdate:modelValue":l[6]||(l[6]=e=>r.edit_eleve.ligne=e),options:r.lignes,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",nu,[(0,s.K2)(d,{label:"Lieu de ligne :"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{modelValue:r.edit_eleve.lieuligne,"onUpdate:modelValue":l[7]||(l[7]=e=>r.edit_eleve.lieuligne=e),options:r.lieulignes,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",iu,[(0,s.K2)(d,{label:"Lieu de ramassage :"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{modelValue:r.edit_eleve.lieu_ramassage,"onUpdate:modelValue":l[8]||(l[8]=e=>r.edit_eleve.lieu_ramassage=e),options:r.lieuramassages,required:""},null,8,["modelValue","options"])])),_:1})]),ru,(0,s.QD)("div",ou,[(0,s.K2)(d,{label:"Nom Père :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.edit_eleve.parent.nom_pere,"onUpdate:modelValue":l[9]||(l[9]=e=>r.edit_eleve.parent.nom_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",uu,[(0,s.K2)(d,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.edit_eleve.parent.tel_pere,"onUpdate:modelValue":l[10]||(l[10]=e=>r.edit_eleve.parent.tel_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",du,[(0,s.K2)(d,{label:"Nom Mère :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.edit_eleve.parent.nom_mere,"onUpdate:modelValue":l[11]||(l[11]=e=>r.edit_eleve.parent.nom_mere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",cu,[(0,s.K2)(d,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.edit_eleve.parent.tel_mere,"onUpdate:modelValue":l[12]||(l[12]=e=>r.edit_eleve.parent.tel_mere=e),required:""},null,8,["modelValue"])])),_:1})]),pu,(0,s.QD)("div",mu,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.edit_eleve.assignationitineraires,((a,t)=>((0,s.Wz)(),(0,s.An)("div",{class:"itineraire row",key:a.pk},[(0,s.QD)("div",hu,[(0,s.QD)("span",null,(0,n.WA)(a.itineraire.pk),1)]),((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(a.itineraire.horaires,(e=>((0,s.Wz)(),(0,s.An)("div",{class:"col-12 col-md-3",key:e.pk},[(0,s.QD)("div",gu,[(0,s.QD)("strong",null,(0,n.WA)(e.pointArret.nom_lieu)+(0,n.WA)(t),1)]),(0,s.QD)("div",vu,[(0,s.QD)("span",null,(0,n.WA)(e.heureDebut),1),(0,s.mY)(" - "),(0,s.QD)("span",null,(0,n.WA)(e.heureFin),1)])])))),128)),(0,s.QD)("div",Qu,[(0,s.K2)(d,{label:"Bus Associé :"},{default:(0,s.Ql)((()=>[r.assignationitineraires[t]?((0,s.Wz)(),(0,s.Az)(c,{key:0,onInput:e=>o.handleSelectBus(a.pk,a.itineraire.pk,e),modelValue:r.assignationitineraires[t].bus,"onUpdate:modelValue":e=>r.assignationitineraires[t].bus=e,options:r.buss},null,8,["onInput","modelValue","onUpdate:modelValue","options"])):(0,s.g1)("",!0),r.assignationitineraires[t]?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.Az)(c,{key:1,onInput:e=>o.handleSelectBus(a.pk,a.itineraire.pk,e),modelValue:e.pass,"onUpdate:modelValue":l[13]||(l[13]=l=>e.pass=l),options:r.buss},null,8,["onInput","modelValue","options"]))])),_:2},1024)])])))),128))]),(0,s.K2)(m,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(p,{icon:["fas","floppy-disk"]}),_u])),_:1})],32)])}var fu={name:"EleveEditPage",watch:{"edit_eleve.ligne":function(e,l){this.filterItineraire()},lignes:function(e,l){this.filterItineraire()},ecoles:function(e,l){this.filterItineraire()},"edit_eleve.ecole":function(e,l){this.filterItineraire()},"edit_eleve.lieuligne":function(e,l){}},mounted(){const e=this.$route.params.id,l=this.$decryptId(e);console.log(l),this.url=`${this.$store.state.baseUrl}/api/transport_scolaire/eleves/${l}/`,this.fecthDataItineraire(this.baseUrlItineraire),this.fecthData(this.url),this.fecthDataClasse(this.baseUrlClasse),this.fecthDataLieuLigne(this.baseUrlLieuLigne),this.fecthDataLieuRamassage(this.baseUrlLieuRamassage),this.fecthDateBus(this.baseUrlBus),this.fecthDataLigne(this.baseUrlLigne)},data(){return{url:"",baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/eleves/`,baseUrlEcole:`${this.$store.state.baseUrl}/api/transport_scolaire/ecoles/`,baseUrlBus:`${this.$store.state.baseUrl}/api/transport_scolaire/buss/`,baseUrlClasse:`${this.$store.state.baseUrl}/api/transport_scolaire/classes/`,baseUrlLigne:`${this.$store.state.baseUrl}/api/transport_scolaire/lignes/`,baseUrlLieuLigne:`${this.$store.state.baseUrl}/api/transport_scolaire/lieulignes/`,baseUrlLieuRamassage:`${this.$store.state.baseUrl}/api/transport_scolaire/lieuramassages/`,baseUrlItineraireBusAssignation:`${this.$store.state.baseUrl}/api/ts/assignation_itineraire_bus`,baseUrlItineraire:`${this.$store.state.baseUrl}/api/transport_scolaire/itineraires/`,edit_eleve:{nom:"",prenoms:"",date_naissance:"",ecole:"",niveau:"",classe:"",ligne:"",lieuligne:"",lieu_ramassage:"",parent:{nom_mere:"",nom_pere:"",tel_pere:"",tel_mere:""},assignationitineraires:[]},ecoles:[],classes:[],buss:[],lignes:[],itineraires:[],lieulignes:[],itineraires_filter:[],lieuramassages:[],assignationitineraires:[]}},methods:{handleChangeItineraireCheckBox(e){let l=this.edit_eleve.assignationitineraires.findIndex((l=>l.itineraire==e));-1==l?this.edit_eleve.assignationitineraires.push({itineraire:e}):this.edit_eleve.assignationitineraires.splice(l,1)},filterItineraire(){console.log(this.edit_eleve.ligne,this.edit_eleve.ecole),console.log(this.lignes);const e=this.lignes.find((e=>e.pk==this.edit_eleve.ligne)),l=this.ecoles.find((e=>e.pk==this.edit_eleve.ecole));console.log("pass",e,l),e&&l&&(this.itineraires_filter=[],console.log(this.itineraires),this.itineraires.forEach((a=>{const t=a.ecoleassignations.find((e=>e.ecole.repr==l.text));console.log(e,l,t),t&&a.ligne==e.text&&this.itineraires_filter.push({...a,value:a.pk,text:a.repr})})))},handleSelectBus(e,l,a){const t=this.assignationitineraires.findIndex((e=>e.itineraire==l));if(-1==t){const t={pk:e,eleve:this.detail_eleve.pk,itineraire:l,bus:a};this.assignationitineraires.push(t)}else{const e=this.assignationitineraires.findIndex((e=>e.itineraire==l));this.assignationitineraires[e].bus=a}},fecthDataItineraire(e){y.c.get(e,{params:{paginate:!0,special_detail_manytoone_class:"['busassignations','ecoleassignations','horaires']"}}).then((e=>{const l=e.data;this.itineraires=l.results,this.fecthDataEcole(this.baseUrlEcole),console.log(this.itineraires)})).catch((e=>{console.error("Une erreur s'est produits lors de la récupération des itineraires:",e)}))},valideInscription(){this.detail_eleve.etat="validé",console.log(this.assignationitineraires),y.c.post(this.baseUrlItineraireBusAssignation,this.assignationitineraires).then((e=>{console.log(e.data),y.c.put(this.url,{validation:!0,etat:"validé"}).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/inscription")})).catch((e=>{console.error(e)}))})).catch((e=>{console.error(e)}))},fecthDateBus(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.buss=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est produit lors de la récupération des buss:",e)}))},fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;l.assignationitineraires.forEach((e=>{let l=null;l=e.bus?e.bus.pk:e.bus;const a={pk:e.pk,eleve:e.eleve.pk,itineraire:e.itineraire.pk,bus:l};this.assignationitineraires.push(a)})),this.edit_eleve={...l,ecole:l.ecole.pk,classe:l.classe.pk,ligne:l.ligne.pk,lieu_ramassage:l.lieu_ramassage.pk,lieuligne:l.lieu_ramassage.lieu_ligne.pk},delete this.edit_eleve.user,delete this.edit_eleve.image})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des eleves:",e)}))},editEleve(){y.c.put(this.url,this.edit_eleve).then((e=>{y.c.post(this.baseUrlItineraireBusAssignation,this.assignationitineraires).then((e=>{console.log(e),console.log(e.data),this.$router.push("/transport_scolaire/eleve/")})).catch((e=>{console.error(e)}))})).catch((e=>{console.error(e)}))},fecthDataEcole(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.ecoles=l.map((e=>({...e,value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des ecoles:",e)}))},fecthDataClasse(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.classes=l.map((e=>({...e,value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des classes:",e)}))},fecthDataLigne(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.lignes=l.map((e=>({...e,value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est produit lors de la récupération des lignes:",e)}))},fecthDataLieuLigne(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.lieulignes=l.map((e=>({...e,value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des lignes:",e)}))},fecthDataLieuRamassage(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.lieuramassages=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des lieu de ramassages:",e)}))}}};const Au=(0,x.c)(fu,[["render",Du],["__scopeId","data-v-97217d24"]]);var bu=Au;const wu=e=>((0,s.ED)("data-v-f0c6b388"),e=e(),(0,s.ii)(),e),Ku={class:"container"},Vu={class:"row form-form form-75"},Uu=wu((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Detail Inscription"),(0,s.mY)(),(0,s.QD)("span",null,"Elève")]),(0,s.QD)("div",{class:"line"})],-1))),ku={class:"col-12"},Cu=wu((()=>(0,s.QD)("span",null,"Modifier",-1))),Eu=wu((()=>(0,s.QD)("span",null,"Supprimer L'elve",-1))),yu=wu((()=>(0,s.QD)("h5",null,"Informations Elève",-1))),Iu={class:"col-12 col-md-6"},Lu=["src"],Wu={class:"col-12 col-md-6"},xu={class:"table-responsive"},Pu={class:"table"},$u=wu((()=>(0,s.QD)("td",null,"Nom",-1))),zu=wu((()=>(0,s.QD)("td",null,"Prénoms",-1))),qu=wu((()=>(0,s.QD)("td",null,"Date de Naissance",-1))),Bu=wu((()=>(0,s.QD)("td",null,"Adresse",-1))),Su=wu((()=>(0,s.QD)("td",null,"Ecole",-1))),Yu={key:0},Ru={key:1},Nu=wu((()=>(0,s.QD)("td",null,"Classe",-1))),Tu={key:0},Mu={key:1},Ou=wu((()=>(0,s.QD)("td",null,"Adresse",-1))),Ju={class:"col-12 col-md-6"},Fu=wu((()=>(0,s.QD)("h5",null,"Informations Parent de l'élève",-1))),Gu={class:"table-responsive"},Hu={class:"table"},Xu=wu((()=>(0,s.QD)("td",null,"Père",-1))),ju=wu((()=>(0,s.QD)("td",null,"Tel",-1))),Zu=wu((()=>(0,s.QD)("td",null,"Mère",-1))),ed=wu((()=>(0,s.QD)("td",null,"Tel",-1))),ld={class:"col-12 col-md-6"},ad=wu((()=>(0,s.QD)("h5",null,"Informations Inscripion ",-1))),td={class:"table-responsive"},sd={class:"table"},nd=wu((()=>(0,s.QD)("td",null,"Ligne",-1))),id=wu((()=>(0,s.QD)("td",null,"Lieu Ligne",-1))),rd=wu((()=>(0,s.QD)("td",null,"Lieu de Ramassage",-1))),od=wu((()=>(0,s.QD)("h5",null,"Itineraire Associé",-1))),ud={class:"table-responsive"},dd={class:""},cd={class:""},pd={class:""},md={class:"col-12 col-md-3"},hd={key:0,class:""},gd=wu((()=>(0,s.QD)("div",{class:""},[(0,s.QD)("strong",null,"Bus")],-1))),vd={class:""},Qd={key:1,class:""},_d=wu((()=>(0,s.QD)("div",{class:""},[(0,s.QD)("strong",null,"Bus")],-1))),Dd=wu((()=>(0,s.QD)("div",{class:""},"---------",-1))),fd=[_d,Dd],Ad=wu((()=>(0,s.QD)("h5",null,"Informations Compte de L'Utilisateur ",-1))),bd={class:"col-12 col-md-6"},wd={class:"table-responsive"},Kd={class:"table"},Vd=wu((()=>(0,s.QD)("td",null,"Nom d'utlisateur",-1))),Ud={key:0},kd={key:1},Cd=wu((()=>(0,s.QD)("td",null,"Email",-1))),Ed={key:0},yd={key:1},Id=wu((()=>(0,s.QD)("td",null,"Role",-1))),Ld={key:0},Wd={key:1};function xd(e,l,a,t,i,r){const o=(0,s.E1)("font-awesome-icon"),u=(0,s.E1)("router-link");return(0,s.Wz)(),(0,s.An)("div",Ku,[(0,s.QD)("div",Vu,[Uu,(0,s.QD)("div",ku,[(0,s.K2)(u,{to:`/transport_scolaire/eleve/${e.$encryptId(i.detail_eleve.pk)}/edit`,class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{icon:["fas","floppy-disk"]}),Cu])),_:1},8,["to"]),(0,s.K2)(u,{to:`/transport_scolaire/eleve/${e.$encryptId(i.detail_eleve.pk)}/delete`,class:"btn btn-outline-danger text-danger"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{icon:["fas","x"]}),Eu])),_:1},8,["to"])]),yu,(0,s.QD)("div",Iu,[(0,s.QD)("img",{src:i.detail_eleve.image,alt:""},null,8,Lu)]),(0,s.QD)("div",Wu,[(0,s.QD)("div",xu,[(0,s.QD)("div",Pu,[(0,s.QD)("tbody",null,[(0,s.QD)("tr",null,[$u,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.nom),1)]),(0,s.QD)("tr",null,[zu,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.prenoms),1)]),(0,s.QD)("tr",null,[qu,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.date_naissance),1)]),(0,s.QD)("tr",null,[Bu,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.adresse),1)]),(0,s.QD)("tr",null,[Su,i.detail_eleve.ecole?((0,s.Wz)(),(0,s.An)("td",Yu,(0,n.WA)(i.detail_eleve.ecole.repr),1)):(0,s.g1)("",!0),i.detail_eleve.ecole?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("td",Ru,"---------------"))]),(0,s.QD)("tr",null,[Nu,i.detail_eleve.classe?((0,s.Wz)(),(0,s.An)("td",Tu,(0,n.WA)(i.detail_eleve.classe.repr),1)):(0,s.g1)("",!0),i.detail_eleve.classe?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("td",Mu,"--------------"))]),(0,s.QD)("tr",null,[Ou,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.adresse),1)])])])])]),(0,s.QD)("div",Ju,[Fu,(0,s.QD)("div",Gu,[(0,s.QD)("div",Hu,[(0,s.QD)("tbody",null,[(0,s.QD)("tr",null,[Xu,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.parent.nom_pere),1)]),(0,s.QD)("tr",null,[ju,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.parent.tel_pere),1)]),(0,s.QD)("tr",null,[Zu,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.parent.nom_mere),1)]),(0,s.QD)("tr",null,[ed,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.parent.tel_mere),1)])])])])]),(0,s.QD)("div",ld,[ad,(0,s.QD)("div",td,[(0,s.QD)("div",sd,[(0,s.QD)("tbody",null,[(0,s.QD)("tr",null,[nd,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.ligne.repr),1)]),(0,s.QD)("tr",null,[id,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.lieu_ramassage.lieu_ligne.repr),1)]),(0,s.QD)("tr",null,[rd,(0,s.mY)(),(0,s.QD)("td",null,(0,n.WA)(i.detail_eleve.lieu_ramassage.repr),1)])])])])]),od,(0,s.QD)("div",ud,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(i.detail_eleve.assignationitineraires,(e=>((0,s.Wz)(),(0,s.An)("div",{class:"itineraire row",key:e.pk},[(0,s.QD)("div",dd,[(0,s.QD)("span",null,(0,n.WA)(e.itineraire.pk),1)]),((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(e.itineraire.horaires,(e=>((0,s.Wz)(),(0,s.An)("div",{class:"col-12 col-md-3",key:e.pk},[(0,s.QD)("div",cd,[(0,s.QD)("strong",null,(0,n.WA)(e.pointArret.nom_lieu),1)]),(0,s.QD)("div",pd,[(0,s.QD)("span",null,(0,n.WA)(e.heureDebut),1),(0,s.mY)(" - "),(0,s.QD)("span",null,(0,n.WA)(e.heureFin),1)])])))),128)),(0,s.QD)("div",md,[e.bus?((0,s.Wz)(),(0,s.An)("div",hd,[gd,(0,s.QD)("div",vd,(0,n.WA)(e.bus.repr),1)])):(0,s.g1)("",!0),e.bus?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("div",Qd,fd))])])))),128))]),Ad,(0,s.QD)("div",bd,[(0,s.QD)("div",wd,[(0,s.QD)("div",Kd,[(0,s.QD)("tbody",null,[(0,s.QD)("tr",null,[Vd,i.detail_eleve.user?((0,s.Wz)(),(0,s.An)("td",Ud,(0,n.WA)(i.detail_eleve.user.username),1)):(0,s.g1)("",!0),i.detail_eleve.user?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("td",kd,"----------------"))]),(0,s.QD)("tr",null,[Cd,i.detail_eleve.user?((0,s.Wz)(),(0,s.An)("td",Ed,(0,n.WA)(i.detail_eleve.user.email),1)):(0,s.g1)("",!0),i.detail_eleve.user?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("td",yd,"---------------"))]),(0,s.QD)("tr",null,[Id,i.detail_eleve.user?((0,s.Wz)(),(0,s.An)("td",Ld,(0,n.WA)(i.detail_eleve.user.role),1)):(0,s.g1)("",!0),i.detail_eleve.user?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("td",Wd,"----------------"))])])])])])])])}var Pd={name:"EleveEditPage",mounted(){const e=this.$route.params.id,l=this.$decryptId(e);console.log(l),this.url=`${this.$store.state.baseUrl}/api/transport_scolaire/eleves/${l}/`,this.fecthData(this.url)},data(){return{url:"",baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/eleves/`,baseUrlEcole:`${this.$store.state.baseUrl}/api/transport_scolaire/ecoles/`,baseUrlClasse:`${this.$store.state.baseUrl}/api/transport_scolaire/classes/`,baseUrlLigne:`${this.$store.state.baseUrl}/api/transport_scolaire/lignes/`,baseUrlLieuLigne:`${this.$store.state.baseUrl}/api/transport_scolaire/lieulignes/`,baseUrlieuRamassage:`${this.$store.state.baseUrl}/api/transport_scolaire/lieuramassages/`,detail_eleve:{pk:-1,nom:"",prenoms:"",date_naissance:"",etat:"",ecole:{repr:""},classe:{repr:""},ligne:"",lieu_ligne:"",lieu_ramassage:{repr:"",lieu_ligne:{repr:""}},parent:{nom_mere:"",nom_pere:"",tel_pere:"",tel_mere:""},user:{username:"",email:"",role:""}},ecoles:[],classes:[],lignes:[],lieulignes:[],lieuramassages:[]}},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.detail_eleve=l})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des eleves:",e)}))},valideInscription(){this.detail_eleve.etat="validé",y.c.put(this.url,{validation:!0,etat:"validé"}).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/inscription")})).catch((e=>{console.error(e)}))},fecthDataEcole(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.ecoles=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des ecoles:",e)}))},fecthDataClasse(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.classes=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des classes:",e)}))},fecthDataLigne(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.lignes=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des lignes:",e)}))},fecthDataLieuLigne(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.lieulignes=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des lignes:",e)}))},fecthDataLieuRamassage(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.lieuramassages=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des lignes:",e)}))}}};const $d=(0,x.c)(Pd,[["render",xd],["__scopeId","data-v-f0c6b388"]]);var zd=$d;const qd=e=>((0,s.ED)("data-v-a41c0f64"),e=e(),(0,s.ii)(),e),Bd={class:"container"},Sd={class:"title"},Yd=qd((()=>(0,s.QD)("span",null,"Suppression",-1))),Rd=qd((()=>(0,s.QD)("span",null,"Eleve",-1))),Nd={key:0,class:"alert alert-danger"},Td=qd((()=>(0,s.QD)("div",{class:"line"},null,-1)));function Md(e,l,a,i,r,o){return(0,s.Wz)(),(0,s.An)("div",Bd,[(0,s.QD)("form",{onSubmit:l[2]||(l[2]=(0,t.Y7)(((...l)=>e.deleteEleve&&e.deleteEleve(...l)),["prevent"])),class:"row form-form form-75"},[(0,s.QD)("div",Sd,[(0,s.QD)("h4",null,[Yd,(0,s.mY)(),Rd,(0,s.QD)("p",null,(0,n.WA)(r.edit_eleve.repr),1)]),e.showDeleteAlert?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("div",Nd,[(0,s.mY)(" Êtes-vous sûr de vouloir supprimer ce eleve ? Cette action est irréversible. "),(0,s.QD)("button",{class:"btn btn-danger",onClick:l[0]||(l[0]=(...e)=>o.confirmDelete&&o.confirmDelete(...e))},"Confirmer"),(0,s.QD)("button",{class:"btn btn-secondary",onClick:l[1]||(l[1]=(...e)=>o.cancelDelete&&o.cancelDelete(...e))},"Annuler")])),Td])],32)])}var Od={name:"EleveCreatePage",mounted(){const e=this.$route.params.id,l=this.$decryptId(e);console.log(l),this.url=`${this.$store.state.baseUrl}/api/transport_scolaire/eleves/${l}/`,this.fecthData(this.url)},data(){return{url:"",baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/eleves/`,edit_eleve:{nom:"",prenoms:"",email:"",tel:"",repr:""}}},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.edit_eleve={...l}})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des eleves:",e)}))},confirmDelete(){y.c.delete(this.url,this.edit_eleve).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/eleve")})).catch((e=>{console.error(e)}))},cancelDelete(){this.$router.push("/transport_scolaire/eleve")}}};const Jd=(0,x.c)(Od,[["render",Md],["__scopeId","data-v-a41c0f64"]]);var Fd=Jd;const Gd=e=>((0,s.ED)("data-v-46754a9a"),e=e(),(0,s.ii)(),e),Hd={class:"cont-sep"},Xd=Gd((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Liste"),(0,s.mY)(),(0,s.QD)("span",null,"ecoles")]),(0,s.QD)("div",{class:"line"})],-1))),jd={class:"actions"},Zd={class:"search-form"},ec={class:"table-responsive"},lc={class:"table"},ac=Gd((()=>(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("th",null,"N°"),(0,s.QD)("th",null,"Nom"),(0,s.QD)("th",null,"Actions")])],-1))),tc={class:"pagination"},sc={class:"page"},nc=Gd((()=>(0,s.QD)("span",null,"Page",-1))),ic={class:"btns"},rc=["disabled"],oc=["disabled"],uc=Gd((()=>(0,s.QD)("div",{class:"ads btn"}," . ",-1))),dc=Gd((()=>(0,s.QD)("div",{class:"popup-buttons"},null,-1)));function cc(e,l,a,i,r,o){const u=(0,s.E1)("font-awesome-icon"),d=(0,s.E1)("router-link");return(0,s.Wz)(),(0,s.An)("div",null,[(0,s.QD)("div",Hd,[Xd,(0,s.QD)("div",jd,[(0,s.K2)(d,{to:"/transport_scolaire/ecole/nouveau",class:"btn btn-add"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","plus"]}),(0,s.mY)(" Ajouter un nouveau ecole ")])),_:1})]),(0,s.QD)("div",Zd,[(0,s.wt)((0,s.QD)("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>r.searchQuery=e),placeholder:"Rechercher  ecole ..."},null,512),[[t.Og,r.searchQuery]]),(0,s.K2)(u,{icon:["fas","magnifying-glass"],class:"icon"})]),(0,s.QD)("div",ec,[(0,s.QD)("table",lc,[ac,(0,s.K2)(t.Q9,{name:"ecole-table",tag:"tbody"},{default:(0,s.Ql)((()=>[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.ecoles,(l=>((0,s.Wz)(),(0,s.An)("tr",{key:l.pk},[(0,s.QD)("td",null,(0,n.WA)(l.pk),1),(0,s.QD)("td",null,(0,n.WA)(l.nom),1),(0,s.QD)("td",null,[(0,s.K2)(d,{to:`/transport_scolaire/ecole/${e.$encryptId(l.pk)}/edit`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","file-pen"]})])),_:2},1032,["to"]),(0,s.K2)(d,{to:`/transport_scolaire/ecole/${e.$encryptId(l.pk)}/delete`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","x"]})])),_:2},1032,["to"])])])))),128))])),_:1})])]),(0,s.QD)("div",tc,[(0,s.QD)("div",sc,[nc,(0,s.mY)(),(0,s.QD)("span",null,(0,n.WA)(r.current_page),1),(0,s.mY)(" sur "),(0,s.QD)("span",null,(0,n.WA)(r.nbr_page),1)]),(0,s.QD)("div",ic,[(0,s.QD)("button",{onClick:l[1]||(l[1]=l=>e.goToPageCandidat(e.previousPageCandidat)),disabled:!e.previousPageCandidat,class:"btn"},[(0,s.K2)(u,{icon:["fas","chevron-left"]})],8,rc),(0,s.QD)("button",{onClick:l[2]||(l[2]=l=>e.goToPageCandidat(e.previousPageCandidat)),class:"btn"},(0,n.WA)(r.current_page),1),(0,s.QD)("button",{onClick:l[3]||(l[3]=l=>e.goToPageCandidat(e.nextPageCandidat)),disabled:!e.nextPageCandidat,class:"btn"},[(0,s.K2)(u,{icon:["fas","chevron-right"]})],8,oc)]),uc]),dc])])}var pc={name:"ecolePage",data(){return{baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/ecoles/`,ecoles:[],searchQuery:"",startDate:"",endDate:"",current_page:2,nbr_page:10}},computed:{},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.ecoles=l.results})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des ecoles:",e)}))}},mounted(){this.fecthData(this.baseUrlPage)}};const mc=(0,x.c)(pc,[["render",cc],["__scopeId","data-v-46754a9a"]]);var hc=mc;const gc=e=>((0,s.ED)("data-v-4f78c8c0"),e=e(),(0,s.ii)(),e),vc={class:"container"},Qc=gc((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Ajout"),(0,s.mY)(),(0,s.QD)("span",null,"ecole")]),(0,s.QD)("div",{class:"line"})],-1))),_c=gc((()=>(0,s.QD)("h5",null,"Informations ecole",-1))),Dc={class:"col-12 col-md-6"},fc=gc((()=>(0,s.QD)("h5",null,"Classe Ecole",-1))),Ac={class:"table-responsive"},bc={class:"table"},wc=gc((()=>(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("th",null,"N°"),(0,s.QD)("th",null,"Nom Classe"),(0,s.QD)("th",null,"Actions")])],-1))),Kc=gc((()=>(0,s.QD)("span",null,"Ajouter Une Ligne",-1))),Vc=gc((()=>(0,s.QD)("span",null,"Enregistrer",-1)));function Uc(e,l,a,i,r,o){const u=(0,s.E1)("b-form-input"),d=(0,s.E1)("b-form-group"),c=(0,s.E1)("font-awesome-icon"),p=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",vc,[(0,s.QD)("form",{onSubmit:l[2]||(l[2]=(0,t.Y7)(((...e)=>o.addecole&&o.addecole(...e)),["prevent"])),class:"row form-form form-75"},[Qc,_c,(0,s.QD)("div",Dc,[(0,s.K2)(d,{label:"nom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{id:"nom",modelValue:r.new_ecole.nom,"onUpdate:modelValue":l[0]||(l[0]=e=>r.new_ecole.nom=e),required:""},null,8,["modelValue"])])),_:1})]),fc,(0,s.QD)("div",Ac,[(0,s.QD)("table",bc,[wc,(0,s.QD)("tbody",null,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.new_ecole.classes,((e,l)=>((0,s.Wz)(),(0,s.An)("tr",{key:l},[(0,s.QD)("td",null,(0,n.WA)(l+1),1),(0,s.QD)("td",null,[(0,s.K2)(u,{id:"nom",modelValue:r.new_ecole.classes[l].nom,"onUpdate:modelValue":e=>r.new_ecole.classes[l].nom=e,required:""},null,8,["modelValue","onUpdate:modelValue"])]),(0,s.QD)("td",null,[(0,s.K2)(c,{onClick:e=>o.handleClasseDelete(l,e),icon:["fas","x"]},null,8,["onClick"])])])))),128))])]),(0,s.K2)(p,{onClick:l[1]||(l[1]=e=>o.handleClickBtnAddClasse(e))},{default:(0,s.Ql)((()=>[Kc,(0,s.K2)(c,{icon:["fas","plus"]})])),_:1})]),(0,s.K2)(p,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{icon:["fas","floppy-disk"]}),Vc])),_:1})],32)])}var kc={name:"ecoleCreatePage",mounted(){for(let e=0;e<3;e++){const e={nom_classe:""};this.new_ecole.classes.push(e)}},props:{baseUrl:String},data(){return{baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/ecoles/`,new_ecole:{nom:"",classes:[]}}},methods:{handleClasseDelete(e,l){this.new_ecole.classes.splice(e,1)},handleClickBtnAddClasse(e){const l={nom_classe:""};console.log(this.new_ecole.classes.length),this.new_ecole.classes.push(l)},addecole(){y.c.post(this.baseUrlPage,this.new_ecole).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/ecole")})).catch((e=>{console.error(e)}))}}};const Cc=(0,x.c)(kc,[["render",Uc],["__scopeId","data-v-4f78c8c0"]]);var Ec=Cc;const yc=e=>((0,s.ED)("data-v-c720697c"),e=e(),(0,s.ii)(),e),Ic={class:"container"},Lc=yc((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Modification"),(0,s.mY)(),(0,s.QD)("span",null,"ecole")]),(0,s.QD)("div",{class:"line"})],-1))),Wc=yc((()=>(0,s.QD)("h5",null,"Informations ecole",-1))),xc={class:"col-12 col-md-6"},Pc=yc((()=>(0,s.QD)("h5",null,"Classe Ecole",-1))),$c={class:"table-responsive"},zc={class:"table"},qc=yc((()=>(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("th",null,"N°"),(0,s.QD)("th",null,"Nom Classe"),(0,s.QD)("th",null,"Actions")])],-1))),Bc=yc((()=>(0,s.QD)("span",null,"Ajouter Une Ligne",-1))),Sc=yc((()=>(0,s.QD)("span",null,"Enregistrer",-1)));function Yc(e,l,a,i,r,o){const u=(0,s.E1)("b-form-input"),d=(0,s.E1)("b-form-group"),c=(0,s.E1)("font-awesome-icon"),p=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",Ic,[(0,s.QD)("form",{onSubmit:l[2]||(l[2]=(0,t.Y7)(((...e)=>o.editEcole&&o.editEcole(...e)),["prevent"])),class:"row form-form form-75"},[Lc,Wc,(0,s.QD)("div",xc,[(0,s.K2)(d,{label:"nom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{id:"nom",modelValue:r.edit_ecole.nom,"onUpdate:modelValue":l[0]||(l[0]=e=>r.edit_ecole.nom=e),required:""},null,8,["modelValue"])])),_:1})]),Pc,(0,s.QD)("div",$c,[(0,s.QD)("table",zc,[qc,(0,s.QD)("tbody",null,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.edit_ecole.classes,((e,l)=>((0,s.Wz)(),(0,s.An)("tr",{key:l},[(0,s.QD)("td",null,(0,n.WA)(l+1),1),(0,s.QD)("td",null,[(0,s.K2)(u,{id:"nom",modelValue:r.edit_ecole.classes[l].nom,"onUpdate:modelValue":e=>r.edit_ecole.classes[l].nom=e,required:""},null,8,["modelValue","onUpdate:modelValue"])]),(0,s.QD)("td",null,[(0,s.K2)(c,{onClick:e=>o.handleClasseDelete(l,e),icon:["fas","x"]},null,8,["onClick"])])])))),128))])]),(0,s.K2)(p,{onClick:l[1]||(l[1]=e=>o.handleClickBtnAddClasse(e))},{default:(0,s.Ql)((()=>[Bc,(0,s.K2)(c,{icon:["fas","plus"]})])),_:1})]),(0,s.K2)(p,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{icon:["fas","floppy-disk"]}),Sc])),_:1})],32)])}var Rc={name:"ecoleCreatePage",mounted(){const e=this.$route.params.id,l=this.$decryptId(e);console.log(l),this.url=`${this.$store.state.baseUrl}/api/transport_scolaire/ecoles/${l}/`,this.fecthData(this.url)},props:{baseUrl:String},data(){return{baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/ecoles/`,edit_ecole:{nom:"",classes:[]}}},methods:{handleClasseDelete(e,l){this.edit_ecole.classes.splice(e,1)},handleClickBtnAddClasse(e){const l={nom_classe:""};console.log(this.edit_ecole.classes.length),this.edit_ecole.classes.push(l)},fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.edit_ecole={...l}})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des ecoles:",e)}))},editEcole(){y.c.put(this.url,this.edit_ecole).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/ecole")})).catch((e=>{console.error(e)}))}}};const Nc=(0,x.c)(Rc,[["render",Yc],["__scopeId","data-v-c720697c"]]);var Tc=Nc;const Mc=e=>((0,s.ED)("data-v-d0212b5a"),e=e(),(0,s.ii)(),e),Oc={class:"container"},Jc=Mc((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Modification"),(0,s.mY)(),(0,s.QD)("span",null,"Bus")]),(0,s.QD)("div",{class:"line"})],-1))),Fc=Mc((()=>(0,s.QD)("h5",null,"Informations Bus",-1))),Gc={class:"col-12 col-md-6"},Hc={class:"col-12 col-md-6"},Xc={class:"col-12"},jc={class:"col-12 col-md-6"},Zc={class:"col-12 col-md-6"},ep={class:"col-12"},lp={class:"col-12 col-md-6"},ap={class:"col-12 col-md-6"},tp={class:"col-12"},sp=Mc((()=>(0,s.QD)("h5",null,"Informations Parent Bus",-1))),np={class:"col-12 col-md-6"},ip={class:"col-12 col-md-6"},rp={class:"col-12 col-md-6"},op={class:"col-12 col-md-6"},up=Mc((()=>(0,s.QD)("span",null,"Enregistrer les modifications",-1)));function dp(e,l,a,n,i,r){const o=(0,s.E1)("b-form-input"),u=(0,s.E1)("b-form-group"),d=(0,s.E1)("b-form-select"),c=(0,s.E1)("font-awesome-icon"),p=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",Oc,[(0,s.QD)("form",{onSubmit:l[13]||(l[13]=(0,t.Y7)(((...e)=>r.editBus&&r.editBus(...e)),["prevent"])),class:"row form-form form-75"},[Jc,Fc,(0,s.QD)("div",Gc,[(0,s.K2)(u,{label:"nom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"nom",modelValue:i.new_bus.nom,"onUpdate:modelValue":l[0]||(l[0]=e=>i.new_bus.nom=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Hc,[(0,s.K2)(u,{label:"Prénom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"prenoms",modelValue:i.new_bus.prenoms,"onUpdate:modelValue":l[1]||(l[1]=e=>i.new_bus.prenoms=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Xc,[(0,s.K2)(u,{label:"Date Naissance :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"date_naissance",modelValue:i.new_bus.date_naissance,"onUpdate:modelValue":l[2]||(l[2]=e=>i.new_bus.date_naissance=e),type:"date",required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",jc,[(0,s.K2)(u,{label:"Ecole :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.ecole,"onUpdate:modelValue":l[3]||(l[3]=e=>i.new_bus.ecole=e),options:i.ecoles,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",Zc,[(0,s.K2)(u,{label:"Classe :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.classe,"onUpdate:modelValue":l[4]||(l[4]=e=>i.new_bus.classe=e),options:i.classes,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",ep,[(0,s.K2)(u,{label:"Adresse :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.adresse,"onUpdate:modelValue":l[5]||(l[5]=e=>i.new_bus.adresse=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",lp,[(0,s.K2)(u,{label:"Ligne de bus :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.ligne_bus,"onUpdate:modelValue":l[6]||(l[6]=e=>i.new_bus.ligne_bus=e),options:i.lignes_bus,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",ap,[(0,s.K2)(u,{label:"Lieu de ligne :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.lieu_ligne,"onUpdate:modelValue":l[7]||(l[7]=e=>i.new_bus.lieu_ligne=e),options:i.lieux_ligne,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",tp,[(0,s.K2)(u,{label:"Lieu de ramassage :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.lieu_ramassage,"onUpdate:modelValue":l[8]||(l[8]=e=>i.new_bus.lieu_ramassage=e),options:i.lieux_ramassage,required:""},null,8,["modelValue","options"])])),_:1})]),sp,(0,s.QD)("div",np,[(0,s.K2)(u,{label:"Nom Père :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.nom_pere,"onUpdate:modelValue":l[9]||(l[9]=e=>i.new_bus.nom_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",ip,[(0,s.K2)(u,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.tel_pere,"onUpdate:modelValue":l[10]||(l[10]=e=>i.new_bus.tel_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",rp,[(0,s.K2)(u,{label:"Nom Mère :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.nom_pere,"onUpdate:modelValue":l[11]||(l[11]=e=>i.new_bus.nom_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",op,[(0,s.K2)(u,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.tel_pere,"onUpdate:modelValue":l[12]||(l[12]=e=>i.new_bus.tel_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.K2)(p,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{icon:["fas","floppy-disk"]}),up])),_:1})],32)])}const cp="localhost:8000";var pp={name:"BusCreatePage",mounted(){},data(){return{new_bus:{nom:"Doe",prenoms:"John",date_naissance:"2005-08-15",ecole:2,niveau:"Niveau 3",classe:3,ligne_bus:1,lieu_ligne:"Lieu 2",lieu_ramassage:"Lieu 1",nom_pere:"Doe",tel_pere:"0123456789",nom_mere:"Smith",tel_mere:"9876543210",adresse:"123 Rue Principale"},ecoles:[{value:1,text:"Ecole 1"},{value:2,text:"Ecole 2"},{value:3,text:"Ecole 3"}],classes:[{value:1,text:"Classe 1"},{value:2,text:"Classe 2"},{value:3,text:"Classe 3"}],lignes_bus:[{value:1,text:"Ligne 1"},{value:2,text:"Ligne 2"},{value:3,text:"Ligne 3"}],lieux_ligne:[{value:"Lieu 1",text:"Lieu 1"},{value:"Lieu 2",text:"Lieu 2"},{value:"Lieu 3",text:"Lieu 3"}],lieux_ramassage:[{value:"Lieu 1",text:"Lieu 1"},{value:"Lieu 2",text:"Lieu 2"},{value:"Lieu 3",text:"Lieu 3"}]}},methods:{editBus(){const e={nom:this.new_bus.nom,agge:this.new_bus.agge};this.$router.push("/bus"),y.c.post(`http://${cp}/api/bus`,e).then((e=>{console.log(e.data),this.new_bus.nom=null,this.new_bus.agge=null,this.$router.push("/Bus")})).catch((e=>{console.error(e)}))}}};const mp=(0,x.c)(pp,[["render",dp],["__scopeId","data-v-d0212b5a"]]);var hp=mp;const gp=e=>((0,s.ED)("data-v-4dd492fd"),e=e(),(0,s.ii)(),e),vp={class:"container"},Qp={class:"title"},_p=gp((()=>(0,s.QD)("span",null,"Suppression",-1))),Dp=gp((()=>(0,s.QD)("span",null,"Chauffeur",-1))),fp={key:0,class:"alert alert-danger"},Ap=gp((()=>(0,s.QD)("div",{class:"line"},null,-1)));function bp(e,l,a,i,r,o){return(0,s.Wz)(),(0,s.An)("div",vp,[(0,s.QD)("form",{onSubmit:l[2]||(l[2]=(0,t.Y7)(((...l)=>e.deleteChauffeur&&e.deleteChauffeur(...l)),["prevent"])),class:"row form-form form-75"},[(0,s.QD)("div",Qp,[(0,s.QD)("h4",null,[_p,(0,s.mY)(),Dp,(0,s.QD)("p",null,(0,n.WA)(r.edit_chauffeur.repr),1)]),e.showDeleteAlert?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("div",fp,[(0,s.mY)(" Êtes-vous sûr de vouloir supprimer ce chauffeur ? Cette action est irréversible. "),(0,s.QD)("button",{class:"btn btn-danger",onClick:l[0]||(l[0]=(...e)=>o.confirmDelete&&o.confirmDelete(...e))},"Confirmer"),(0,s.QD)("button",{class:"btn btn-secondary",onClick:l[1]||(l[1]=(...e)=>o.cancelDelete&&o.cancelDelete(...e))},"Annuler")])),Ap])],32)])}var wp={name:"ChauffeurCreatePage",mounted(){const e=this.$route.params.id,l=this.$decryptId(e);console.log(l),this.url=`${this.$store.state.baseUrl}/api/transport_scolaire/chauffeurs/${l}/`,this.fecthData(this.url)},data(){return{url:"",baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/chauffeurs/`,edit_chauffeur:{nom:"",prenoms:"",email:"",tel:"",repr:""}}},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.edit_chauffeur={...l}})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des chauffeurs:",e)}))},confirmDelete(){y.c.delete(this.url,this.edit_chauffeur).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/chauffeur")})).catch((e=>{console.error(e)}))},cancelDelete(){this.$router.push("/transport_scolaire/chauffeur")}}};const Kp=(0,x.c)(wp,[["render",bp],["__scopeId","data-v-4dd492fd"]]);var Vp=Kp;const Up=e=>((0,s.ED)("data-v-01fd41b4"),e=e(),(0,s.ii)(),e),kp={class:"cont-sep"},Cp=Up((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Liste"),(0,s.mY)(),(0,s.QD)("span",null,"Parents")]),(0,s.QD)("div",{class:"line"})],-1))),Ep={class:"actions"},yp={class:"filter-form"},Ip={class:"item-group"},Lp={class:"item"},Wp=Up((()=>(0,s.QD)("label",null,"Date de début:",-1))),xp={class:"item"},Pp=Up((()=>(0,s.QD)("label",null,"Date de fin:",-1))),$p=Up((()=>(0,s.QD)("div",{class:"item"},[(0,s.QD)("label",null,"Ligne:"),(0,s.QD)("select",{name:"",id:""},[(0,s.QD)("option",{value:""},"-------------------")])],-1))),zp={class:"search-form"},qp={class:"table-responsive"},Bp={class:"table"},Sp=Up((()=>(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("th",null,"N°"),(0,s.QD)("th",null,"Nom Mère"),(0,s.QD)("th",null,"Tel"),(0,s.QD)("th",null,"Nom Père"),(0,s.QD)("th",null,"Tel"),(0,s.QD)("th",null,"Email"),(0,s.QD)("th",null,"Actions")])],-1))),Yp={class:"pagination"},Rp={class:"page"},Np=Up((()=>(0,s.QD)("span",null,"Page",-1))),Tp={class:"btns"},Mp=["disabled"],Op=["disabled"],Jp=Up((()=>(0,s.QD)("div",{class:"ads btn"}," . ",-1))),Fp=Up((()=>(0,s.QD)("div",{class:"popup-buttons"},null,-1)));function Gp(e,l,a,i,r,o){const u=(0,s.E1)("font-awesome-icon"),d=(0,s.E1)("router-link");return(0,s.Wz)(),(0,s.An)("div",null,[(0,s.QD)("div",kp,[Cp,(0,s.QD)("div",Ep,[(0,s.K2)(d,{to:"/transport_scolaire/parent/nouveau",class:"btn btn-add"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","plus"]}),(0,s.mY)(" Ajouter un nouveau élève ")])),_:1})]),(0,s.QD)("div",yp,[(0,s.QD)("div",Ip,[(0,s.QD)("div",Lp,[Wp,(0,s.wt)((0,s.QD)("input",{type:"date","onUpdate:modelValue":l[0]||(l[0]=e=>r.startDate=e)},null,512),[[t.Og,r.startDate]])]),(0,s.QD)("div",xp,[Pp,(0,s.wt)((0,s.QD)("input",{type:"date","onUpdate:modelValue":l[1]||(l[1]=e=>r.endDate=e)},null,512),[[t.Og,r.endDate]])]),$p]),(0,s.K2)(u,{icon:["fas","filter"],class:"icon"})]),(0,s.QD)("div",zp,[(0,s.wt)((0,s.QD)("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=e=>r.searchQuery=e),placeholder:"Rechercher  élève ..."},null,512),[[t.Og,r.searchQuery]]),(0,s.K2)(u,{icon:["fas","magnifying-glass"],class:"icon"})]),(0,s.QD)("div",qp,[(0,s.QD)("table",Bp,[Sp,(0,s.K2)(t.Q9,{name:"parent-table",tag:"tbody"},{default:(0,s.Ql)((()=>[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.parents,(l=>((0,s.Wz)(),(0,s.An)("tr",{key:l.pk},[(0,s.QD)("td",null,(0,n.WA)(l.pk),1),(0,s.QD)("td",null,(0,n.WA)(l.nom_mere),1),(0,s.QD)("td",null,(0,n.WA)(l.tel_mere),1),(0,s.QD)("td",null,(0,n.WA)(l.nom_pere),1),(0,s.QD)("td",null,(0,n.WA)(l.tel_pere),1),(0,s.QD)("td",null,(0,n.WA)(l.email),1),(0,s.QD)("td",null,[(0,s.K2)(d,{to:`/transport_scolaire/parent/${e.$encryptId(l.pk)}/edit`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","file-pen"]})])),_:2},1032,["to"]),(0,s.K2)(d,{to:`/transport_scolaire/parent/${e.$encryptId(l.pk)}/delete`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","x"]})])),_:2},1032,["to"])])])))),128))])),_:1})])]),(0,s.QD)("div",Yp,[(0,s.QD)("div",Rp,[Np,(0,s.mY)(),(0,s.QD)("span",null,(0,n.WA)(r.current_page),1),(0,s.mY)(" sur "),(0,s.QD)("span",null,(0,n.WA)(r.nbr_page),1)]),(0,s.QD)("div",Tp,[(0,s.QD)("button",{onClick:l[3]||(l[3]=l=>e.goToPageCandidat(e.previousPageCandidat)),disabled:!e.previousPageCandidat,class:"btn"},[(0,s.K2)(u,{icon:["fas","chevron-left"]})],8,Mp),(0,s.QD)("button",{onClick:l[4]||(l[4]=l=>e.goToPageCandidat(e.previousPageCandidat)),class:"btn"},(0,n.WA)(r.current_page),1),(0,s.QD)("button",{onClick:l[5]||(l[5]=l=>e.goToPageCandidat(e.nextPageCandidat)),disabled:!e.nextPageCandidat,class:"btn"},[(0,s.K2)(u,{icon:["fas","chevron-right"]})],8,Op)]),Jp]),Fp])])}var Hp={name:"parentPage",props:{baseUrl:String},data(){return{baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/parents/`,parents:[],searchQuery:"",startDate:"",endDate:"",current_page:2,nbr_page:10}},computed:{},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.parents=l.results})).catch((e=>{console.error("Une erreur s'est produit lors de la récupération des élèves:",e)}))}},mounted(){this.fecthData(this.baseUrlPage)}};const Xp=(0,x.c)(Hp,[["render",Gp],["__scopeId","data-v-01fd41b4"]]);var jp=Xp;const Zp=e=>((0,s.ED)("data-v-8303c00e"),e=e(),(0,s.ii)(),e),em={class:"container"},lm=Zp((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Ajout"),(0,s.mY)(),(0,s.QD)("span",null,"Elève")]),(0,s.QD)("div",{class:"line"})],-1))),am=Zp((()=>(0,s.QD)("h5",null,"Informations Elève",-1))),tm={class:"col-12 col-md-6"},sm={class:"col-12 col-md-6"},nm={class:"col-12"},im={class:"col-12 col-md-6"},rm={class:"col-12 col-md-6"},om={class:"col-12"},um={class:"col-12 col-md-6"},dm={class:"col-12 col-md-6"},cm={class:"col-12"},pm=Zp((()=>(0,s.QD)("h5",null,"Informations Parent Elève",-1))),mm={class:"col-12 col-md-6"},hm={class:"col-12 col-md-6"},gm={class:"col-12 col-md-6"},vm={class:"col-12 col-md-6"},Qm=Zp((()=>(0,s.QD)("span",null,"Enregistrer",-1)));function _m(e,l,a,n,i,r){const o=(0,s.E1)("b-form-input"),u=(0,s.E1)("b-form-group"),d=(0,s.E1)("b-form-select"),c=(0,s.E1)("font-awesome-icon"),p=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",em,[(0,s.QD)("form",{onSubmit:l[13]||(l[13]=(0,t.Y7)(((...e)=>r.addEleve&&r.addEleve(...e)),["prevent"])),class:"row form-form form-75"},[lm,am,(0,s.QD)("div",tm,[(0,s.K2)(u,{label:"nom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"nom",modelValue:i.new_eleve.nom,"onUpdate:modelValue":l[0]||(l[0]=e=>i.new_eleve.nom=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",sm,[(0,s.K2)(u,{label:"Prénom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"prenoms",modelValue:i.new_eleve.prenoms,"onUpdate:modelValue":l[1]||(l[1]=e=>i.new_eleve.prenoms=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",nm,[(0,s.K2)(u,{label:"Date Naissance :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"date_naissance",modelValue:i.new_eleve.agge,"onUpdate:modelValue":l[2]||(l[2]=e=>i.new_eleve.agge=e),type:"date",required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",im,[(0,s.K2)(u,{label:"Ecole :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_eleve.ecole,"onUpdate:modelValue":l[3]||(l[3]=e=>i.new_eleve.ecole=e),options:i.ecoles,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",rm,[(0,s.K2)(u,{label:"Classe :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_eleve.classe,"onUpdate:modelValue":l[4]||(l[4]=e=>i.new_eleve.classe=e),options:i.classes,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",om,[(0,s.K2)(u,{label:"Adresse :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_eleve.adresse,"onUpdate:modelValue":l[5]||(l[5]=e=>i.new_eleve.adresse=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",um,[(0,s.K2)(u,{label:"Ligne de bus :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_eleve.ligne_bus,"onUpdate:modelValue":l[6]||(l[6]=e=>i.new_eleve.ligne_bus=e),options:e.lignes_bus,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",dm,[(0,s.K2)(u,{label:"Lieu de ligne :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_eleve.lieu_ligne,"onUpdate:modelValue":l[7]||(l[7]=e=>i.new_eleve.lieu_ligne=e),options:e.lieux_ligne,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",cm,[(0,s.K2)(u,{label:"Lieu de ramassage :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_eleve.lieu_ramassage,"onUpdate:modelValue":l[8]||(l[8]=e=>i.new_eleve.lieu_ramassage=e),options:e.lieux_ramassage,required:""},null,8,["modelValue","options"])])),_:1})]),pm,(0,s.QD)("div",mm,[(0,s.K2)(u,{label:"Nom Père :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_eleve.nom_pere,"onUpdate:modelValue":l[9]||(l[9]=e=>i.new_eleve.nom_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",hm,[(0,s.K2)(u,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_eleve.tel_pere,"onUpdate:modelValue":l[10]||(l[10]=e=>i.new_eleve.tel_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",gm,[(0,s.K2)(u,{label:"Nom Mère :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_eleve.nom_pere,"onUpdate:modelValue":l[11]||(l[11]=e=>i.new_eleve.nom_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",vm,[(0,s.K2)(u,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_eleve.tel_pere,"onUpdate:modelValue":l[12]||(l[12]=e=>i.new_eleve.tel_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.K2)(p,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{icon:["fas","floppy-disk"]}),Qm])),_:1})],32)])}const Dm="localhost:8000";var fm={name:"EleveCreatePage",mounted(){},data(){return{new_eleve:{nom:"",prenoms:"",date_naissance:"",ecole:"",niveau:"",classe:"",ligne_bus:"",lieu_ligne:"",lieu_ramassage:""},ecoles:[{value:1,text:"Ecole 1"},{value:2,text:"Ecole 2"},{value:3,text:"Ecole 3"}],classes:[{value:1,text:"Classe 1"},{value:2,text:"Classe 2"},{value:3,text:"Classe 3"}]}},methods:{addEleve(){const e={nom:this.new_eleve.nom,agge:this.new_eleve.agge};y.c.post(`http://${Dm}/api/eleve`,e).then((e=>{console.log(e.data),this.new_eleve.nom=null,this.new_eleve.agge=null,this.$router.push("/Eleve")})).catch((e=>{console.error(e)}))}}};const Am=(0,x.c)(fm,[["render",_m],["__scopeId","data-v-8303c00e"]]);var bm=Am;const wm=e=>((0,s.ED)("data-v-fe3cfedc"),e=e(),(0,s.ii)(),e),Km={class:"container"},Vm=wm((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Modification"),(0,s.mY)(),(0,s.QD)("span",null,"Elève")]),(0,s.QD)("div",{class:"line"})],-1))),Um=wm((()=>(0,s.QD)("h5",null,"Informations Elève",-1))),km={class:"col-12 col-md-6"},Cm={class:"col-12 col-md-6"},Em={class:"col-12"},ym={class:"col-12 col-md-6"},Im={class:"col-12 col-md-6"},Lm={class:"col-12"},Wm={class:"col-12 col-md-6"},xm={class:"col-12 col-md-6"},Pm={class:"col-12"},$m=wm((()=>(0,s.QD)("h5",null,"Informations Parent Elève",-1))),zm={class:"col-12 col-md-6"},qm={class:"col-12 col-md-6"},Bm={class:"col-12 col-md-6"},Sm={class:"col-12 col-md-6"},Ym=wm((()=>(0,s.QD)("span",null,"Enregistrer les modifications",-1)));function Rm(e,l,a,n,i,r){const o=(0,s.E1)("b-form-input"),u=(0,s.E1)("b-form-group"),d=(0,s.E1)("b-form-select"),c=(0,s.E1)("font-awesome-icon"),p=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",Km,[(0,s.QD)("form",{onSubmit:l[13]||(l[13]=(0,t.Y7)(((...e)=>r.editEleve&&r.editEleve(...e)),["prevent"])),class:"row form-form form-75"},[Vm,Um,(0,s.QD)("div",km,[(0,s.K2)(u,{label:"nom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"nom",modelValue:i.new_eleve.nom,"onUpdate:modelValue":l[0]||(l[0]=e=>i.new_eleve.nom=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Cm,[(0,s.K2)(u,{label:"Prénom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"prenoms",modelValue:i.new_eleve.prenoms,"onUpdate:modelValue":l[1]||(l[1]=e=>i.new_eleve.prenoms=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Em,[(0,s.K2)(u,{label:"Date Naissance :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"date_naissance",modelValue:i.new_eleve.date_naissance,"onUpdate:modelValue":l[2]||(l[2]=e=>i.new_eleve.date_naissance=e),type:"date",required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",ym,[(0,s.K2)(u,{label:"Ecole :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_eleve.ecole,"onUpdate:modelValue":l[3]||(l[3]=e=>i.new_eleve.ecole=e),options:i.ecoles,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",Im,[(0,s.K2)(u,{label:"Classe :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_eleve.classe,"onUpdate:modelValue":l[4]||(l[4]=e=>i.new_eleve.classe=e),options:i.classes,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",Lm,[(0,s.K2)(u,{label:"Adresse :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_eleve.adresse,"onUpdate:modelValue":l[5]||(l[5]=e=>i.new_eleve.adresse=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Wm,[(0,s.K2)(u,{label:"Ligne de bus :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_eleve.ligne_bus,"onUpdate:modelValue":l[6]||(l[6]=e=>i.new_eleve.ligne_bus=e),options:i.lignes_bus,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",xm,[(0,s.K2)(u,{label:"Lieu de ligne :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_eleve.lieu_ligne,"onUpdate:modelValue":l[7]||(l[7]=e=>i.new_eleve.lieu_ligne=e),options:i.lieux_ligne,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",Pm,[(0,s.K2)(u,{label:"Lieu de ramassage :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_eleve.lieu_ramassage,"onUpdate:modelValue":l[8]||(l[8]=e=>i.new_eleve.lieu_ramassage=e),options:i.lieux_ramassage,required:""},null,8,["modelValue","options"])])),_:1})]),$m,(0,s.QD)("div",zm,[(0,s.K2)(u,{label:"Nom Père :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_eleve.nom_pere,"onUpdate:modelValue":l[9]||(l[9]=e=>i.new_eleve.nom_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",qm,[(0,s.K2)(u,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_eleve.tel_pere,"onUpdate:modelValue":l[10]||(l[10]=e=>i.new_eleve.tel_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Bm,[(0,s.K2)(u,{label:"Nom Mère :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_eleve.nom_pere,"onUpdate:modelValue":l[11]||(l[11]=e=>i.new_eleve.nom_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Sm,[(0,s.K2)(u,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_eleve.tel_pere,"onUpdate:modelValue":l[12]||(l[12]=e=>i.new_eleve.tel_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.K2)(p,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{icon:["fas","floppy-disk"]}),Ym])),_:1})],32)])}const Nm="localhost:8000";var Tm={name:"EleveCreatePage",mounted(){},data(){return{new_eleve:{nom:"Doe",prenoms:"John",date_naissance:"2005-08-15",ecole:2,niveau:"Niveau 3",classe:3,ligne_bus:1,lieu_ligne:"Lieu 2",lieu_ramassage:"Lieu 1",nom_pere:"Doe",tel_pere:"0123456789",nom_mere:"Smith",tel_mere:"9876543210",adresse:"123 Rue Principale"},ecoles:[{value:1,text:"Ecole 1"},{value:2,text:"Ecole 2"},{value:3,text:"Ecole 3"}],classes:[{value:1,text:"Classe 1"},{value:2,text:"Classe 2"},{value:3,text:"Classe 3"}],lignes_bus:[{value:1,text:"Ligne 1"},{value:2,text:"Ligne 2"},{value:3,text:"Ligne 3"}],lieux_ligne:[{value:"Lieu 1",text:"Lieu 1"},{value:"Lieu 2",text:"Lieu 2"},{value:"Lieu 3",text:"Lieu 3"}],lieux_ramassage:[{value:"Lieu 1",text:"Lieu 1"},{value:"Lieu 2",text:"Lieu 2"},{value:"Lieu 3",text:"Lieu 3"}]}},methods:{editEleve(){const e={nom:this.new_eleve.nom,agge:this.new_eleve.agge};this.$router.push("/eleve"),y.c.post(`http://${Nm}/api/eleve`,e).then((e=>{console.log(e.data),this.new_eleve.nom=null,this.new_eleve.agge=null,this.$router.push("/Eleve")})).catch((e=>{console.error(e)}))}}};const Mm=(0,x.c)(Tm,[["render",Rm],["__scopeId","data-v-fe3cfedc"]]);var Om=Mm;const Jm=e=>((0,s.ED)("data-v-0a4f9278"),e=e(),(0,s.ii)(),e),Fm={class:"container"},Gm=Jm((()=>(0,s.QD)("h3",null,"Gestion de projects",-1))),Hm={class:"col-4"},Xm={class:"col-4"};function jm(e,l,a,n,i,r){const o=(0,s.E1)("b-form-input"),u=(0,s.E1)("b-form-group"),d=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",Fm,[Gm,(0,s.QD)("form",{onSubmit:l[2]||(l[2]=(0,t.Y7)(((...e)=>r.addParentt&&r.addParentt(...e)),["prevent"])),class:"row"},[(0,s.QD)("div",Hm,[(0,s.K2)(u,{label:"nom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"nom",modelValue:i.newParentt.nom,"onUpdate:modelValue":l[0]||(l[0]=e=>i.newParentt.nom=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Xm,[(0,s.K2)(u,{label:"agge :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"agge",modelValue:i.newParentt.agge,"onUpdate:modelValue":l[1]||(l[1]=e=>i.newParentt.agge=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.K2)(u,null,{default:(0,s.Ql)((()=>[(0,s.K2)(d,{type:"submit",variant:"success"},{default:(0,s.Ql)((()=>[(0,s.mY)("Save")])),_:1})])),_:1})],32)])}const Zm="localhost:8000";var eh={name:"ParenttCreatePage",mounted(){},data(){return{newParentt:{nom:"",agge:""}}},methods:{addParentt(){const e={nom:this.newParentt.nom,agge:this.newParentt.agge};y.c.post(`http://${Zm}/api/parentt`,e).then((e=>{console.log(e.data),this.newParentt.nom=null,this.newParentt.agge=null,this.$router.push("/parentt")})).catch((e=>{console.error(e)}))}}};const lh=(0,x.c)(eh,[["render",jm],["__scopeId","data-v-0a4f9278"]]);var ah=lh;const th=e=>((0,s.ED)("data-v-26d061f3"),e=e(),(0,s.ii)(),e),sh={class:"container"},nh={class:"title"},ih=th((()=>(0,s.QD)("span",null,"Suppression",-1))),rh=th((()=>(0,s.QD)("span",null,"Chauffeur",-1))),oh={key:0,class:"alert alert-danger"},uh=th((()=>(0,s.QD)("div",{class:"line"},null,-1)));function dh(e,l,a,i,r,o){return(0,s.Wz)(),(0,s.An)("div",sh,[(0,s.QD)("form",{onSubmit:l[2]||(l[2]=(0,t.Y7)(((...l)=>e.deleteChauffeur&&e.deleteChauffeur(...l)),["prevent"])),class:"row form-form form-75"},[(0,s.QD)("div",nh,[(0,s.QD)("h4",null,[ih,(0,s.mY)(),rh,(0,s.QD)("p",null,(0,n.WA)(r.edit_chauffeur.repr),1)]),e.showDeleteAlert?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("div",oh,[(0,s.mY)(" Êtes-vous sûr de vouloir supprimer ce chauffeur ? Cette action est irréversible. "),(0,s.QD)("button",{class:"btn btn-danger",onClick:l[0]||(l[0]=(...e)=>o.confirmDelete&&o.confirmDelete(...e))},"Confirmer"),(0,s.QD)("button",{class:"btn btn-secondary",onClick:l[1]||(l[1]=(...e)=>o.cancelDelete&&o.cancelDelete(...e))},"Annuler")])),uh])],32)])}var ch={name:"ChauffeurCreatePage",mounted(){const e=this.$route.params.id,l=this.$decryptId(e);console.log(l),this.url=`${this.$store.state.baseUrl}/api/transport_scolaire/chauffeurs/${l}/`,this.fecthData(this.url)},data(){return{url:"",baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/chauffeurs/`,edit_chauffeur:{nom:"",prenoms:"",email:"",tel:"",repr:""}}},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.edit_chauffeur={...l}})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des chauffeurs:",e)}))},confirmDelete(){y.c.delete(this.url,this.edit_chauffeur).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/chauffeur")})).catch((e=>{console.error(e)}))},cancelDelete(){this.$router.push("/transport_scolaire/chauffeur")}}};const ph=(0,x.c)(ch,[["render",dh],["__scopeId","data-v-26d061f3"]]);var mh=ph;const hh=e=>((0,s.ED)("data-v-0a33a0fa"),e=e(),(0,s.ii)(),e),gh={class:"cont-sep"},vh=hh((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Liste"),(0,s.mY)(),(0,s.QD)("span",null,"Bus")]),(0,s.QD)("div",{class:"line"})],-1))),Qh={class:"actions"},_h={class:"search-form"},Dh={class:"table-responsive"},fh={class:"table"},Ah=hh((()=>(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("th",null,"N°"),(0,s.QD)("th",null,"Immatriculation"),(0,s.QD)("th",null,"Nombre Place"),(0,s.QD)("th",null,"Couleur"),(0,s.QD)("th",null,"Type"),(0,s.QD)("th",null,"Chauffeur"),(0,s.QD)("th",null,"Actions")])],-1))),bh=hh((()=>(0,s.QD)("div",{class:"popup-buttons"},null,-1)));function wh(e,l,a,i,r,o){const u=(0,s.E1)("font-awesome-icon"),d=(0,s.E1)("router-link");return(0,s.Wz)(),(0,s.An)("div",null,[(0,s.QD)("div",gh,[vh,(0,s.QD)("div",Qh,[(0,s.K2)(d,{to:"/transport_scolaire/bus/nouveau",class:"btn btn-add"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","plus"]}),(0,s.mY)(" Ajouter un nouveau bus ")])),_:1})]),(0,s.QD)("div",_h,[(0,s.wt)((0,s.QD)("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>r.searchQuery=e),placeholder:"Rechercher  élève ..."},null,512),[[t.Og,r.searchQuery]]),(0,s.K2)(u,{icon:["fas","magnifying-glass"],class:"icon"})]),(0,s.QD)("div",Dh,[(0,s.QD)("table",fh,[Ah,(0,s.K2)(t.Q9,{name:"bus-table",tag:"tbody"},{default:(0,s.Ql)((()=>[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.buss,(l=>((0,s.Wz)(),(0,s.An)("tr",{key:l.id},[(0,s.QD)("td",null,(0,n.WA)(l.pk),1),(0,s.QD)("td",null,(0,n.WA)(l.immatriculation),1),(0,s.QD)("td",null,(0,n.WA)(l.nbr_place),1),(0,s.QD)("td",null,[(0,s.QD)("span",{class:"couleur-bus",style:(0,n.MN)({background:l.couleur,color:"#fff",display:"inline-block",width:"100%",height:"100%",textAlign:"center"})},(0,n.WA)(l.couleur),5)]),(0,s.QD)("td",null,(0,n.WA)(l.type),1),(0,s.QD)("td",null,(0,n.WA)(l.chauffeur),1),(0,s.QD)("td",null,[(0,s.K2)(d,{to:`/transport_scolaire/bus/${e.$encryptId(l.pk)}/edit`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","file-pen"]})])),_:2},1032,["to"]),(0,s.K2)(d,{to:`/transport_scolaire/bus/${e.$encryptId(l.pk)}/delete`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","x"]})])),_:2},1032,["to"])])])))),128))])),_:1})])]),bh])])}var Kh={name:"BusPage",data(){return{buss:[],baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/buss/`,searchQuery:"",startDate:"",endDate:"",current_page:1,nbr_page:1}},computed:{},methods:{fecthData(e){L.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.buss=l.results})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des chauffeurs:",e)}))}},mounted(){this.fecthData(this.baseUrlPage)}};const Vh=(0,x.c)(Kh,[["render",wh],["__scopeId","data-v-0a33a0fa"]]);var Uh=Vh;const kh=e=>((0,s.ED)("data-v-039a0834"),e=e(),(0,s.ii)(),e),Ch={class:"container"},Eh=kh((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Ajout"),(0,s.mY)(),(0,s.QD)("span",null,"Bus")]),(0,s.QD)("div",{class:"line"})],-1))),yh=kh((()=>(0,s.QD)("h5",null,"Informations Bus",-1))),Ih={class:"col-12 col-md-6"},Lh=kh((()=>(0,s.QD)("div",{class:"text-danger"},null,-1))),Wh={class:"col-12 col-md-6"},xh={class:"col-12 col-md-6"},Ph={class:"col-12 col-md-6"},$h={class:"col-12 col-md-6"},zh=kh((()=>(0,s.QD)("span",null,"Enregistrer",-1)));function qh(e,l,a,n,i,r){const o=(0,s.E1)("b-form-input"),u=(0,s.E1)("b-form-group"),d=(0,s.E1)("b-form-select"),c=(0,s.E1)("font-awesome-icon"),p=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",Ch,[(0,s.QD)("form",{onSubmit:l[5]||(l[5]=(0,t.Y7)(((...e)=>r.addBus&&r.addBus(...e)),["prevent"])),class:"row form-form form-75"},[Eh,yh,(0,s.QD)("div",Ih,[(0,s.K2)(u,{label:"immatriculation :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"immatriculation",modelValue:i.new_bus.immatriculation,"onUpdate:modelValue":l[0]||(l[0]=e=>i.new_bus.immatriculation=e),required:""},null,8,["modelValue"])])),_:1}),Lh]),(0,s.QD)("div",Wh,[(0,s.K2)(u,{label:"nombre_place :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"nombre_place",modelValue:i.new_bus.nbr_place,"onUpdate:modelValue":l[1]||(l[1]=e=>i.new_bus.nbr_place=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",xh,[(0,s.K2)(u,{label:"Chauffeur :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.chauffeur,"onUpdate:modelValue":l[2]||(l[2]=e=>i.new_bus.chauffeur=e),options:i.chauffeurs},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",Ph,[(0,s.K2)(u,{label:"Type Vehicule :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.type,"onUpdate:modelValue":l[3]||(l[3]=e=>i.new_bus.type=e),options:i.types,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",$h,[(0,s.K2)(u,{label:"Coleur :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"couleur",modelValue:i.new_bus.couleur,"onUpdate:modelValue":l[4]||(l[4]=e=>i.new_bus.couleur=e),type:"color",required:""},null,8,["modelValue"])])),_:1})]),(0,s.K2)(p,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{icon:["fas","floppy-disk"]}),zh])),_:1})],32)])}var Bh={name:"BusCreatePage",data(){return{baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/buss/`,baseUrlType:`${this.$store.state.baseUrl}/api/transport_scolaire/typevehicules/`,baseUrlChauffeur:`${this.$store.state.baseUrl}/api/transport_scolaire/chauffeurs/`,new_bus:{immatriculation:"",immatriculation_error:"",nbr_place:"",couleur:"#000000",type:"",chauffeur:""},types:[],chauffeurs:[]}},methods:{fecthDataChauffeur(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;console.log(l),this.chauffeurs=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des chauffeurs:",e)}))},fecthDataType(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.types=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des types:",e)}))},addBus(){y.c.post(this.baseUrlPage,this.new_bus).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/bus")})).catch((e=>{console.error(e)}))}},mounted(){this.fecthDataType(this.baseUrlType),this.fecthDataChauffeur(this.baseUrlChauffeur)}};const Sh=(0,x.c)(Bh,[["render",qh],["__scopeId","data-v-039a0834"]]);var Yh=Sh;const Rh=e=>((0,s.ED)("data-v-8aed6ba2"),e=e(),(0,s.ii)(),e),Nh={class:"container"},Th=Rh((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Ajout"),(0,s.mY)(),(0,s.QD)("span",null,"Bus")]),(0,s.QD)("div",{class:"line"})],-1))),Mh=Rh((()=>(0,s.QD)("h5",null,"Informations Bus",-1))),Oh={class:"col-12 col-md-6"},Jh=Rh((()=>(0,s.QD)("div",{class:"text-danger"},null,-1))),Fh={class:"col-12 col-md-6"},Gh={class:"col-12 col-md-6"},Hh={class:"col-12 col-md-6"},Xh={class:"col-12 col-md-6"},jh=Rh((()=>(0,s.QD)("span",null,"Enregistrer",-1)));function Zh(e,l,a,n,i,r){const o=(0,s.E1)("b-form-input"),u=(0,s.E1)("b-form-group"),d=(0,s.E1)("b-form-select"),c=(0,s.E1)("font-awesome-icon"),p=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",Nh,[(0,s.QD)("form",{onSubmit:l[5]||(l[5]=(0,t.Y7)(((...e)=>r.editBus&&r.editBus(...e)),["prevent"])),class:"row form-form form-75"},[Th,Mh,(0,s.QD)("div",Oh,[(0,s.K2)(u,{label:"immatriculation :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"immatriculation",modelValue:i.edit_bus.immatriculation,"onUpdate:modelValue":l[0]||(l[0]=e=>i.edit_bus.immatriculation=e),required:""},null,8,["modelValue"])])),_:1}),Jh]),(0,s.QD)("div",Fh,[(0,s.K2)(u,{label:"nombre_place :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"nombre_place",modelValue:i.edit_bus.nbr_place,"onUpdate:modelValue":l[1]||(l[1]=e=>i.edit_bus.nbr_place=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Gh,[(0,s.K2)(u,{label:"Chauffeur :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.edit_bus.chauffeur,"onUpdate:modelValue":l[2]||(l[2]=e=>i.edit_bus.chauffeur=e),options:i.chauffeurs,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",Hh,[(0,s.K2)(u,{label:"Type Vehicule :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.edit_bus.type,"onUpdate:modelValue":l[3]||(l[3]=e=>i.edit_bus.type=e),options:i.types,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",Xh,[(0,s.K2)(u,{label:"Coleur :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"couleur",modelValue:i.edit_bus.couleur,"onUpdate:modelValue":l[4]||(l[4]=e=>i.edit_bus.couleur=e),type:"color",required:""},null,8,["modelValue"])])),_:1})]),(0,s.K2)(p,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{icon:["fas","floppy-disk"]}),jh])),_:1})],32)])}var eg={name:"BusCreatePage",data(){return{url:"",baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/buss/`,baseUrlType:`${this.$store.state.baseUrl}/api/transport_scolaire/typevehicules/`,baseUrlChauffeur:`${this.$store.state.baseUrl}/api/transport_scolaire/chauffeurs/`,edit_bus:{immatriculation:"",immatriculation_error:"",nbr_place:"",couleur:"",type:"",chauffeur:"red"},types:[],chauffeurs:[]}},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.edit_bus={...l,type:l.type.pk,chauffeur:l.chauffeur.pk}})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des eleves:",e)}))},fecthDataChauffeur(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;console.log(l),this.chauffeurs=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des chauffeurs:",e)}))},fecthDataType(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;console.log(l),this.types=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des types:",e)}))},editBus(){let e="Cette champ est requis";this.edit_bus.immatriculation?this.edit_bus.nbr_place?this.edit_bus.couleur?this.edit_bus.type?this.edit_bus.chauffeur?y.c.put(this.url,this.edit_bus).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/bus")})).catch((e=>{console.error(e)})):this.edit_bus.chauffeur_error=e:this.edit_bus.type_error=e:this.edit_bus.couleurerror=e:this.edit_bus.nbr_place_error=e:this.edit_bus.immatriculation_error=e}},mounted(){const e=this.$route.params.id,l=this.$decryptId(e);console.log(l),this.url=`${this.$store.state.baseUrl}/api/transport_scolaire/buss/${l}/`,this.fecthData(this.url),this.fecthDataType(this.baseUrlType),this.fecthDataChauffeur(this.baseUrlChauffeur)}};const lg=(0,x.c)(eg,[["render",Zh],["__scopeId","data-v-8aed6ba2"]]);var ag=lg;const tg=e=>((0,s.ED)("data-v-3248b8c9"),e=e(),(0,s.ii)(),e),sg={class:"container"},ng=tg((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Modification"),(0,s.mY)(),(0,s.QD)("span",null,"Bus")]),(0,s.QD)("div",{class:"line"})],-1))),ig=tg((()=>(0,s.QD)("h5",null,"Informations Bus",-1))),rg={class:"col-12 col-md-6"},og={class:"col-12 col-md-6"},ug={class:"col-12"},dg={class:"col-12 col-md-6"},cg={class:"col-12 col-md-6"},pg={class:"col-12"},mg={class:"col-12 col-md-6"},hg={class:"col-12 col-md-6"},gg={class:"col-12"},vg=tg((()=>(0,s.QD)("h5",null,"Informations Parent Bus",-1))),Qg={class:"col-12 col-md-6"},_g={class:"col-12 col-md-6"},Dg={class:"col-12 col-md-6"},fg={class:"col-12 col-md-6"},Ag=tg((()=>(0,s.QD)("span",null,"Enregistrer les modifications",-1)));function bg(e,l,a,n,i,r){const o=(0,s.E1)("b-form-input"),u=(0,s.E1)("b-form-group"),d=(0,s.E1)("b-form-select"),c=(0,s.E1)("font-awesome-icon"),p=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",sg,[(0,s.QD)("form",{onSubmit:l[13]||(l[13]=(0,t.Y7)(((...e)=>r.editBus&&r.editBus(...e)),["prevent"])),class:"row form-form form-75"},[ng,ig,(0,s.QD)("div",rg,[(0,s.K2)(u,{label:"nom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"nom",modelValue:i.new_bus.nom,"onUpdate:modelValue":l[0]||(l[0]=e=>i.new_bus.nom=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",og,[(0,s.K2)(u,{label:"Prénom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"prenoms",modelValue:i.new_bus.prenoms,"onUpdate:modelValue":l[1]||(l[1]=e=>i.new_bus.prenoms=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",ug,[(0,s.K2)(u,{label:"Date Naissance :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"date_naissance",modelValue:i.new_bus.date_naissance,"onUpdate:modelValue":l[2]||(l[2]=e=>i.new_bus.date_naissance=e),type:"date",required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",dg,[(0,s.K2)(u,{label:"Ecole :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.ecole,"onUpdate:modelValue":l[3]||(l[3]=e=>i.new_bus.ecole=e),options:i.ecoles,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",cg,[(0,s.K2)(u,{label:"Classe :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.classe,"onUpdate:modelValue":l[4]||(l[4]=e=>i.new_bus.classe=e),options:i.classes,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",pg,[(0,s.K2)(u,{label:"Adresse :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.adresse,"onUpdate:modelValue":l[5]||(l[5]=e=>i.new_bus.adresse=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",mg,[(0,s.K2)(u,{label:"Ligne de bus :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.ligne_bus,"onUpdate:modelValue":l[6]||(l[6]=e=>i.new_bus.ligne_bus=e),options:i.lignes_bus,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",hg,[(0,s.K2)(u,{label:"Lieu de ligne :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.lieu_ligne,"onUpdate:modelValue":l[7]||(l[7]=e=>i.new_bus.lieu_ligne=e),options:i.lieux_ligne,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",gg,[(0,s.K2)(u,{label:"Lieu de ramassage :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.lieu_ramassage,"onUpdate:modelValue":l[8]||(l[8]=e=>i.new_bus.lieu_ramassage=e),options:i.lieux_ramassage,required:""},null,8,["modelValue","options"])])),_:1})]),vg,(0,s.QD)("div",Qg,[(0,s.K2)(u,{label:"Nom Père :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.nom_pere,"onUpdate:modelValue":l[9]||(l[9]=e=>i.new_bus.nom_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",_g,[(0,s.K2)(u,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.tel_pere,"onUpdate:modelValue":l[10]||(l[10]=e=>i.new_bus.tel_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Dg,[(0,s.K2)(u,{label:"Nom Mère :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.nom_pere,"onUpdate:modelValue":l[11]||(l[11]=e=>i.new_bus.nom_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",fg,[(0,s.K2)(u,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.tel_pere,"onUpdate:modelValue":l[12]||(l[12]=e=>i.new_bus.tel_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.K2)(p,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{icon:["fas","floppy-disk"]}),Ag])),_:1})],32)])}const wg="localhost:8000";var Kg={name:"BusCreatePage",mounted(){},data(){return{new_bus:{nom:"Doe",prenoms:"John",date_naissance:"2005-08-15",ecole:2,niveau:"Niveau 3",classe:3,ligne_bus:1,lieu_ligne:"Lieu 2",lieu_ramassage:"Lieu 1",nom_pere:"Doe",tel_pere:"0123456789",nom_mere:"Smith",tel_mere:"9876543210",adresse:"123 Rue Principale"},ecoles:[{value:1,text:"Ecole 1"},{value:2,text:"Ecole 2"},{value:3,text:"Ecole 3"}],classes:[{value:1,text:"Classe 1"},{value:2,text:"Classe 2"},{value:3,text:"Classe 3"}],lignes_bus:[{value:1,text:"Ligne 1"},{value:2,text:"Ligne 2"},{value:3,text:"Ligne 3"}],lieux_ligne:[{value:"Lieu 1",text:"Lieu 1"},{value:"Lieu 2",text:"Lieu 2"},{value:"Lieu 3",text:"Lieu 3"}],lieux_ramassage:[{value:"Lieu 1",text:"Lieu 1"},{value:"Lieu 2",text:"Lieu 2"},{value:"Lieu 3",text:"Lieu 3"}]}},methods:{editBus(){const e={nom:this.new_bus.nom,agge:this.new_bus.agge};this.$router.push("/bus"),y.c.post(`http://${wg}/api/bus`,e).then((e=>{console.log(e.data),this.new_bus.nom=null,this.new_bus.agge=null,this.$router.push("/Bus")})).catch((e=>{console.error(e)}))}}};const Vg=(0,x.c)(Kg,[["render",bg],["__scopeId","data-v-3248b8c9"]]);var Ug=Vg;const kg=e=>((0,s.ED)("data-v-0953a372"),e=e(),(0,s.ii)(),e),Cg={class:"container"},Eg={class:"title"},yg=kg((()=>(0,s.QD)("span",null,"Suppression",-1))),Ig=kg((()=>(0,s.QD)("span",null,"Chauffeur",-1))),Lg={key:0,class:"alert alert-danger"},Wg=kg((()=>(0,s.QD)("div",{class:"line"},null,-1)));function xg(e,l,a,i,r,o){return(0,s.Wz)(),(0,s.An)("div",Cg,[(0,s.QD)("form",{onSubmit:l[2]||(l[2]=(0,t.Y7)(((...l)=>e.deleteChauffeur&&e.deleteChauffeur(...l)),["prevent"])),class:"row form-form form-75"},[(0,s.QD)("div",Eg,[(0,s.QD)("h4",null,[yg,(0,s.mY)(),Ig,(0,s.QD)("p",null,(0,n.WA)(r.edit_chauffeur.repr),1)]),e.showDeleteAlert?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("div",Lg,[(0,s.mY)(" Êtes-vous sûr de vouloir supprimer ce chauffeur ? Cette action est irréversible. "),(0,s.QD)("button",{class:"btn btn-danger",onClick:l[0]||(l[0]=(...e)=>o.confirmDelete&&o.confirmDelete(...e))},"Confirmer"),(0,s.QD)("button",{class:"btn btn-secondary",onClick:l[1]||(l[1]=(...e)=>o.cancelDelete&&o.cancelDelete(...e))},"Annuler")])),Wg])],32)])}var Pg={name:"ChauffeurCreatePage",mounted(){const e=this.$route.params.id,l=this.$decryptId(e);console.log(l),this.url=`${this.$store.state.baseUrl}/api/transport_scolaire/chauffeurs/${l}/`,this.fecthData(this.url)},data(){return{url:"",baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/chauffeurs/`,edit_chauffeur:{nom:"",prenoms:"",email:"",tel:"",repr:""}}},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.edit_chauffeur={...l}})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des chauffeurs:",e)}))},confirmDelete(){y.c.delete(this.url,this.edit_chauffeur).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/chauffeur")})).catch((e=>{console.error(e)}))},cancelDelete(){this.$router.push("/transport_scolaire/chauffeur")}}};const $g=(0,x.c)(Pg,[["render",xg],["__scopeId","data-v-0953a372"]]);var zg=$g;const qg=e=>((0,s.ED)("data-v-7d9dc0fa"),e=e(),(0,s.ii)(),e),Bg={class:"cont-sep"},Sg=qg((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Liste"),(0,s.mY)(),(0,s.QD)("span",null,"Lignes Bus")]),(0,s.QD)("div",{class:"line"})],-1))),Yg={class:"actions"},Rg=qg((()=>(0,s.QD)("div",{class:"filter-form"},null,-1))),Ng={class:"search-form"},Tg={class:"table-responsive"},Mg={class:"table"},Og=qg((()=>(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("th",null,"N°"),(0,s.QD)("th",null,"Nom"),(0,s.QD)("th",null,"Lieux"),(0,s.QD)("th",null,"Actions")])],-1))),Jg={class:"pagination"},Fg={class:"page"},Gg=qg((()=>(0,s.QD)("span",null,"Page",-1))),Hg={class:"btns"},Xg=["disabled"],jg=["disabled"],Zg=qg((()=>(0,s.QD)("div",{class:"ads btn"}," . ",-1))),ev=qg((()=>(0,s.QD)("div",{class:"popup-buttons"},null,-1)));function lv(e,l,a,i,r,o){const u=(0,s.E1)("font-awesome-icon"),d=(0,s.E1)("router-link");return(0,s.Wz)(),(0,s.An)("div",null,[(0,s.QD)("div",Bg,[Sg,(0,s.QD)("div",Yg,[(0,s.K2)(d,{to:"/transport_scolaire/ligne/nouveau",class:"btn btn-add"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","plus"]}),(0,s.mY)(" Ajouter un nouveau ligne bus ")])),_:1})]),Rg,(0,s.QD)("div",Ng,[(0,s.wt)((0,s.QD)("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>r.searchQuery=e),placeholder:"Rechercher  élève ..."},null,512),[[t.Og,r.searchQuery]]),(0,s.K2)(u,{icon:["fas","magnifying-glass"],class:"icon"})]),(0,s.QD)("div",Tg,[(0,s.QD)("table",Mg,[Og,(0,s.K2)(t.Q9,{name:"ligne-table",tag:"tbody"},{default:(0,s.Ql)((()=>[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.lignes,(l=>((0,s.Wz)(),(0,s.An)("tr",{key:l.id},[(0,s.QD)("td",null,(0,n.WA)(l.pk),1),(0,s.QD)("td",null,(0,n.WA)(l.nom),1),(0,s.QD)("td",null,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(l.ordrelieus,(e=>((0,s.Wz)(),(0,s.An)("span",{key:e.pk}," --"+(0,n.WA)(e.lieu_ligne.repr),1)))),128))]),(0,s.QD)("td",null,[(0,s.K2)(d,{to:`/transport_scolaire/ligne/${e.$encryptId(l.pk)}/edit`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","file-pen"]})])),_:2},1032,["to"]),(0,s.K2)(d,{to:`/transport_scolaire/ligne/${e.$encryptId(l.pk)}/delete`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","x"]})])),_:2},1032,["to"])])])))),128))])),_:1})])]),(0,s.QD)("div",Jg,[(0,s.QD)("div",Fg,[Gg,(0,s.mY)(),(0,s.QD)("span",null,(0,n.WA)(r.current_page),1),(0,s.mY)(" sur "),(0,s.QD)("span",null,(0,n.WA)(r.nbr_page),1)]),(0,s.QD)("div",Hg,[(0,s.QD)("button",{onClick:l[1]||(l[1]=l=>e.goToPageCandidat(e.previousPageCandidat)),disabled:!e.previousPageCandidat,class:"btn"},[(0,s.K2)(u,{icon:["fas","chevron-left"]})],8,Xg),(0,s.QD)("button",{onClick:l[2]||(l[2]=l=>e.goToPageCandidat(e.previousPageCandidat)),class:"btn"},(0,n.WA)(r.current_page),1),(0,s.QD)("button",{onClick:l[3]||(l[3]=l=>e.goToPageCandidat(e.nextPageCandidat)),disabled:!e.nextPageCandidat,class:"btn"},[(0,s.K2)(u,{icon:["fas","chevron-right"]})],8,jg)]),Zg]),ev])])}var av={name:"LignePage",data(){return{baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/lignes/`,lignes:[],searchQuery:"",startDate:"",endDate:"",current_page:2,nbr_page:10}},computed:{},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0,special_detail_manytoone_class:"['ordrelieus',]"}}).then((e=>{const l=e.data;console.log(l),this.lignes=l.results})).catch((e=>{console.error("Une erreur s'est produit lors de la récupération des lignes:",e)}))}},mounted(){this.fecthData(this.baseUrlPage)}};const tv=(0,x.c)(av,[["render",lv],["__scopeId","data-v-7d9dc0fa"]]);var sv=tv;const nv=e=>((0,s.ED)("data-v-4c3f1da0"),e=e(),(0,s.ii)(),e),iv={class:"container"},rv=nv((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Ajout"),(0,s.mY)(),(0,s.QD)("span",null,"Ligne")]),(0,s.QD)("div",{class:"line"})],-1))),ov=nv((()=>(0,s.QD)("h5",null,"Informations Ligne",-1))),uv={class:"col-12 col-md-12"},dv=nv((()=>(0,s.QD)("h5",null,"Ajouter Les lieux du ligne",-1))),cv={class:"col-12 row"},pv={class:"row"},mv=["onUpdate:modelValue","onInput"],hv=nv((()=>(0,s.QD)("option",{value:""},"Sélectionnez...",-1))),gv=["value"],vv={class:"col-2 col-md-3 action"},Qv=nv((()=>(0,s.QD)("span",null,"Plus",-1))),_v=nv((()=>(0,s.QD)("span",null,"Enregistrer",-1)));function Dv(e,l,a,i,r,o){const u=(0,s.E1)("b-form-input"),d=(0,s.E1)("b-form-group"),c=(0,s.E1)("font-awesome-icon"),p=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",iv,[(0,s.QD)("form",{onSubmit:l[1]||(l[1]=(0,t.Y7)(((...e)=>o.addLigne&&o.addLigne(...e)),["prevent"])),class:"row form-form form-75"},[rv,ov,(0,s.QD)("div",uv,[(0,s.K2)(d,{label:"nom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{id:"nom",modelValue:r.new_ligne.nom,"onUpdate:modelValue":l[0]||(l[0]=e=>r.new_ligne.nom=e),required:""},null,8,["modelValue"])])),_:1})]),dv,(0,s.QD)("div",cv,[(0,s.K2)(t.Q9,{name:"fade",tag:"div",class:"row",mode:"out-in"},{default:(0,s.Ql)((()=>[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.new_ligne.ordrelieus,((e,l)=>((0,s.Wz)(),(0,s.An)("div",{class:"col-12 col-md-4 lieu",key:l},[(0,s.QD)("div",pv,[(0,s.K2)(d,{class:"col-10 col-md-9",label:"Lieu Ligne :"},{default:(0,s.Ql)((()=>[(0,s.wt)((0,s.QD)("select",{class:"form-select","onUpdate:modelValue":e=>r.new_ligne.ordrelieus[l].lieu_ligne=e,onInput:l=>o.handleSelectLieuChange(e.num_ordre,l),required:""},[hv,((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.lieu_lignes,(e=>((0,s.Wz)(),(0,s.An)("option",{value:e.value,key:e.value},(0,n.WA)(e.text),9,gv)))),128))],40,mv),[[t.Ip,r.new_ligne.ordrelieus[l].lieu_ligne]])])),_:2},1024),(0,s.QD)("div",vv,[(0,s.K2)(c,{onClick:l=>o.handleSelectLieuClickDelete(e.num_ordre,l),icon:["fas","x"]},null,8,["onClick"])])])])))),128))])),_:1}),(0,s.K2)(p,{onClick:o.addOrderLieu,variant:"",class:"btn btn-plus"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{icon:["fas","plus"]}),Qv])),_:1},8,["onClick"])]),(0,s.K2)(p,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{icon:["fas","floppy-disk"]}),_v])),_:1})],32)])}var fv={name:"ChauffeurCreatePage",mounted(){this.fecthDataLieuLigne(this.baseUrlLieuLigne)},data(){return{baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/lignes/`,baseUrlLieuLigne:`${this.$store.state.baseUrl}/api/transport_scolaire/lieulignes/`,lieu_lignes:[],new_ligne:{nom:"",ordrelieus:[]}}},methods:{handleSelectLieuClickDelete(e,l){const a=this.new_ligne.ordrelieus.findIndex((l=>l.num_ordre===e));-1!==a&&this.new_ligne.ordrelieus.splice(a,1)},handleSelectLieuChange(e,l){const a=l.target;let t=a.value;-1!=this.new_ligne.ordrelieus.findIndex((e=>e.lieu_ligne==t))&&(t="",a.selectedIndex=-1);const s={num_ordre:e,lieu_ligne:t};console.log(a),console.log("La sélection a changé pour l'ordre",this.new_ligne.ordrelieus,s)},fecthDataLieuLigne(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.lieu_lignes=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des types:",e)}))},addOrderLieu(){let e=1;this.new_ligne.ordrelieus.length>0&&(e=this.new_ligne.ordrelieus[this.new_ligne.ordrelieus.length-1].num_ordre+1),console.log(e);const l={num_ordre:e,lieu_ligne:""};this.new_ligne.ordrelieus.push(l),console.log(this.new_ligne.ordrelieus)},addLigne(){y.c.post(this.baseUrlPage,this.new_ligne).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/ligne")})).catch((e=>{console.error(e)}))}}};const Av=(0,x.c)(fv,[["render",Dv],["__scopeId","data-v-4c3f1da0"]]);var bv=Av;const wv=e=>((0,s.ED)("data-v-dd331a08"),e=e(),(0,s.ii)(),e),Kv={class:"container"},Vv=wv((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Modification"),(0,s.mY)(),(0,s.QD)("span",null,"Ligne")]),(0,s.QD)("div",{class:"line"})],-1))),Uv=wv((()=>(0,s.QD)("h5",null,"Informations Ligne",-1))),kv={class:"col-12 col-md-12"},Cv=wv((()=>(0,s.QD)("h5",null,"Lieux du ligne",-1))),Ev={class:"col-12 row"},yv={class:"row"},Iv=["onUpdate:modelValue","onInput"],Lv=wv((()=>(0,s.QD)("option",{value:""},"Sélectionnez...",-1))),Wv=["selected","value"],xv={class:"col-2 col-md-3 action"},Pv=wv((()=>(0,s.QD)("span",null,"Plus",-1))),$v=wv((()=>(0,s.QD)("span",null,"Enregistrer",-1)));function zv(e,l,a,i,r,o){const u=(0,s.E1)("b-form-input"),d=(0,s.E1)("b-form-group"),c=(0,s.E1)("font-awesome-icon"),p=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",Kv,[(0,s.QD)("form",{onSubmit:l[1]||(l[1]=(0,t.Y7)(((...e)=>o.editLigne&&o.editLigne(...e)),["prevent"])),class:"row form-form form-75"},[Vv,Uv,(0,s.QD)("div",kv,[(0,s.K2)(d,{label:"nom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{id:"nom",modelValue:r.edit_ligne.nom,"onUpdate:modelValue":l[0]||(l[0]=e=>r.edit_ligne.nom=e),required:""},null,8,["modelValue"])])),_:1})]),Cv,(0,s.QD)("div",Ev,[(0,s.K2)(t.Q9,{name:"fade",tag:"div",class:"row",mode:"out-in"},{default:(0,s.Ql)((()=>[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.edit_ligne.ordrelieus,((e,l)=>((0,s.Wz)(),(0,s.An)("div",{class:"col-12 col-md-4 lieu",key:l},[(0,s.QD)("div",yv,[(0,s.K2)(d,{class:"col-10 col-md-9",label:"Lieu Ligne :"},{default:(0,s.Ql)((()=>[(0,s.wt)((0,s.QD)("select",{class:"form-select","onUpdate:modelValue":e=>r.edit_ligne.ordrelieus[l].lieu_ligne=e,onInput:l=>o.handleSelectLieuChange(e.num_ordre,l),required:""},[Lv,((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.lieu_lignes,(l=>((0,s.Wz)(),(0,s.An)("option",{selected:l.value===e.lieu_ligne,value:l.value,key:l.value},(0,n.WA)(l.text),9,Wv)))),128))],40,Iv),[[t.Ip,r.edit_ligne.ordrelieus[l].lieu_ligne]])])),_:2},1024),(0,s.QD)("div",xv,[(0,s.K2)(c,{onClick:l=>o.handleSelectLieuClickDelete(e.num_ordre,l),icon:["fas","x"]},null,8,["onClick"])])])])))),128))])),_:1}),(0,s.K2)(p,{onClick:o.addOrderLieu,variant:"",class:"btn btn-plus"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{icon:["fas","plus"]}),Pv])),_:1},8,["onClick"])]),(0,s.K2)(p,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{icon:["fas","floppy-disk"]}),$v])),_:1})],32)])}var qv={name:"ChauffeurCreatePage",mounted(){const e=this.$route.params.id,l=this.$decryptId(e);console.log(l),this.url=`${this.$store.state.baseUrl}/api/transport_scolaire/lignes/${l}/`,this.fecthData(this.url),this.fecthDataLieuLigne(this.baseUrlLieuLigne)},data(){return{baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/lignes/`,baseUrlLieuLigne:`${this.$store.state.baseUrl}/api/transport_scolaire/lieulignes/`,lieu_lignes:[],edit_ligne:{nom:"",ordrelieus:[]}}},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.edit_ligne={...l};const a=l.ordrelieus.map((e=>(e.lieu_ligne=e.lieu_ligne.pk,e)));this.edit_ligne.ordrelieus=a,console.log(this.edit_ligne.ordrelieus)})).catch((e=>{console.error("Une erreur s'est produit lors de la récupération des lignes:",e)}))},handleSelectLieuClickDelete(e,l){const a=this.edit_ligne.ordrelieus.findIndex((l=>l.num_ordre===e));-1!==a&&this.edit_ligne.ordrelieus.splice(a,1)},handleSelectLieuChange(e,l){const a=l.target;let t=a.value;-1!=this.edit_ligne.ordrelieus.findIndex((e=>e.lieu_ligne==t))&&(t="",a.selectedIndex=-1);const s={num_ordre:e,lieu_ligne:t};console.log(a),console.log("La sélection a changé pour l'ordre",this.edit_ligne.ordrelieus,s)},fecthDataLieuLigne(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.lieu_lignes=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des types:",e)}))},addOrderLieu(){let e=1;this.edit_ligne.ordrelieus.length>0&&(e=this.edit_ligne.ordrelieus[this.edit_ligne.ordrelieus.length-1].num_ordre+1),console.log(e);const l={num_ordre:e,lieu_ligne:""};this.edit_ligne.ordrelieus.push(l),console.log(this.edit_ligne.ordrelieus)},editLigne(){y.c.put(this.url,this.edit_ligne).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/ligne")})).catch((e=>{console.error(e)}))}}};const Bv=(0,x.c)(qv,[["render",zv],["__scopeId","data-v-dd331a08"]]);var Sv=Bv;const Yv=e=>((0,s.ED)("data-v-22d7809e"),e=e(),(0,s.ii)(),e),Rv={class:"container"},Nv=Yv((()=>(0,s.QD)("h3",null,"Gestion de projects",-1))),Tv={class:"col-4"},Mv={class:"col-4"};function Ov(e,l,a,n,i,r){const o=(0,s.E1)("b-form-input"),u=(0,s.E1)("b-form-group"),d=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",Rv,[Nv,(0,s.QD)("form",{onSubmit:l[2]||(l[2]=(0,t.Y7)(((...e)=>r.addParentt&&r.addParentt(...e)),["prevent"])),class:"row"},[(0,s.QD)("div",Tv,[(0,s.K2)(u,{label:"nom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"nom",modelValue:i.newParentt.nom,"onUpdate:modelValue":l[0]||(l[0]=e=>i.newParentt.nom=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Mv,[(0,s.K2)(u,{label:"agge :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"agge",modelValue:i.newParentt.agge,"onUpdate:modelValue":l[1]||(l[1]=e=>i.newParentt.agge=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.K2)(u,null,{default:(0,s.Ql)((()=>[(0,s.K2)(d,{type:"submit",variant:"success"},{default:(0,s.Ql)((()=>[(0,s.mY)("Save")])),_:1})])),_:1})],32)])}const Jv="localhost:8000";var Fv={name:"ParenttCreatePage",mounted(){},data(){return{newParentt:{nom:"",agge:""}}},methods:{addParentt(){const e={nom:this.newParentt.nom,agge:this.newParentt.agge};y.c.post(`http://${Jv}/api/parentt`,e).then((e=>{console.log(e.data),this.newParentt.nom=null,this.newParentt.agge=null,this.$router.push("/parentt")})).catch((e=>{console.error(e)}))}}};const Gv=(0,x.c)(Fv,[["render",Ov],["__scopeId","data-v-22d7809e"]]);var Hv=Gv;const Xv=e=>((0,s.ED)("data-v-9aea2c04"),e=e(),(0,s.ii)(),e),jv={class:"container"},Zv={class:"title"},eQ=Xv((()=>(0,s.QD)("span",null,"Suppression",-1))),lQ=Xv((()=>(0,s.QD)("span",null,"Ligne",-1))),aQ={key:0,class:"alert alert-danger"},tQ=Xv((()=>(0,s.QD)("div",{class:"line"},null,-1)));function sQ(e,l,a,i,r,o){return(0,s.Wz)(),(0,s.An)("div",jv,[(0,s.QD)("form",{onSubmit:l[2]||(l[2]=(0,t.Y7)(((...l)=>e.deleteLigne&&e.deleteLigne(...l)),["prevent"])),class:"row form-form form-75"},[(0,s.QD)("div",Zv,[(0,s.QD)("h4",null,[eQ,(0,s.mY)(),lQ,(0,s.QD)("p",null,(0,n.WA)(r.edit_ligne.repr),1)]),e.showDeleteAlert?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("div",aQ,[(0,s.mY)(" Êtes-vous sûr de vouloir supprimer ce ligne ? Cette action est irréversible. "),(0,s.QD)("button",{class:"btn btn-danger",onClick:l[0]||(l[0]=(...e)=>o.confirmDelete&&o.confirmDelete(...e))},"Confirmer"),(0,s.QD)("button",{class:"btn btn-secondary",onClick:l[1]||(l[1]=(...e)=>o.cancelDelete&&o.cancelDelete(...e))},"Annuler")])),tQ])],32)])}var nQ={name:"LigneCreatePage",mounted(){const e=this.$route.params.id,l=this.$decryptId(e);console.log(l),this.url=`${this.$store.state.baseUrl}/api/transport_scolaire/lignes/${l}/`,this.fecthData(this.url)},data(){return{url:"",baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/lignes/`,edit_ligne:{nom:"",prenoms:"",email:"",tel:"",repr:""}}},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.edit_ligne={...l}})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des lignes:",e)}))},confirmDelete(){y.c.delete(this.url,this.edit_ligne).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/ligne")})).catch((e=>{console.error(e)}))},cancelDelete(){this.$router.push("/transport_scolaire/ligne")}}};const iQ=(0,x.c)(nQ,[["render",sQ],["__scopeId","data-v-9aea2c04"]]);var rQ=iQ;const oQ=e=>((0,s.ED)("data-v-213a6558"),e=e(),(0,s.ii)(),e),uQ={class:"cont-sep"},dQ=oQ((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Liste"),(0,s.mY)(),(0,s.QD)("span",null,"Itineraire")]),(0,s.QD)("div",{class:"line"})],-1))),cQ={class:"actions"},pQ={class:"filter-form"},mQ=(0,s.IL)('<div class="item-group" data-v-213a6558><div class="item" data-v-213a6558><label data-v-213a6558>Bus:</label><select name="" id="" data-v-213a6558><option value="" data-v-213a6558>-------------------</option></select></div><div class="item" data-v-213a6558><label data-v-213a6558>Ligne:</label><select name="" id="" data-v-213a6558><option value="" data-v-213a6558>-------------------</option></select></div></div>',1),hQ={class:"search-form"},gQ={class:"table-responsive"},vQ={class:"table"},QQ=oQ((()=>(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("th",null,"N°"),(0,s.QD)("th",null,"Ligne"),(0,s.QD)("th",null,"Lieu Départ"),(0,s.QD)("th",null,"Lieu Arrivée"),(0,s.QD)("th",null,"Heure Départ"),(0,s.QD)("th",null,"Heure d'arrivié"),(0,s.QD)("th",null,"Bus"),(0,s.QD)("th",null,"Ecoles"),(0,s.QD)("th",null,"Actions")])],-1))),_Q={key:0},DQ={key:1},fQ={key:2},AQ={key:3},bQ={class:"pagination"},wQ={class:"page"},KQ=oQ((()=>(0,s.QD)("span",null,"Page",-1))),VQ={class:"btns"},UQ=["disabled"],kQ=["disabled"],CQ=oQ((()=>(0,s.QD)("div",{class:"ads btn"}," . ",-1))),EQ=oQ((()=>(0,s.QD)("div",{class:"popup-buttons"},null,-1)));function yQ(e,l,a,i,r,o){const u=(0,s.E1)("font-awesome-icon"),d=(0,s.E1)("router-link");return(0,s.Wz)(),(0,s.An)("div",null,[(0,s.QD)("div",uQ,[dQ,(0,s.QD)("div",cQ,[(0,s.K2)(d,{to:"/transport_scolaire/itineraire/nouveau",class:"btn btn-add"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","plus"]}),(0,s.mY)(" Ajouter un nouveau itineraire ")])),_:1})]),(0,s.QD)("div",pQ,[mQ,(0,s.K2)(u,{icon:["fas","filter"],class:"icon"})]),(0,s.QD)("div",hQ,[(0,s.wt)((0,s.QD)("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>r.searchQuery=e),placeholder:"Rechercher  élève ..."},null,512),[[t.Og,r.searchQuery]]),(0,s.K2)(u,{icon:["fas","magnifying-glass"],class:"icon"})]),(0,s.QD)("div",gQ,[(0,s.QD)("table",vQ,[QQ,(0,s.K2)(t.Q9,{name:"itineraire-table",tag:"tbody"},{default:(0,s.Ql)((()=>[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.itineraires,(l=>((0,s.Wz)(),(0,s.An)("tr",{key:l.id},[(0,s.QD)("td",null,(0,n.WA)(l.pk),1),(0,s.QD)("td",null,(0,n.WA)(l.ligne),1),l.lieuDepart?((0,s.Wz)(),(0,s.An)("td",_Q,(0,n.WA)(l.lieuDepart.repr),1)):(0,s.g1)("",!0),l.lieuDepart?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("td",DQ,"------------")),l.lieuArrivee?((0,s.Wz)(),(0,s.An)("td",fQ,(0,n.WA)(l.lieuArrivee.repr),1)):(0,s.g1)("",!0),l.lieuArrivee?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("td",AQ,"-------------")),(0,s.QD)("td",null,[(0,s.mY)((0,n.WA)(l.heureDepart),1),l.heureDepart?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)(s.ae,{key:0},[(0,s.mY)("-------------")],64))]),(0,s.QD)("td",null,[(0,s.mY)((0,n.WA)(l.heureArrivee),1),l.heureArrivee?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)(s.ae,{key:0},[(0,s.mY)("-------------")],64))]),(0,s.QD)("td",null,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(l.busassignations,((e,l)=>((0,s.Wz)(),(0,s.An)("div",{key:l},(0,n.WA)(e.bus.repr),1)))),128)),0===l.busassignations.length?((0,s.Wz)(),(0,s.An)(s.ae,{key:0},[(0,s.mY)("-----------")],64)):(0,s.g1)("",!0)]),(0,s.QD)("td",null,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(l.ecoleassignations,((e,l)=>((0,s.Wz)(),(0,s.An)("div",{key:l},(0,n.WA)(e.ecole.repr),1)))),128)),0===l.ecoleassignations.length?((0,s.Wz)(),(0,s.An)(s.ae,{key:0},[(0,s.mY)("-----------")],64)):(0,s.g1)("",!0)]),(0,s.QD)("td",null,[(0,s.K2)(d,{to:`/transport_scolaire/itineraire/${e.$encryptId(l.pk)}/edit`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","file-pen"]})])),_:2},1032,["to"]),(0,s.K2)(d,{to:`/transport_scolaire/itineraire/${e.$encryptId(l.pk)}/delete`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","x"]})])),_:2},1032,["to"])])])))),128))])),_:1})])]),(0,s.QD)("div",bQ,[(0,s.QD)("div",wQ,[KQ,(0,s.mY)(),(0,s.QD)("span",null,(0,n.WA)(r.current_page),1),(0,s.mY)(" sur "),(0,s.QD)("span",null,(0,n.WA)(r.nbr_page),1)]),(0,s.QD)("div",VQ,[(0,s.QD)("button",{onClick:l[1]||(l[1]=l=>e.goToPageCandidat(e.previousPageCandidat)),disabled:!e.previousPageCandidat,class:"btn"},[(0,s.K2)(u,{icon:["fas","chevron-left"]})],8,UQ),(0,s.QD)("button",{onClick:l[2]||(l[2]=l=>e.goToPageCandidat(e.previousPageCandidat)),class:"btn"},(0,n.WA)(r.current_page),1),(0,s.QD)("button",{onClick:l[3]||(l[3]=l=>e.goToPageCandidat(e.nextPageCandidat)),disabled:!e.nextPageCandidat,class:"btn"},[(0,s.K2)(u,{icon:["fas","chevron-right"]})],8,kQ)]),CQ]),EQ])])}var IQ={name:"ItinerairePage",data(){return{itineraires:[],baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/itineraires/`,searchQuery:"",startDate:"",endDate:"",current_page:2,nbr_page:10}},computed:{},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0,special_detail_manytoone_class:"['busassignations','ecoleassignations','horaires']"}}).then((e=>{const l=e.data;this.itineraires=l.results.map((e=>(e.horaires.length>0?(e.lieuDepart=e.horaires[0].pointArret,e.heureDepart=e.horaires[0].heureDebut,e.lieuArrivee=e.horaires[e.horaires.length-1].pointArret,e.heureArrivee=e.horaires[e.horaires.length-1].heureFin):(e.lieuDepart=null,e.heureDepart=null,e.lieuArrivee=null,e.heureArrivee=null),e))),console.log(this.itineraires)})).catch((e=>{console.error("Une erreur s'est produits lors de la récupération des itineraires:",e)}))}},mounted(){this.fecthData(this.baseUrlPage)}};const LQ=(0,x.c)(IQ,[["render",yQ],["__scopeId","data-v-213a6558"]]);var WQ=LQ;const xQ=e=>((0,s.ED)("data-v-ca1ef8d2"),e=e(),(0,s.ii)(),e),PQ={class:"container"},$Q=xQ((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Ajout"),(0,s.mY)(),(0,s.QD)("span",null,"Itineraire")]),(0,s.QD)("div",{class:"line"})],-1))),zQ=xQ((()=>(0,s.QD)("h5",null,"Informations Itineraire",-1))),qQ={class:"col-12 col-md-12"},BQ={class:"col-12 col-md-6"},SQ={class:"table-responsive"},YQ={class:"table"},RQ=xQ((()=>(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("th",null,"Numéro d'immatriculation"),(0,s.QD)("th",null,"Action")])],-1))),NQ=["onInput"],TQ={class:"col-12 col-md-6"},MQ={class:"table-responsive"},OQ={class:"table"},JQ=xQ((()=>(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("th",null,"Nom Ecole"),(0,s.QD)("th",null,"Action")])],-1))),FQ=["onInput"],GQ=xQ((()=>(0,s.QD)("h5",null,"Horaire De l'Itineraire",-1))),HQ={class:"col-12"},XQ=xQ((()=>(0,s.QD)("label",{for:""},"Change l'Ordre Lieu",-1))),jQ={class:"col-12"},ZQ={class:"table-responsive"},e_={class:"table"},l_=xQ((()=>(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("th",null,"Lieu"),(0,s.QD)("th",null,"Heure Début"),(0,s.QD)("th",null,"Heure Fin")])],-1))),a_=["onUpdate:modelValue"],t_=["onUpdate:modelValue"],s_=["onUpdate:modelValue"],n_={key:1},i_=xQ((()=>(0,s.QD)("td",{colspan:"3"},"La variable 'ligne' n'est pas définie.",-1))),r_=[i_],o_=xQ((()=>(0,s.QD)("span",null,"Enregistrer",-1)));function u_(e,l,a,i,r,o){const u=(0,s.E1)("b-form-select"),d=(0,s.E1)("b-form-group"),c=(0,s.E1)("font-awesome-icon"),p=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",PQ,[(0,s.QD)("form",{onSubmit:l[3]||(l[3]=(0,t.Y7)(((...e)=>o.addItineraire&&o.addItineraire(...e)),["prevent"])),class:"row form-form form-75"},[$Q,zQ,(0,s.QD)("div",qQ,[(0,s.K2)(d,{label:"Ligne :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{onChange:o.handleSelectedLigneChange,modelValue:r.new_itineraire.ligne,"onUpdate:modelValue":l[0]||(l[0]=e=>r.new_itineraire.ligne=e),options:r.lignes,required:""},null,8,["onChange","modelValue","options"])])),_:1})]),(0,s.QD)("div",BQ,[(0,s.QD)("div",SQ,[(0,s.QD)("table",YQ,[RQ,(0,s.QD)("tbody",null,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.buss,(e=>((0,s.Wz)(),(0,s.An)("tr",{class:"",key:e.pk},[(0,s.QD)("td",null,(0,n.WA)(e.repr),1),(0,s.QD)("td",null,[(0,s.QD)("input",{type:"checkbox",name:"",onInput:l=>o.handleChangeBusCheckBox(e.pk)},null,40,NQ)])])))),128))])])])]),(0,s.QD)("div",TQ,[(0,s.QD)("div",MQ,[(0,s.QD)("table",OQ,[JQ,(0,s.QD)("tbody",null,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.ecoles,(e=>((0,s.Wz)(),(0,s.An)("tr",{class:"",key:e.pk},[(0,s.QD)("td",null,(0,n.WA)(e.repr),1),(0,s.QD)("td",null,[(0,s.QD)("input",{type:"checkbox",name:"",onInput:l=>o.handleChangeEcoleCheckBox(e.pk)},null,40,FQ)])])))),128))])])])]),GQ,(0,s.QD)("div",HQ,[XQ,(0,s.wt)((0,s.QD)("input",{type:"checkbox",name:"",onChange:l[1]||(l[1]=(...e)=>o.handleLigneInverseChange&&o.handleLigneInverseChange(...e)),"onUpdate:modelValue":l[2]||(l[2]=e=>r.new_itineraire.ligne_inverse=e),id:""},null,544),[[t.cV,r.new_itineraire.ligne_inverse]])]),(0,s.QD)("div",jQ,[(0,s.QD)("div",ZQ,[(0,s.QD)("table",e_,[l_,(0,s.QD)("tbody",null,[r.new_itineraire.selectedLigne?((0,s.Wz)(!0),(0,s.An)(s.ae,{key:0},(0,s.mi)(r.new_itineraire.selectedLigne.ordrelieus,((e,l)=>((0,s.Wz)(),(0,s.An)("tr",{key:l},[(0,s.QD)("td",null,[(0,s.wt)((0,s.QD)("input",{"onUpdate:modelValue":e=>r.new_itineraire.horaires[l].pointArret=e,hidden:"",required:""},null,8,a_),[[t.Og,r.new_itineraire.horaires[l].pointArret]]),(0,s.mY)((0,n.WA)(e.lieu_ligne.repr),1)]),(0,s.QD)("td",null,[(0,s.wt)((0,s.QD)("input",{"onUpdate:modelValue":e=>r.new_itineraire.horaires[l].heureDebut=e,required:"",type:"time"},null,8,t_),[[t.Og,r.new_itineraire.horaires[l].heureDebut]])]),(0,s.QD)("td",null,[(0,s.wt)((0,s.QD)("input",{"onUpdate:modelValue":e=>r.new_itineraire.horaires[l].heureFin=e,required:"",type:"time"},null,8,s_),[[t.Og,r.new_itineraire.horaires[l].heureFin]])])])))),128)):((0,s.Wz)(),(0,s.An)("tr",n_,r_))])])])]),(0,s.K2)(p,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{icon:["fas","floppy-disk"]}),o_])),_:1})],32)])}var d_={name:"ItineraireCreatePage",mounted(){this.fecthDataLigne(this.baseUrlLigne),this.fecthDataBus(this.baseUrlBus),this.fecthDataEcole(this.baseUrlEcole)},data(){return{baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/itineraires/`,baseUrlLigne:`${this.$store.state.baseUrl}/api/transport_scolaire/lignes/`,baseUrlBus:`${this.$store.state.baseUrl}/api/transport_scolaire/buss/`,baseUrlEcole:`${this.$store.state.baseUrl}/api/transport_scolaire/ecoles/`,lignes:[],buss:[],ecoles:[],new_itineraire:{nom:"",horaires:[],ligne:"",ligne_inverse:!1,selectedLigne:"",busassignations:[],ecoleassignations:[]}}},methods:{handleSelectLieuClickDelete(e,l){const a=this.new_itineraire.ordrelieus.findIndex((l=>l.num_ordre===e));-1!==a&&this.new_itineraire.ordrelieus.splice(a,1)},handleChangeBusCheckBox(e){let l=this.new_itineraire.busassignations.findIndex((l=>l.bus==e));-1==l?this.new_itineraire.busassignations.push({bus:e}):this.new_itineraire.busassignations.splice(l,1)},handleChangeEcoleCheckBox(e){let l=this.new_itineraire.ecoleassignations.findIndex((l=>l.ecole==e));-1==l?this.new_itineraire.ecoleassignations.push({ecole:e}):this.new_itineraire.ecoleassignations.splice(l,1)},handleLigneInverseChange(){this.new_itineraire.selectedLigne&&(this.new_itineraire.selectedLigne.ordrelieus=this.new_itineraire.selectedLigne.ordrelieus.reverse(),this.new_itineraire.horaires=this.new_itineraire.horaires.reverse())},handleSelectedLigneChange(e){const l=this.lignes.find((l=>l.pk==e)),a=l.ordrelieus.length;this.new_itineraire.horaires=Array.from({length:a},((e,a)=>({idx:a,pointArret:l.ordrelieus[a].lieu_ligne.pk}))),console.log(this.new_itineraire.horaires),this.new_itineraire.selectedLigne=l},fecthDataLigne(e){y.c.get(e,{params:{paginate:!1,special_detail_manytoone_class:"['ordrelieus',]"}}).then((e=>{const l=e.data;this.lignes=l.map((e=>({...e,value:e.pk,text:e.repr}))),console.log(this.lignes)})).catch((e=>{console.error("Une erreur s'est produite lors de la récupération des lignes :",e)}))},fecthDataBus(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.buss=l.map((e=>({...e,value:e.pk,text:e.repr}))),console.log(this.buss)})).catch((e=>{console.error("Une erreur s'est produite lors de la récupération des buss :",e)}))},fecthDataEcole(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.ecoles=l.map((e=>({...e,value:e.pk,text:e.repr}))),console.log(this.ecoles)})).catch((e=>{console.error("Une erreur s'est produite lors de la récupération des buss :",e)}))},addOrderLieu(){let e=1;this.new_itineraire.ordrelieus.length>0&&(e=this.new_itineraire.ordrelieus[this.new_itineraire.ordrelieus.length-1].num_ordre+1),console.log(e);const l={num_ordre:e,lieu_itineraire:""};this.new_itineraire.ordrelieus.push(l),console.log(this.new_itineraire.ordrelieus)},addItineraire(){console.log(this.new_itineraire),y.c.post(this.baseUrlPage,this.new_itineraire).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/itineraire")})).catch((e=>{console.error(e)}))}}};const c_=(0,x.c)(d_,[["render",u_],["__scopeId","data-v-ca1ef8d2"]]);var p_=c_;const m_=e=>((0,s.ED)("data-v-29a0e63a"),e=e(),(0,s.ii)(),e),h_={class:"container"},g_=m_((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Ajout"),(0,s.mY)(),(0,s.QD)("span",null,"Itineraire")]),(0,s.QD)("div",{class:"line"})],-1))),v_=m_((()=>(0,s.QD)("h5",null,"Informations Itineraire",-1))),Q_={class:"col-12 col-md-12"},__={class:"col-12 col-md-6"},D_={class:"table-responsive"},f_={class:"table"},A_=m_((()=>(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("th",null,"Numéro d'immatriculation"),(0,s.QD)("th",null,"Action")])],-1))),b_=["onInput"],w_=["onInput"],K_={class:"col-12 col-md-6"},V_={class:"table-responsive"},U_={class:"table"},k_=m_((()=>(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("th",null,"Nom Ecole"),(0,s.QD)("th",null,"Action")])],-1))),C_=["onInput"],E_=["onInput"],y_=m_((()=>(0,s.QD)("h5",null,"Horaire De l'Itineraire",-1))),I_={class:"col-12"},L_=m_((()=>(0,s.QD)("label",{for:""},"Inverser Lieu Ligne",-1))),W_={class:"col-12"},x_={class:"table-responsive"},P_={class:"table"},$_=m_((()=>(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("th",null,"Lieu"),(0,s.QD)("th",null,"Heure Début"),(0,s.QD)("th",null,"Heure Fin")])],-1))),z_=["onUpdate:modelValue"],q_=["onUpdate:modelValue"],B_=["onUpdate:modelValue"],S_={key:1},Y_=m_((()=>(0,s.QD)("td",{colspan:"3"},"La variable 'ligne' n'est pas définie.",-1))),R_=[Y_],N_=m_((()=>(0,s.QD)("span",null,"Enregistrer",-1)));function T_(e,l,a,i,r,o){const u=(0,s.E1)("b-form-select"),d=(0,s.E1)("b-form-group"),c=(0,s.E1)("font-awesome-icon"),p=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",h_,[(0,s.QD)("form",{onSubmit:l[3]||(l[3]=(0,t.Y7)(((...e)=>o.EditItineraire&&o.EditItineraire(...e)),["prevent"])),class:"row form-form form-75"},[g_,v_,(0,s.QD)("div",Q_,[(0,s.K2)(d,{label:"Ligne :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{onChange:o.handleSelectedLigneChange,modelValue:r.edit_itineraire.ligne,"onUpdate:modelValue":l[0]||(l[0]=e=>r.edit_itineraire.ligne=e),options:r.lignes,required:""},null,8,["onChange","modelValue","options"])])),_:1})]),(0,s.QD)("div",__,[(0,s.QD)("div",D_,[(0,s.QD)("table",f_,[A_,(0,s.QD)("tbody",null,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.buss,(e=>((0,s.Wz)(),(0,s.An)("tr",{class:"",key:e.pk},[(0,s.QD)("td",null,(0,n.WA)(e.repr),1),(0,s.QD)("td",null,[o.isCheckedBusAssignation(e.pk)?((0,s.Wz)(),(0,s.An)("input",{key:0,type:"checkbox",name:"",checked:"",onInput:l=>o.handleChangeBusCheckBox(e.pk)},null,40,b_)):(0,s.g1)("",!0),o.isCheckedBusAssignation(e.pk)?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("input",{key:1,type:"checkbox",name:"",onInput:l=>o.handleChangeBusCheckBox(e.pk)},null,40,w_))])])))),128))])])])]),(0,s.QD)("div",K_,[(0,s.QD)("div",V_,[(0,s.QD)("table",U_,[k_,(0,s.QD)("tbody",null,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.ecoles,(e=>((0,s.Wz)(),(0,s.An)("tr",{class:"",key:e.pk},[(0,s.QD)("td",null,(0,n.WA)(e.repr),1),(0,s.QD)("td",null,[o.isCheckedEcoleAssignation(e.pk)?((0,s.Wz)(),(0,s.An)("input",{key:0,type:"checkbox",name:"",checked:"",onInput:l=>o.handleChangeEcoleCheckBox(e.pk)},null,40,C_)):(0,s.g1)("",!0),o.isCheckedEcoleAssignation(e.pk)?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("input",{key:1,type:"checkbox",name:"",onInput:l=>o.handleChangeEcoleCheckBox(e.pk)},null,40,E_))])])))),128))])])])]),y_,(0,s.QD)("div",I_,[L_,(0,s.wt)((0,s.QD)("input",{type:"checkbox",name:"",onChange:l[1]||(l[1]=(...e)=>o.handleLigneInverseChange&&o.handleLigneInverseChange(...e)),"onUpdate:modelValue":l[2]||(l[2]=e=>r.edit_itineraire.ligne_inverse=e),id:""},null,544),[[t.cV,r.edit_itineraire.ligne_inverse]])]),(0,s.QD)("div",W_,[(0,s.QD)("div",x_,[(0,s.QD)("table",P_,[$_,(0,s.QD)("tbody",null,[r.edit_itineraire.selectedLigne?((0,s.Wz)(!0),(0,s.An)(s.ae,{key:0},(0,s.mi)(r.edit_itineraire.selectedLigne.ordrelieus,((e,l)=>((0,s.Wz)(),(0,s.An)("tr",{key:l},[(0,s.QD)("td",null,[(0,s.wt)((0,s.QD)("input",{"onUpdate:modelValue":e=>r.edit_itineraire.horaires[l].pointArret=e,hidden:"",required:""},null,8,z_),[[t.Og,r.edit_itineraire.horaires[l].pointArret]]),(0,s.mY)((0,n.WA)(e.pointArret.repr),1)]),(0,s.QD)("td",null,[(0,s.wt)((0,s.QD)("input",{"onUpdate:modelValue":e=>r.edit_itineraire.horaires[l].heureDebut=e,required:"",type:"time"},null,8,q_),[[t.Og,r.edit_itineraire.horaires[l].heureDebut]])]),(0,s.QD)("td",null,[(0,s.wt)((0,s.QD)("input",{"onUpdate:modelValue":e=>r.edit_itineraire.horaires[l].heureFin=e,required:"",type:"time"},null,8,B_),[[t.Og,r.edit_itineraire.horaires[l].heureFin]])])])))),128)):((0,s.Wz)(),(0,s.An)("tr",S_,R_))])])])]),(0,s.K2)(p,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{icon:["fas","floppy-disk"]}),N_])),_:1})],32)])}var M_={name:"ItineraireCreatePage",mounted(){const e=this.$route.params.id,l=this.$decryptId(e);console.log(l),this.url=`${this.$store.state.baseUrl}/api/transport_scolaire/itineraires/${l}/`,this.fecthData(this.url),this.fecthDataLigne(this.baseUrlLigne),this.fecthDataBus(this.baseUrlBus),this.fecthDataEcole(this.baseUrlEcole)},data(){return{url:"",baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/itineraires/`,baseUrlLigne:`${this.$store.state.baseUrl}/api/transport_scolaire/lignes/`,baseUrlBus:`${this.$store.state.baseUrl}/api/transport_scolaire/buss/`,baseUrlEcole:`${this.$store.state.baseUrl}/api/transport_scolaire/ecoles/`,lignes:[],buss:[],ecoles:[],edit_itineraire:{nom:"",horaires:[],ligne:"",ligne_inverse:!1,selectedLigne:"",busassignations:[],ecoleassignations:[]}}},methods:{isCheckedBusAssignation(e){const l=this.edit_itineraire.busassignations.map((e=>e.bus));return l.includes(e)},isCheckedEcoleAssignation(e){const l=this.edit_itineraire.ecoleassignations.map((e=>e.ecole));return l.includes(e)},handleSelectLieuClickDelete(e,l){const a=this.edit_itineraire.ordrelieus.findIndex((l=>l.num_ordre===e));-1!==a&&this.edit_itineraire.ordrelieus.splice(a,1)},fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.edit_itineraire={...l,ligne:l.ligne.pk},this.edit_itineraire.selectedLigne=l.ligne,console.log(this.edit_itineraire.selectedLigne.ordrelieus),this.edit_itineraire.busassignations=l.busassignations.map((e=>(e.bus=e.bus.pk,e))),this.edit_itineraire.ecoleassignations=l.ecoleassignations.map((e=>(e.ecole=e.ecole.pk,e)));let a=JSON.parse(JSON.stringify(l.horaires));console.log(a),this.edit_itineraire.horaires=l.horaires.map((e=>(console.log(e),e.pointArret=e.pointArret.pk,e))),console.log("here",a),this.edit_itineraire.selectedLigne.ordrelieus=a,this.edit_itineraire.ligne_inverse&&(this.edit_itineraire.selectedLigne.ordrelieus=this.edit_itineraire.selectedLigne.ordrelieus.reverse()),console.log(this.edit_itineraire.selectedLigne.ordrelieus)})).catch((e=>{console.error("Une erreur s'est produit lors de la récupération itineraire:",e)}))},handleChangeBusCheckBox(e){let l=this.edit_itineraire.busassignations.findIndex((l=>l.bus==e));-1==l?this.edit_itineraire.busassignations.push({bus:e}):this.edit_itineraire.busassignations.splice(l,1)},handleChangeEcoleCheckBox(e){let l=this.edit_itineraire.ecoleassignations.findIndex((l=>l.ecole==e));-1==l?this.edit_itineraire.ecoleassignations.push({ecole:e}):this.edit_itineraire.ecoleassignations.splice(l,1)},handleLigneInverseChange(){this.edit_itineraire.selectedLigne&&(this.edit_itineraire.selectedLigne.ordrelieus=this.edit_itineraire.selectedLigne.ordrelieus.reverse())},handleSelectedLigneChange(e){const l=this.lignes.find((l=>l.pk==e)),a=l.ordrelieus.length;this.edit_itineraire.horaires=Array.from({length:a},((e,a)=>({idx:a,pointArret:l.ordrelieus[a].lieu_ligne.pk}))),console.log(this.edit_itineraire.horaires),this.edit_itineraire.selectedLigne=l},fecthDataLigne(e){y.c.get(e,{params:{paginate:!1,special_detail_manytoone_class:"['ordrelieus',]"}}).then((e=>{const l=e.data;this.lignes=l.map((e=>({...e,value:e.pk,text:e.repr}))),console.log(this.lignes)})).catch((e=>{console.error("Une erreur s'est produit lors de la récupération des lignes :",e)}))},fecthDataBus(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.buss=l.map((e=>({...e,value:e.pk,text:e.repr}))),console.log(this.buss)})).catch((e=>{console.error("Une erreur s'est produite lors de la récupération des buss :",e)}))},fecthDataEcole(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;this.ecoles=l.map((e=>({...e,value:e.pk,text:e.repr}))),console.log(this.ecoles)})).catch((e=>{console.error("Une erreur s'est produite lors de la récupération des ecoles :",e)}))},addOrderLieu(){let e=1;this.edit_itineraire.ordrelieus.length>0&&(e=this.edit_itineraire.ordrelieus[this.edit_itineraire.ordrelieus.length-1].num_ordre+1),console.log(e);const l={num_ordre:e,lieu_itineraire:""};this.edit_itineraire.ordrelieus.push(l),console.log(this.edit_itineraire.ordrelieus)},EditItineraire(){console.log(this.edit_itineraire),console.log(this.edit_itineraire),y.c.put(this.url,this.edit_itineraire).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/itineraire")})).catch((e=>{console.error(e)}))}}};const O_=(0,x.c)(M_,[["render",T_],["__scopeId","data-v-29a0e63a"]]);var J_=O_;const F_=e=>((0,s.ED)("data-v-75835e8b"),e=e(),(0,s.ii)(),e),G_={class:"container"},H_=F_((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Modification"),(0,s.mY)(),(0,s.QD)("span",null,"Bus")]),(0,s.QD)("div",{class:"line"})],-1))),X_=F_((()=>(0,s.QD)("h5",null,"Informations Bus",-1))),j_={class:"col-12 col-md-6"},Z_={class:"col-12 col-md-6"},eD={class:"col-12"},lD={class:"col-12 col-md-6"},aD={class:"col-12 col-md-6"},tD={class:"col-12"},sD={class:"col-12 col-md-6"},nD={class:"col-12 col-md-6"},iD={class:"col-12"},rD=F_((()=>(0,s.QD)("h5",null,"Informations Parent Bus",-1))),oD={class:"col-12 col-md-6"},uD={class:"col-12 col-md-6"},dD={class:"col-12 col-md-6"},cD={class:"col-12 col-md-6"},pD=F_((()=>(0,s.QD)("span",null,"Enregistrer les modifications",-1)));function mD(e,l,a,n,i,r){const o=(0,s.E1)("b-form-input"),u=(0,s.E1)("b-form-group"),d=(0,s.E1)("b-form-select"),c=(0,s.E1)("font-awesome-icon"),p=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",G_,[(0,s.QD)("form",{onSubmit:l[13]||(l[13]=(0,t.Y7)(((...e)=>r.editBus&&r.editBus(...e)),["prevent"])),class:"row form-form form-75"},[H_,X_,(0,s.QD)("div",j_,[(0,s.K2)(u,{label:"nom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"nom",modelValue:i.new_bus.nom,"onUpdate:modelValue":l[0]||(l[0]=e=>i.new_bus.nom=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Z_,[(0,s.K2)(u,{label:"Prénom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"prenoms",modelValue:i.new_bus.prenoms,"onUpdate:modelValue":l[1]||(l[1]=e=>i.new_bus.prenoms=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",eD,[(0,s.K2)(u,{label:"Date Naissance :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"date_naissance",modelValue:i.new_bus.date_naissance,"onUpdate:modelValue":l[2]||(l[2]=e=>i.new_bus.date_naissance=e),type:"date",required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",lD,[(0,s.K2)(u,{label:"Ecole :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.ecole,"onUpdate:modelValue":l[3]||(l[3]=e=>i.new_bus.ecole=e),options:i.ecoles,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",aD,[(0,s.K2)(u,{label:"Classe :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.classe,"onUpdate:modelValue":l[4]||(l[4]=e=>i.new_bus.classe=e),options:i.classes,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",tD,[(0,s.K2)(u,{label:"Adresse :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.adresse,"onUpdate:modelValue":l[5]||(l[5]=e=>i.new_bus.adresse=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",sD,[(0,s.K2)(u,{label:"Ligne de bus :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.ligne_bus,"onUpdate:modelValue":l[6]||(l[6]=e=>i.new_bus.ligne_bus=e),options:i.lignes_bus,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",nD,[(0,s.K2)(u,{label:"Lieu de ligne :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.lieu_ligne,"onUpdate:modelValue":l[7]||(l[7]=e=>i.new_bus.lieu_ligne=e),options:i.lieux_ligne,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",iD,[(0,s.K2)(u,{label:"Lieu de ramassage :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.lieu_ramassage,"onUpdate:modelValue":l[8]||(l[8]=e=>i.new_bus.lieu_ramassage=e),options:i.lieux_ramassage,required:""},null,8,["modelValue","options"])])),_:1})]),rD,(0,s.QD)("div",oD,[(0,s.K2)(u,{label:"Nom Père :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.nom_pere,"onUpdate:modelValue":l[9]||(l[9]=e=>i.new_bus.nom_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",uD,[(0,s.K2)(u,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.tel_pere,"onUpdate:modelValue":l[10]||(l[10]=e=>i.new_bus.tel_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",dD,[(0,s.K2)(u,{label:"Nom Mère :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.nom_pere,"onUpdate:modelValue":l[11]||(l[11]=e=>i.new_bus.nom_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",cD,[(0,s.K2)(u,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.tel_pere,"onUpdate:modelValue":l[12]||(l[12]=e=>i.new_bus.tel_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.K2)(p,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{icon:["fas","floppy-disk"]}),pD])),_:1})],32)])}const hD="localhost:8000";var gD={name:"BusCreatePage",mounted(){},data(){return{new_bus:{nom:"Doe",prenoms:"John",date_naissance:"2005-08-15",ecole:2,niveau:"Niveau 3",classe:3,ligne_bus:1,lieu_ligne:"Lieu 2",lieu_ramassage:"Lieu 1",nom_pere:"Doe",tel_pere:"0123456789",nom_mere:"Smith",tel_mere:"9876543210",adresse:"123 Rue Principale"},ecoles:[{value:1,text:"Ecole 1"},{value:2,text:"Ecole 2"},{value:3,text:"Ecole 3"}],classes:[{value:1,text:"Classe 1"},{value:2,text:"Classe 2"},{value:3,text:"Classe 3"}],lignes_bus:[{value:1,text:"Ligne 1"},{value:2,text:"Ligne 2"},{value:3,text:"Ligne 3"}],lieux_ligne:[{value:"Lieu 1",text:"Lieu 1"},{value:"Lieu 2",text:"Lieu 2"},{value:"Lieu 3",text:"Lieu 3"}],lieux_ramassage:[{value:"Lieu 1",text:"Lieu 1"},{value:"Lieu 2",text:"Lieu 2"},{value:"Lieu 3",text:"Lieu 3"}]}},methods:{editBus(){const e={nom:this.new_bus.nom,agge:this.new_bus.agge};this.$router.push("/bus"),y.c.post(`http://${hD}/api/bus`,e).then((e=>{console.log(e.data),this.new_bus.nom=null,this.new_bus.agge=null,this.$router.push("/Bus")})).catch((e=>{console.error(e)}))}}};const vD=(0,x.c)(gD,[["render",mD],["__scopeId","data-v-75835e8b"]]);var QD=vD;const _D=e=>((0,s.ED)("data-v-7f95c5be"),e=e(),(0,s.ii)(),e),DD={class:"container"},fD={class:"title"},AD=_D((()=>(0,s.QD)("span",null,"Suppression",-1))),bD=_D((()=>(0,s.QD)("span",null,"Itineraire",-1))),wD={key:0,class:"alert alert-danger"},KD=_D((()=>(0,s.QD)("div",{class:"line"},null,-1)));function VD(e,l,a,i,r,o){return(0,s.Wz)(),(0,s.An)("div",DD,[(0,s.QD)("form",{onSubmit:l[2]||(l[2]=(0,t.Y7)(((...l)=>e.deleteItineraire&&e.deleteItineraire(...l)),["prevent"])),class:"row form-form form-75"},[(0,s.QD)("div",fD,[(0,s.QD)("h4",null,[AD,(0,s.mY)(),bD,(0,s.QD)("p",null,(0,n.WA)(r.edit_itineraire.repr),1)]),e.showDeleteAlert?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("div",wD,[(0,s.mY)(" Êtes-vous sûr de vouloir supprimer ce itineraire ? Cette action est irréversible. "),(0,s.QD)("button",{class:"btn btn-danger",onClick:l[0]||(l[0]=(...e)=>o.confirmDelete&&o.confirmDelete(...e))},"Confirmer"),(0,s.QD)("button",{class:"btn btn-secondary",onClick:l[1]||(l[1]=(...e)=>o.cancelDelete&&o.cancelDelete(...e))},"Annuler")])),KD])],32)])}var UD={name:"ItineraireCreatePage",mounted(){const e=this.$route.params.id,l=this.$decryptId(e);console.log(l),this.url=`${this.$store.state.baseUrl}/api/transport_scolaire/itineraires/${l}/`,this.fecthData(this.url)},data(){return{url:"",baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/itineraires/`,edit_itineraire:{nom:"",prenoms:"",email:"",tel:"",repr:""}}},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.edit_itineraire={...l}})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des itineraires:",e)}))},confirmDelete(){y.c.delete(this.url,this.edit_itineraire).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/itineraire")})).catch((e=>{console.error(e)}))},cancelDelete(){this.$router.push("/transport_scolaire/itineraire")}}};const kD=(0,x.c)(UD,[["render",VD],["__scopeId","data-v-7f95c5be"]]);var CD=kD;const ED=e=>((0,s.ED)("data-v-f4db2df4"),e=e(),(0,s.ii)(),e),yD={class:"cont-sep"},ID=ED((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Liste"),(0,s.mY)(),(0,s.QD)("span",null,"LieuLignes")]),(0,s.QD)("div",{class:"line"})],-1))),LD={class:"actions"},WD={class:"search-form"},xD={class:"table-responsive"},PD={class:"table"},$D=ED((()=>(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("th",null,"N°"),(0,s.QD)("th",null,"Nom"),(0,s.QD)("th",null,"longitude"),(0,s.QD)("th",null,"latitude"),(0,s.QD)("th",null,"Actions")])],-1))),zD={class:"pagination"},qD={class:"page"},BD=ED((()=>(0,s.QD)("span",null,"Page",-1))),SD={class:"btns"},YD=["disabled"],RD=["disabled"],ND=ED((()=>(0,s.QD)("div",{class:"ads btn"}," . ",-1))),TD=ED((()=>(0,s.QD)("div",{class:"popup-buttons"},null,-1)));function MD(e,l,a,i,r,o){const u=(0,s.E1)("font-awesome-icon"),d=(0,s.E1)("router-link");return(0,s.Wz)(),(0,s.An)("div",null,[(0,s.QD)("div",yD,[ID,(0,s.QD)("div",LD,[(0,s.K2)(d,{to:"/transport_scolaire/lieuligne/nouveau",class:"btn btn-add"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","plus"]}),(0,s.mY)(" Ajouter un nouveau lieuligne ")])),_:1})]),(0,s.QD)("div",WD,[(0,s.wt)((0,s.QD)("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>r.searchQuery=e),placeholder:"Rechercher  lieuligne ..."},null,512),[[t.Og,r.searchQuery]]),(0,s.K2)(u,{icon:["fas","magnifying-glass"],class:"icon"})]),(0,s.QD)("div",xD,[(0,s.QD)("table",PD,[$D,(0,s.K2)(t.Q9,{name:"lieuligne-table",tag:"tbody"},{default:(0,s.Ql)((()=>[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.lieulignes,(l=>((0,s.Wz)(),(0,s.An)("tr",{key:l.pk},[(0,s.QD)("td",null,(0,n.WA)(l.pk),1),(0,s.QD)("td",null,(0,n.WA)(l.nom_lieu),1),(0,s.QD)("td",null,(0,n.WA)(l.longitude),1),(0,s.QD)("td",null,(0,n.WA)(l.latitude),1),(0,s.QD)("td",null,[(0,s.K2)(d,{to:`/transport_scolaire/lieuligne/${e.$encryptId(l.pk)}/edit`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","file-pen"]})])),_:2},1032,["to"]),(0,s.K2)(d,{to:`/transport_scolaire/lieuligne/${e.$encryptId(l.pk)}/delete`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","x"]})])),_:2},1032,["to"])])])))),128))])),_:1})])]),(0,s.QD)("div",zD,[(0,s.QD)("div",qD,[BD,(0,s.mY)(),(0,s.QD)("span",null,(0,n.WA)(r.current_page),1),(0,s.mY)(" sur "),(0,s.QD)("span",null,(0,n.WA)(r.nbr_page),1)]),(0,s.QD)("div",SD,[(0,s.QD)("button",{onClick:l[1]||(l[1]=l=>e.goToPageCandidat(e.previousPageCandidat)),disabled:!e.previousPageCandidat,class:"btn"},[(0,s.K2)(u,{icon:["fas","chevron-left"]})],8,YD),(0,s.QD)("button",{onClick:l[2]||(l[2]=l=>e.goToPageCandidat(e.previousPageCandidat)),class:"btn"},(0,n.WA)(r.current_page),1),(0,s.QD)("button",{onClick:l[3]||(l[3]=l=>e.goToPageCandidat(e.nextPageCandidat)),disabled:!e.nextPageCandidat,class:"btn"},[(0,s.K2)(u,{icon:["fas","chevron-right"]})],8,RD)]),ND]),TD])])}var OD={name:"LieuLignePage",data(){return{baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/lieulignes/`,lieulignes:[],searchQuery:"",startDate:"",endDate:"",current_page:2,nbr_page:10}},computed:{},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.lieulignes=l.results,console.log(l.results)})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des lieulignes:",e)}))}},mounted(){this.fecthData(this.baseUrlPage)}};const JD=(0,x.c)(OD,[["render",MD],["__scopeId","data-v-f4db2df4"]]);var FD=JD;const GD=e=>((0,s.ED)("data-v-f4072f3c"),e=e(),(0,s.ii)(),e),HD={class:"container"},XD=GD((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Ajout"),(0,s.mY)(),(0,s.QD)("span",null,"LieuLigne")]),(0,s.QD)("div",{class:"line"})],-1))),jD=GD((()=>(0,s.QD)("h5",null,"Informations LieuLigne",-1))),ZD={class:"col-12 col-md-12"},ef={class:"col-12 col-md-6"},lf={class:"col-12 col-md-6"},af={class:"col-12 autre"},tf={class:"row autre"},sf={class:"col-10"},nf={key:0},rf=["onClick"],of={class:"col-2"},uf={style:{height:"600px",width:"800px"}},df=GD((()=>(0,s.QD)("span",null,"Enregistrer",-1)));function cf(e,l,a,i,r,o){const u=(0,s.E1)("b-form-input"),d=(0,s.E1)("b-form-group"),c=(0,s.E1)("b-button"),p=(0,s.E1)("l-tile-layer"),m=(0,s.E1)("l-marker"),h=(0,s.E1)("l-map"),g=(0,s.E1)("font-awesome-icon");return(0,s.Wz)(),(0,s.An)("div",HD,[(0,s.QD)("form",{onSubmit:l[6]||(l[6]=(0,t.Y7)(((...e)=>o.addLieuLigne&&o.addLieuLigne(...e)),["prevent"])),class:"row form-form form-75"},[XD,jD,(0,s.QD)("div",ZD,[(0,s.K2)(d,{label:"Nom lieu :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{id:"nom",modelValue:r.new_lieuligne.nom_lieu,"onUpdate:modelValue":l[0]||(l[0]=e=>r.new_lieuligne.nom_lieu=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",ef,[(0,s.K2)(d,{label:"Longitude :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{id:"prenoms",modelValue:r.new_lieuligne.longitude,"onUpdate:modelValue":l[1]||(l[1]=e=>r.new_lieuligne.longitude=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",lf,[(0,s.K2)(d,{label:"Latitude :"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{modelValue:r.new_lieuligne.latitude,"onUpdate:modelValue":l[2]||(l[2]=e=>r.new_lieuligne.latitude=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",af,[(0,s.QD)("div",tf,[(0,s.QD)("div",sf,[(0,s.K2)(u,{modelValue:r.search_query,"onUpdate:modelValue":l[3]||(l[3]=e=>r.search_query=e),required:""},null,8,["modelValue"]),r.suggestions.length?((0,s.Wz)(),(0,s.An)("ul",nf,[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.suggestions,(e=>((0,s.Wz)(),(0,s.An)("li",{onClick:l=>o.updateSearch(e.display_name),key:e.place_id},(0,n.WA)(e.display_name),9,rf)))),128))])):(0,s.g1)("",!0)]),(0,s.QD)("div",of,[(0,s.K2)(c,{onClick:l[4]||(l[4]=e=>o.handleSearch(e)),class:"btn autre btn-secondary"},{default:(0,s.Ql)((()=>[(0,s.mY)("Reachercher")])),_:1})])])]),(0,s.QD)("div",uf,[(0,s.K2)(h,{ref:"map",onClick:e.addMarker,onDblclick:o.handleMapDoubleClick,zoom:r.zoom,"onUpdate:zoom":l[5]||(l[5]=e=>r.zoom=e),center:r.center},{default:(0,s.Ql)((()=>[r.satelliteMode?((0,s.Wz)(),(0,s.Az)(p,{key:0,url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png","layer-type":"base",name:"OpenStreetMap"})):(0,s.g1)("",!0),r.satelliteMode?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.Az)(p,{key:1,ref:"satelliteTileLayer",url:"https://mt0.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",maxZoom:"20",subdomains:"mt0,mt1,mt2,mt3"},null,512)),(0,s.K2)(m,{ref:"marquer","lat-lng":r.marquer,icon:r.icon,draggable:!0,onDragend:o.handleMarkerDragEnd},null,8,["lat-lng","icon","onDragend"])])),_:1},8,["onClick","onDblclick","zoom","center"])]),(0,s.K2)(c,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(g,{icon:["fas","floppy-disk"]}),df])),_:1})],32)])}var pf=a(624),mf=a.n(pf),hf=a(4060),gf={name:"LieuLigneCreatePage",components:{LMap:hf.gV,LTileLayer:hf.Cc,LMarker:hf.mE},mounted(){},watch:{search_query:function(e,l){e.length>0?this.fetchSuggestions(e):this.suggestions=[]}},data(){return{zoom:8,center:[-18.87919,47.50791],satelliteMode:!1,search_query:"",suggestions:[],icon:mf().icon({iconUrl:`${this.$store.state.baseUrl}/static/marker.png`,iconSize:[90,90],iconAnchor:[16,37]}),baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/lieulignes/`,marquer:mf().latLng(-18.85565626,47.5066423416137),new_lieuligne:{nom_lieu:"",longitude:"47.50664234161377",latitude:"-18.85565626",lat:-18.85565626,lng:47.50664234161377}}},methods:{updateSearch(e){this.search_query=e,this.searchPlace(this.search_query),this.suggestions=[]},fetchSuggestions(e){e=e.toLowerCase(),e.includes("antananarivo")||(e="antananarivo "+e);var l=new XMLHttpRequest;l.open("GET","https://nominatim.openstreetmap.org/search?q="+encodeURIComponent(e)+"&format=json&limit=5",!0),l.onload=()=>{if(200===l.status){var e=JSON.parse(l.responseText);e.length>0?this.suggestions=e:this.suggestions=[]}else console.log("Erreur de requête :",l.status),this.suggestions=[]},l.send()},handleSearch(e){e.preventDefault(),this.searchPlace(this.search_query)},handleMapDoubleClick(e){const l=e.latlng;console.log("Position du double-clic :",l),this.new_lieuligne.latitude=this.new_lieuligne.lat=l.lat,this.new_lieuligne.longitude=this.new_lieuligne.lng=l.lng,this.marquer=l,this.new_lieuligne.latitude=String(l.lat),this.new_lieuligne.longitude=String(l.lng)},handleMarkerDragEnd(e){const l=e.target;console.log(l);const a=l.getLatLng();this.new_lieuligne.latitude=String(a.lat),this.new_lieuligne.longitude=String(a.lng)},toggleSatellite(){this.satelliteMode=!this.satelliteMode},addLieuLigne(){console.log(this.new_lieuligne),y.c.post(this.baseUrlPage,this.new_lieuligne).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/lieuligne")})).catch((e=>{console.error(e)}))},updateMap(e,l){this.center=[e,l],this.zoom=16},searchPlace(e){e=e.toLowerCase(),e.includes("antananarivo")||(e="antananarivo "+e);var l=new XMLHttpRequest;l.open("GET","https://nominatim.openstreetmap.org/search?q="+encodeURIComponent(e)+"&format=json&limit=1",!0),l.onload=()=>{if(200===l.status){var a=JSON.parse(l.responseText);if(a.length>0){var t=parseFloat(a[0].lat),s=parseFloat(a[0].lon);this.updateMap(t,s)}else this.searchByRoad(e)}else console.log("Erreur de requête :",l.status)},l.send()},searchByRoad(e){var l=new XMLHttpRequest;l.open("GET","https://nominatim.openstreetmap.org/route?format=json&limit=1&q="+encodeURIComponent(e),!0),l.onload=()=>{if(200===l.status){var e=JSON.parse(l.responseText);if(e.length>0){var a=parseFloat(e[0].lat),t=parseFloat(e[0].lon);this.updateMap(a,t)}else console.log("Aucun résultat trouvé pour la recherche par route")}else console.log("Erreur de requête :",l.status)},l.send()}}};const vf=(0,x.c)(gf,[["render",cf],["__scopeId","data-v-f4072f3c"]]);var Qf=vf;const _f=e=>((0,s.ED)("data-v-f99ad70c"),e=e(),(0,s.ii)(),e),Df={class:"container"},ff=_f((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Modification"),(0,s.mY)(),(0,s.QD)("span",null,"LieuLigne")]),(0,s.QD)("div",{class:"line"})],-1))),Af=_f((()=>(0,s.QD)("h5",null,"Informations LieuLigne",-1))),bf={class:"col-12 col-md-12"},wf={class:"col-12 col-md-6"},Kf={class:"col-12 col-md-6"},Vf=_f((()=>(0,s.QD)("span",null,"Enregistrer les modifications",-1)));function Uf(e,l,a,n,i,r){const o=(0,s.E1)("b-form-input"),u=(0,s.E1)("b-form-group"),d=(0,s.E1)("font-awesome-icon"),c=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",Df,[(0,s.QD)("form",{onSubmit:l[3]||(l[3]=(0,t.Y7)(((...e)=>r.editLieuLigne&&r.editLieuLigne(...e)),["prevent"])),class:"row form-form form-75"},[ff,Af,(0,s.QD)("div",bf,[(0,s.K2)(u,{label:"Nom lieu :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"nom",modelValue:i.edit_lieuligne.nom_lieu,"onUpdate:modelValue":l[0]||(l[0]=e=>i.edit_lieuligne.nom_lieu=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",wf,[(0,s.K2)(u,{label:"Longitude :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"prenoms",modelValue:i.edit_lieuligne.longitude,"onUpdate:modelValue":l[1]||(l[1]=e=>i.edit_lieuligne.longitude=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Kf,[(0,s.K2)(u,{label:"Latitude :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.edit_lieuligne.latitude,"onUpdate:modelValue":l[2]||(l[2]=e=>i.edit_lieuligne.latitude=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.K2)(c,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{icon:["fas","floppy-disk"]}),Vf])),_:1})],32)])}var kf={name:"LieuLigneCreatePage",mounted(){const e=this.$route.params.id,l=this.$decryptId(e);console.log(l),this.url=`${this.$store.state.baseUrl}/api/transport_scolaire/lieulignes/${l}/`,this.fecthData(this.url)},data(){return{url:"",baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/lieulignes/`,edit_lieuligne:{nom_lieu:"",longitude:"-18.881589691375204",latitude:"47.50664234161377"}}},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.edit_lieuligne={...l}})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des lieulignes:",e)}))},editLieuLigne(){y.c.put(this.url,this.edit_lieuligne).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/lieuligne")})).catch((e=>{console.error(e)}))}}};const Cf=(0,x.c)(kf,[["render",Uf],["__scopeId","data-v-f99ad70c"]]);var Ef=Cf;const yf=e=>((0,s.ED)("data-v-61fff0fd"),e=e(),(0,s.ii)(),e),If={class:"container"},Lf=yf((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Modification"),(0,s.mY)(),(0,s.QD)("span",null,"Bus")]),(0,s.QD)("div",{class:"line"})],-1))),Wf=yf((()=>(0,s.QD)("h5",null,"Informations Bus",-1))),xf={class:"col-12 col-md-6"},Pf={class:"col-12 col-md-6"},$f={class:"col-12"},zf={class:"col-12 col-md-6"},qf={class:"col-12 col-md-6"},Bf={class:"col-12"},Sf={class:"col-12 col-md-6"},Yf={class:"col-12 col-md-6"},Rf={class:"col-12"},Nf=yf((()=>(0,s.QD)("h5",null,"Informations Parent Bus",-1))),Tf={class:"col-12 col-md-6"},Mf={class:"col-12 col-md-6"},Of={class:"col-12 col-md-6"},Jf={class:"col-12 col-md-6"},Ff=yf((()=>(0,s.QD)("span",null,"Enregistrer les modifications",-1)));function Gf(e,l,a,n,i,r){const o=(0,s.E1)("b-form-input"),u=(0,s.E1)("b-form-group"),d=(0,s.E1)("b-form-select"),c=(0,s.E1)("font-awesome-icon"),p=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",If,[(0,s.QD)("form",{onSubmit:l[13]||(l[13]=(0,t.Y7)(((...e)=>r.editBus&&r.editBus(...e)),["prevent"])),class:"row form-form form-75"},[Lf,Wf,(0,s.QD)("div",xf,[(0,s.K2)(u,{label:"nom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"nom",modelValue:i.new_bus.nom,"onUpdate:modelValue":l[0]||(l[0]=e=>i.new_bus.nom=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Pf,[(0,s.K2)(u,{label:"Prénom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"prenoms",modelValue:i.new_bus.prenoms,"onUpdate:modelValue":l[1]||(l[1]=e=>i.new_bus.prenoms=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",$f,[(0,s.K2)(u,{label:"Date Naissance :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"date_naissance",modelValue:i.new_bus.date_naissance,"onUpdate:modelValue":l[2]||(l[2]=e=>i.new_bus.date_naissance=e),type:"date",required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",zf,[(0,s.K2)(u,{label:"Ecole :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.ecole,"onUpdate:modelValue":l[3]||(l[3]=e=>i.new_bus.ecole=e),options:i.ecoles,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",qf,[(0,s.K2)(u,{label:"Classe :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.classe,"onUpdate:modelValue":l[4]||(l[4]=e=>i.new_bus.classe=e),options:i.classes,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",Bf,[(0,s.K2)(u,{label:"Adresse :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.adresse,"onUpdate:modelValue":l[5]||(l[5]=e=>i.new_bus.adresse=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Sf,[(0,s.K2)(u,{label:"Ligne de bus :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.ligne_bus,"onUpdate:modelValue":l[6]||(l[6]=e=>i.new_bus.ligne_bus=e),options:i.lignes_bus,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",Yf,[(0,s.K2)(u,{label:"Lieu de ligne :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.lieu_ligne,"onUpdate:modelValue":l[7]||(l[7]=e=>i.new_bus.lieu_ligne=e),options:i.lieux_ligne,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",Rf,[(0,s.K2)(u,{label:"Lieu de ramassage :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.lieu_ramassage,"onUpdate:modelValue":l[8]||(l[8]=e=>i.new_bus.lieu_ramassage=e),options:i.lieux_ramassage,required:""},null,8,["modelValue","options"])])),_:1})]),Nf,(0,s.QD)("div",Tf,[(0,s.K2)(u,{label:"Nom Père :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.nom_pere,"onUpdate:modelValue":l[9]||(l[9]=e=>i.new_bus.nom_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Mf,[(0,s.K2)(u,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.tel_pere,"onUpdate:modelValue":l[10]||(l[10]=e=>i.new_bus.tel_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Of,[(0,s.K2)(u,{label:"Nom Mère :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.nom_pere,"onUpdate:modelValue":l[11]||(l[11]=e=>i.new_bus.nom_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Jf,[(0,s.K2)(u,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.tel_pere,"onUpdate:modelValue":l[12]||(l[12]=e=>i.new_bus.tel_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.K2)(p,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{icon:["fas","floppy-disk"]}),Ff])),_:1})],32)])}const Hf="localhost:8000";var Xf={name:"BusCreatePage",mounted(){},data(){return{new_bus:{nom:"Doe",prenoms:"John",date_naissance:"2005-08-15",ecole:2,niveau:"Niveau 3",classe:3,ligne_bus:1,lieu_ligne:"Lieu 2",lieu_ramassage:"Lieu 1",nom_pere:"Doe",tel_pere:"0123456789",nom_mere:"Smith",tel_mere:"9876543210",adresse:"123 Rue Principale"},ecoles:[{value:1,text:"Ecole 1"},{value:2,text:"Ecole 2"},{value:3,text:"Ecole 3"}],classes:[{value:1,text:"Classe 1"},{value:2,text:"Classe 2"},{value:3,text:"Classe 3"}],lignes_bus:[{value:1,text:"Ligne 1"},{value:2,text:"Ligne 2"},{value:3,text:"Ligne 3"}],lieux_ligne:[{value:"Lieu 1",text:"Lieu 1"},{value:"Lieu 2",text:"Lieu 2"},{value:"Lieu 3",text:"Lieu 3"}],lieux_ramassage:[{value:"Lieu 1",text:"Lieu 1"},{value:"Lieu 2",text:"Lieu 2"},{value:"Lieu 3",text:"Lieu 3"}]}},methods:{editBus(){const e={nom:this.new_bus.nom,agge:this.new_bus.agge};this.$router.push("/bus"),y.c.post(`http://${Hf}/api/bus`,e).then((e=>{console.log(e.data),this.new_bus.nom=null,this.new_bus.agge=null,this.$router.push("/Bus")})).catch((e=>{console.error(e)}))}}};const jf=(0,x.c)(Xf,[["render",Gf],["__scopeId","data-v-61fff0fd"]]);var Zf=jf;const eA=e=>((0,s.ED)("data-v-6bcf52da"),e=e(),(0,s.ii)(),e),lA={class:"container"},aA={class:"title"},tA=eA((()=>(0,s.QD)("span",null,"Suppression",-1))),sA=eA((()=>(0,s.QD)("span",null,"Chauffeur",-1))),nA={key:0,class:"alert alert-danger"},iA=eA((()=>(0,s.QD)("div",{class:"line"},null,-1)));function rA(e,l,a,i,r,o){return(0,s.Wz)(),(0,s.An)("div",lA,[(0,s.QD)("form",{onSubmit:l[2]||(l[2]=(0,t.Y7)(((...l)=>e.deleteChauffeur&&e.deleteChauffeur(...l)),["prevent"])),class:"row form-form form-75"},[(0,s.QD)("div",aA,[(0,s.QD)("h4",null,[tA,(0,s.mY)(),sA,(0,s.QD)("p",null,(0,n.WA)(r.edit_chauffeur.repr),1)]),e.showDeleteAlert?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("div",nA,[(0,s.mY)(" Êtes-vous sûr de vouloir supprimer ce chauffeur ? Cette action est irréversible. "),(0,s.QD)("button",{class:"btn btn-danger",onClick:l[0]||(l[0]=(...e)=>o.confirmDelete&&o.confirmDelete(...e))},"Confirmer"),(0,s.QD)("button",{class:"btn btn-secondary",onClick:l[1]||(l[1]=(...e)=>o.cancelDelete&&o.cancelDelete(...e))},"Annuler")])),iA])],32)])}var oA={name:"ChauffeurCreatePage",mounted(){const e=this.$route.params.id,l=this.$decryptId(e);console.log(l),this.url=`${this.$store.state.baseUrl}/api/transport_scolaire/chauffeurs/${l}/`,this.fecthData(this.url)},data(){return{url:"",baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/chauffeurs/`,edit_chauffeur:{nom:"",prenoms:"",email:"",tel:"",repr:""}}},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.edit_chauffeur={...l}})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des chauffeurs:",e)}))},confirmDelete(){y.c.delete(this.url,this.edit_chauffeur).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/chauffeur")})).catch((e=>{console.error(e)}))},cancelDelete(){this.$router.push("/transport_scolaire/chauffeur")}}};const uA=(0,x.c)(oA,[["render",rA],["__scopeId","data-v-6bcf52da"]]);var dA=uA;const cA=e=>((0,s.ED)("data-v-723e925d"),e=e(),(0,s.ii)(),e),pA={class:"cont-sep"},mA=cA((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Liste"),(0,s.mY)(),(0,s.QD)("span",null,"LieuRamassages")]),(0,s.QD)("div",{class:"line"})],-1))),hA={class:"actions"},gA={class:"search-form"},vA={class:"table-responsive"},QA={class:"table"},_A=cA((()=>(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("th",null,"N°"),(0,s.QD)("th",null,"Nom"),(0,s.QD)("th",null,"Lieu Ligne"),(0,s.QD)("th",null,"longitude"),(0,s.QD)("th",null,"latitude"),(0,s.QD)("th",null,"Actions")])],-1))),DA={class:"pagination"},fA={class:"page"},AA=cA((()=>(0,s.QD)("span",null,"Page",-1))),bA={class:"btns"},wA=["disabled"],KA=["disabled"],VA=cA((()=>(0,s.QD)("div",{class:"ads btn"}," . ",-1))),UA=cA((()=>(0,s.QD)("div",{class:"popup-buttons"},null,-1)));function kA(e,l,a,i,r,o){const u=(0,s.E1)("font-awesome-icon"),d=(0,s.E1)("router-link");return(0,s.Wz)(),(0,s.An)("div",null,[(0,s.QD)("div",pA,[mA,(0,s.QD)("div",hA,[(0,s.K2)(d,{to:"/transport_scolaire/lieuramassage/nouveau",class:"btn btn-add"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","plus"]}),(0,s.mY)(" Ajouter un nouveau lieuramassage ")])),_:1})]),(0,s.QD)("div",gA,[(0,s.wt)((0,s.QD)("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>r.searchQuery=e),placeholder:"Rechercher  lieuramassage ..."},null,512),[[t.Og,r.searchQuery]]),(0,s.K2)(u,{icon:["fas","magnifying-glass"],class:"icon"})]),(0,s.QD)("div",vA,[(0,s.QD)("table",QA,[_A,(0,s.K2)(t.Q9,{name:"lieuramassage-table",tag:"tbody"},{default:(0,s.Ql)((()=>[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.lieuramassages,(l=>((0,s.Wz)(),(0,s.An)("tr",{key:l.pk},[(0,s.QD)("td",null,(0,n.WA)(l.pk),1),(0,s.QD)("td",null,(0,n.WA)(l.nom_lieu),1),(0,s.QD)("td",null,(0,n.WA)(l.lieu_ligne),1),(0,s.QD)("td",null,(0,n.WA)(l.longitude),1),(0,s.QD)("td",null,(0,n.WA)(l.latitude),1),(0,s.QD)("td",null,[(0,s.K2)(d,{to:`/transport_scolaire/lieuramassage/${e.$encryptId(l.pk)}/edit`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","file-pen"]})])),_:2},1032,["to"]),(0,s.K2)(d,{to:`/transport_scolaire/lieuramassage/${e.$encryptId(l.pk)}/delete`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","x"]})])),_:2},1032,["to"])])])))),128))])),_:1})])]),(0,s.QD)("div",DA,[(0,s.QD)("div",fA,[AA,(0,s.mY)(),(0,s.QD)("span",null,(0,n.WA)(r.current_page),1),(0,s.mY)(" sur "),(0,s.QD)("span",null,(0,n.WA)(r.nbr_page),1)]),(0,s.QD)("div",bA,[(0,s.QD)("button",{onClick:l[1]||(l[1]=l=>e.goToPageCandidat(e.previousPageCandidat)),disabled:!e.previousPageCandidat,class:"btn"},[(0,s.K2)(u,{icon:["fas","chevron-left"]})],8,wA),(0,s.QD)("button",{onClick:l[2]||(l[2]=l=>e.goToPageCandidat(e.previousPageCandidat)),class:"btn"},(0,n.WA)(r.current_page),1),(0,s.QD)("button",{onClick:l[3]||(l[3]=l=>e.goToPageCandidat(e.nextPageCandidat)),disabled:!e.nextPageCandidat,class:"btn"},[(0,s.K2)(u,{icon:["fas","chevron-right"]})],8,KA)]),VA]),UA])])}var CA={name:"LieuRamassagePage",data(){return{baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/lieuramassages/`,lieuramassages:[],searchQuery:"",startDate:"",endDate:"",current_page:2,nbr_page:10}},computed:{},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.lieuramassages=l.results,console.log(l.results)})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des lieuramassages:",e)}))}},mounted(){this.fecthData(this.baseUrlPage)}};const EA=(0,x.c)(CA,[["render",kA],["__scopeId","data-v-723e925d"]]);var yA=EA;const IA=e=>((0,s.ED)("data-v-6c972d81"),e=e(),(0,s.ii)(),e),LA={class:"container"},WA=IA((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Ajout"),(0,s.mY)(),(0,s.QD)("span",null,"LieuRamassage")]),(0,s.QD)("div",{class:"line"})],-1))),xA={class:"col-12 col-md-12"},PA={class:"col-12 col-md-12"},$A={class:"col-12 col-md-6"},zA={class:"col-12 col-md-6"},qA=IA((()=>(0,s.QD)("span",null,"Enregistrer",-1)));function BA(e,l,a,n,i,r){const o=(0,s.E1)("b-form-input"),u=(0,s.E1)("b-form-group"),d=(0,s.E1)("b-form-select"),c=(0,s.E1)("font-awesome-icon"),p=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",LA,[(0,s.QD)("form",{onSubmit:l[4]||(l[4]=(0,t.Y7)(((...e)=>r.addLieuRamassage&&r.addLieuRamassage(...e)),["prevent"])),class:"row form-form form-75"},[WA,(0,s.QD)("div",xA,[(0,s.K2)(u,{label:"Nom lieu :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"nom",modelValue:i.new_lieuramassage.nom_lieu,"onUpdate:modelValue":l[0]||(l[0]=e=>i.new_lieuramassage.nom_lieu=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",PA,[(0,s.K2)(u,{label:"LieuRamassage :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_lieuramassage.lieu_ligne,"onUpdate:modelValue":l[1]||(l[1]=e=>i.new_lieuramassage.lieu_ligne=e),options:i.lieu_lignes},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",$A,[(0,s.K2)(u,{label:"Longitude :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"prenoms",modelValue:i.new_lieuramassage.longitude,"onUpdate:modelValue":l[2]||(l[2]=e=>i.new_lieuramassage.longitude=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",zA,[(0,s.K2)(u,{label:"Latitude :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_lieuramassage.latitude,"onUpdate:modelValue":l[3]||(l[3]=e=>i.new_lieuramassage.latitude=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.K2)(p,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{icon:["fas","floppy-disk"]}),qA])),_:1})],32)])}var SA={name:"LieuRamassageCreatePage",mounted(){this.fecthDataLieuRamassage(this.baseUrlLieuRamassage)},props:{baseUrl:String},data(){return{baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/lieuramassages/`,baseUrlLieuRamassage:`${this.$store.state.baseUrl}/api/transport_scolaire/lieulignes/`,new_lieuramassage:{nom_lieu:"",lieu_ligne:"",longitude:"-18.881589691375204",latitude:"47.50664234161377"},lieu_lignes:[]}},methods:{fecthDataLieuRamassage(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;console.log(l),this.lieu_lignes=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des lieulignes:",e)}))},addLieuRamassage(){y.c.post(this.baseUrlPage,this.new_lieuramassage).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/lieuramassage")})).catch((e=>{console.error(e)}))}}};const YA=(0,x.c)(SA,[["render",BA],["__scopeId","data-v-6c972d81"]]);var RA=YA;const NA=e=>((0,s.ED)("data-v-5b917e87"),e=e(),(0,s.ii)(),e),TA={class:"container"},MA=NA((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Modification"),(0,s.mY)(),(0,s.QD)("span",null,"LieuRamassage")]),(0,s.QD)("div",{class:"line"})],-1))),OA=NA((()=>(0,s.QD)("h5",null,"Informations LieuRamassage",-1))),JA={class:"col-12 col-md-12"},FA={class:"col-12 col-md-12"},GA={class:"col-12 col-md-6"},HA={class:"col-12 col-md-6"},XA=NA((()=>(0,s.QD)("span",null,"Enregistrer les modifications",-1)));function jA(e,l,a,n,i,r){const o=(0,s.E1)("b-form-input"),u=(0,s.E1)("b-form-group"),d=(0,s.E1)("b-form-select"),c=(0,s.E1)("font-awesome-icon"),p=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",TA,[(0,s.QD)("form",{onSubmit:l[4]||(l[4]=(0,t.Y7)(((...e)=>r.editLieuRamassage&&r.editLieuRamassage(...e)),["prevent"])),class:"row form-form form-75"},[MA,OA,(0,s.QD)("div",JA,[(0,s.K2)(u,{label:"Nom lieu :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"nom",modelValue:i.edit_lieuramassage.nom_lieu,"onUpdate:modelValue":l[0]||(l[0]=e=>i.edit_lieuramassage.nom_lieu=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",FA,[(0,s.K2)(u,{label:"LieuRamassage :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.edit_lieuramassage.lieu_ligne,"onUpdate:modelValue":l[1]||(l[1]=e=>i.edit_lieuramassage.lieu_ligne=e),options:i.lieu_lignes},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",GA,[(0,s.K2)(u,{label:"Longitude :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"prenoms",modelValue:i.edit_lieuramassage.longitude,"onUpdate:modelValue":l[2]||(l[2]=e=>i.edit_lieuramassage.longitude=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",HA,[(0,s.K2)(u,{label:"Latitude :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.edit_lieuramassage.latitude,"onUpdate:modelValue":l[3]||(l[3]=e=>i.edit_lieuramassage.latitude=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.K2)(p,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{icon:["fas","floppy-disk"]}),XA])),_:1})],32)])}var ZA={name:"LieuRamassageCreatePage",mounted(){const e=this.$route.params.id,l=this.$decryptId(e);console.log(l),this.fecthDataLieuRamassage(this.baseUrlLieuRamassage),this.url=`${this.$store.state.baseUrl}/api/transport_scolaire/lieuramassages/${l}/`,this.fecthData(this.url)},data(){return{url:"",baseUrlLieuRamassage:`${this.$store.state.baseUrl}/api/transport_scolaire/lieulignes/`,baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/lieuramassages/`,edit_lieuramassage:{nom_lieu:"",lieu_ligne:"",longitude:"-18.881589691375204",latitude:"47.50664234161377"},lieu_lignes:[]}},methods:{fecthDataLieuRamassage(e){y.c.get(e,{params:{paginate:!1}}).then((e=>{const l=e.data;console.log(l),this.lieu_lignes=l.map((e=>({value:e.pk,text:e.repr})))})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des lieulignes:",e)}))},fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.edit_lieuramassage={...l,lieu_ligne:l.lieu_ligne.pk}})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des lieuramassages:",e)}))},editLieuRamassage(){y.c.put(this.url,this.edit_lieuramassage).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/lieuramassage")})).catch((e=>{console.error(e)}))}}};const eb=(0,x.c)(ZA,[["render",jA],["__scopeId","data-v-5b917e87"]]);var lb=eb;const ab=e=>((0,s.ED)("data-v-602521b8"),e=e(),(0,s.ii)(),e),tb={class:"container"},sb=ab((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Modification"),(0,s.mY)(),(0,s.QD)("span",null,"Bus")]),(0,s.QD)("div",{class:"line"})],-1))),nb=ab((()=>(0,s.QD)("h5",null,"Informations Bus",-1))),ib={class:"col-12 col-md-6"},rb={class:"col-12 col-md-6"},ob={class:"col-12"},ub={class:"col-12 col-md-6"},db={class:"col-12 col-md-6"},cb={class:"col-12"},pb={class:"col-12 col-md-6"},mb={class:"col-12 col-md-6"},hb={class:"col-12"},gb=ab((()=>(0,s.QD)("h5",null,"Informations Parent Bus",-1))),vb={class:"col-12 col-md-6"},Qb={class:"col-12 col-md-6"},_b={class:"col-12 col-md-6"},Db={class:"col-12 col-md-6"},fb=ab((()=>(0,s.QD)("span",null,"Enregistrer les modifications",-1)));function Ab(e,l,a,n,i,r){const o=(0,s.E1)("b-form-input"),u=(0,s.E1)("b-form-group"),d=(0,s.E1)("b-form-select"),c=(0,s.E1)("font-awesome-icon"),p=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",tb,[(0,s.QD)("form",{onSubmit:l[13]||(l[13]=(0,t.Y7)(((...e)=>r.editBus&&r.editBus(...e)),["prevent"])),class:"row form-form form-75"},[sb,nb,(0,s.QD)("div",ib,[(0,s.K2)(u,{label:"nom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"nom",modelValue:i.new_bus.nom,"onUpdate:modelValue":l[0]||(l[0]=e=>i.new_bus.nom=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",rb,[(0,s.K2)(u,{label:"Prénom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"prenoms",modelValue:i.new_bus.prenoms,"onUpdate:modelValue":l[1]||(l[1]=e=>i.new_bus.prenoms=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",ob,[(0,s.K2)(u,{label:"Date Naissance :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"date_naissance",modelValue:i.new_bus.date_naissance,"onUpdate:modelValue":l[2]||(l[2]=e=>i.new_bus.date_naissance=e),type:"date",required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",ub,[(0,s.K2)(u,{label:"Ecole :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.ecole,"onUpdate:modelValue":l[3]||(l[3]=e=>i.new_bus.ecole=e),options:i.ecoles,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",db,[(0,s.K2)(u,{label:"Classe :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.classe,"onUpdate:modelValue":l[4]||(l[4]=e=>i.new_bus.classe=e),options:i.classes,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",cb,[(0,s.K2)(u,{label:"Adresse :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.adresse,"onUpdate:modelValue":l[5]||(l[5]=e=>i.new_bus.adresse=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",pb,[(0,s.K2)(u,{label:"Ligne de bus :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.ligne_bus,"onUpdate:modelValue":l[6]||(l[6]=e=>i.new_bus.ligne_bus=e),options:i.lignes_bus,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",mb,[(0,s.K2)(u,{label:"Lieu de ligne :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.lieu_ligne,"onUpdate:modelValue":l[7]||(l[7]=e=>i.new_bus.lieu_ligne=e),options:i.lieux_ligne,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",hb,[(0,s.K2)(u,{label:"Lieu de ramassage :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.lieu_ramassage,"onUpdate:modelValue":l[8]||(l[8]=e=>i.new_bus.lieu_ramassage=e),options:i.lieux_ramassage,required:""},null,8,["modelValue","options"])])),_:1})]),gb,(0,s.QD)("div",vb,[(0,s.K2)(u,{label:"Nom Père :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.nom_pere,"onUpdate:modelValue":l[9]||(l[9]=e=>i.new_bus.nom_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Qb,[(0,s.K2)(u,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.tel_pere,"onUpdate:modelValue":l[10]||(l[10]=e=>i.new_bus.tel_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",_b,[(0,s.K2)(u,{label:"Nom Mère :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.nom_pere,"onUpdate:modelValue":l[11]||(l[11]=e=>i.new_bus.nom_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Db,[(0,s.K2)(u,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.tel_pere,"onUpdate:modelValue":l[12]||(l[12]=e=>i.new_bus.tel_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.K2)(p,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{icon:["fas","floppy-disk"]}),fb])),_:1})],32)])}const bb="localhost:8000";var wb={name:"BusCreatePage",mounted(){},data(){return{new_bus:{nom:"Doe",prenoms:"John",date_naissance:"2005-08-15",ecole:2,niveau:"Niveau 3",classe:3,ligne_bus:1,lieu_ligne:"Lieu 2",lieu_ramassage:"Lieu 1",nom_pere:"Doe",tel_pere:"0123456789",nom_mere:"Smith",tel_mere:"9876543210",adresse:"123 Rue Principale"},ecoles:[{value:1,text:"Ecole 1"},{value:2,text:"Ecole 2"},{value:3,text:"Ecole 3"}],classes:[{value:1,text:"Classe 1"},{value:2,text:"Classe 2"},{value:3,text:"Classe 3"}],lignes_bus:[{value:1,text:"Ligne 1"},{value:2,text:"Ligne 2"},{value:3,text:"Ligne 3"}],lieux_ligne:[{value:"Lieu 1",text:"Lieu 1"},{value:"Lieu 2",text:"Lieu 2"},{value:"Lieu 3",text:"Lieu 3"}],lieux_ramassage:[{value:"Lieu 1",text:"Lieu 1"},{value:"Lieu 2",text:"Lieu 2"},{value:"Lieu 3",text:"Lieu 3"}]}},methods:{editBus(){const e={nom:this.new_bus.nom,agge:this.new_bus.agge};this.$router.push("/bus"),y.c.post(`http://${bb}/api/bus`,e).then((e=>{console.log(e.data),this.new_bus.nom=null,this.new_bus.agge=null,this.$router.push("/Bus")})).catch((e=>{console.error(e)}))}}};const Kb=(0,x.c)(wb,[["render",Ab],["__scopeId","data-v-602521b8"]]);var Vb=Kb;const Ub=e=>((0,s.ED)("data-v-216e8ab8"),e=e(),(0,s.ii)(),e),kb={class:"container"},Cb={class:"title"},Eb=Ub((()=>(0,s.QD)("span",null,"Suppression",-1))),yb=Ub((()=>(0,s.QD)("span",null,"Chauffeur",-1))),Ib={key:0,class:"alert alert-danger"},Lb=Ub((()=>(0,s.QD)("div",{class:"line"},null,-1)));function Wb(e,l,a,i,r,o){return(0,s.Wz)(),(0,s.An)("div",kb,[(0,s.QD)("form",{onSubmit:l[2]||(l[2]=(0,t.Y7)(((...l)=>e.deleteChauffeur&&e.deleteChauffeur(...l)),["prevent"])),class:"row form-form form-75"},[(0,s.QD)("div",Cb,[(0,s.QD)("h4",null,[Eb,(0,s.mY)(),yb,(0,s.QD)("p",null,(0,n.WA)(r.edit_chauffeur.repr),1)]),e.showDeleteAlert?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("div",Ib,[(0,s.mY)(" Êtes-vous sûr de vouloir supprimer ce chauffeur ? Cette action est irréversible. "),(0,s.QD)("button",{class:"btn btn-danger",onClick:l[0]||(l[0]=(...e)=>o.confirmDelete&&o.confirmDelete(...e))},"Confirmer"),(0,s.QD)("button",{class:"btn btn-secondary",onClick:l[1]||(l[1]=(...e)=>o.cancelDelete&&o.cancelDelete(...e))},"Annuler")])),Lb])],32)])}var xb={name:"ChauffeurCreatePage",mounted(){const e=this.$route.params.id,l=this.$decryptId(e);console.log(l),this.url=`${this.$store.state.baseUrl}/api/transport_scolaire/chauffeurs/${l}/`,this.fecthData(this.url)},data(){return{url:"",baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/chauffeurs/`,edit_chauffeur:{nom:"",prenoms:"",email:"",tel:"",repr:""}}},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.edit_chauffeur={...l}})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des chauffeurs:",e)}))},confirmDelete(){y.c.delete(this.url,this.edit_chauffeur).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/chauffeur")})).catch((e=>{console.error(e)}))},cancelDelete(){this.$router.push("/transport_scolaire/chauffeur")}}};const Pb=(0,x.c)(xb,[["render",Wb],["__scopeId","data-v-216e8ab8"]]);var $b=Pb;const zb=e=>((0,s.ED)("data-v-aef15ed8"),e=e(),(0,s.ii)(),e),qb={class:"cont-sep"},Bb=zb((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Liste"),(0,s.mY)(),(0,s.QD)("span",null,"Chauffeurs")]),(0,s.QD)("div",{class:"line"})],-1))),Sb={class:"actions"},Yb={class:"search-form"},Rb={class:"table-responsive"},Nb={class:"table"},Tb=zb((()=>(0,s.QD)("thead",null,[(0,s.QD)("tr",null,[(0,s.QD)("th",null,"N°"),(0,s.QD)("th",null,"Nom"),(0,s.QD)("th",null,"Prénoms"),(0,s.QD)("th",null,"Email"),(0,s.QD)("th",null,"Téléphone"),(0,s.QD)("th",null,"Actions")])],-1))),Mb=zb((()=>(0,s.QD)("div",{class:"popup-buttons"},null,-1)));function Ob(e,l,a,i,r,o){const u=(0,s.E1)("font-awesome-icon"),d=(0,s.E1)("router-link");return(0,s.Wz)(),(0,s.An)("div",null,[(0,s.QD)("div",qb,[Bb,(0,s.QD)("div",Sb,[(0,s.K2)(d,{to:"/transport_scolaire/chauffeur/nouveau",class:"btn btn-add"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","plus"]}),(0,s.mY)(" Ajouter un nouveau chauffeur ")])),_:1})]),(0,s.QD)("div",Yb,[(0,s.wt)((0,s.QD)("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>r.searchQuery=e),placeholder:"Rechercher  chauffeur ..."},null,512),[[t.Og,r.searchQuery]]),(0,s.K2)(u,{icon:["fas","magnifying-glass"],class:"icon"})]),(0,s.QD)("div",Rb,[(0,s.QD)("table",Nb,[Tb,(0,s.K2)(t.Q9,{name:"chauffeur-table",tag:"tbody"},{default:(0,s.Ql)((()=>[((0,s.Wz)(!0),(0,s.An)(s.ae,null,(0,s.mi)(r.chauffeurs,(l=>((0,s.Wz)(),(0,s.An)("tr",{key:l.pk},[(0,s.QD)("td",null,(0,n.WA)(l.pk),1),(0,s.QD)("td",null,(0,n.WA)(l.nom),1),(0,s.QD)("td",null,(0,n.WA)(l.prenoms),1),(0,s.QD)("td",null,(0,n.WA)(l.email),1),(0,s.QD)("td",null,(0,n.WA)(l.tel),1),(0,s.QD)("td",null,[(0,s.K2)(d,{to:`/transport_scolaire/chauffeur/${e.$encryptId(l.pk)}/edit`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","file-pen"]})])),_:2},1032,["to"]),(0,s.K2)(d,{to:`/transport_scolaire/chauffeur/${e.$encryptId(l.pk)}/delete`,class:"btn-action"},{default:(0,s.Ql)((()=>[(0,s.K2)(u,{icon:["fas","x"]})])),_:2},1032,["to"])])])))),128))])),_:1})])]),Mb])])}var Jb={name:"ChauffeurPage",data(){return{baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/chauffeurs/`,chauffeurs:[],searchQuery:"",startDate:"",endDate:"",current_page:2,nbr_page:10}},computed:{},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.chauffeurs=l.results})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des chauffeurs:",e)}))}},mounted(){this.fecthData(this.baseUrlPage)}};const Fb=(0,x.c)(Jb,[["render",Ob],["__scopeId","data-v-aef15ed8"]]);var Gb=Fb;const Hb=e=>((0,s.ED)("data-v-63323436"),e=e(),(0,s.ii)(),e),Xb={class:"container"},jb=Hb((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Ajout"),(0,s.mY)(),(0,s.QD)("span",null,"Chauffeur")]),(0,s.QD)("div",{class:"line"})],-1))),Zb=Hb((()=>(0,s.QD)("h5",null,"Informations Chauffeur",-1))),ew={class:"col-12 col-md-6"},lw={class:"col-12 col-md-6"},aw={class:"col-12"},tw={class:"col-12"},sw=Hb((()=>(0,s.QD)("span",null,"Enregistrer",-1)));function nw(e,l,a,n,i,r){const o=(0,s.E1)("b-form-input"),u=(0,s.E1)("b-form-group"),d=(0,s.E1)("font-awesome-icon"),c=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",Xb,[(0,s.QD)("form",{onSubmit:l[4]||(l[4]=(0,t.Y7)(((...e)=>r.addChauffeur&&r.addChauffeur(...e)),["prevent"])),class:"row form-form form-75"},[jb,Zb,(0,s.QD)("div",ew,[(0,s.K2)(u,{label:"nom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"nom",modelValue:i.new_chauffeur.nom,"onUpdate:modelValue":l[0]||(l[0]=e=>i.new_chauffeur.nom=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",lw,[(0,s.K2)(u,{label:"Prénom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"prenoms",modelValue:i.new_chauffeur.prenoms,"onUpdate:modelValue":l[1]||(l[1]=e=>i.new_chauffeur.prenoms=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",aw,[(0,s.K2)(u,{label:"Email :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"email",modelValue:i.new_chauffeur.email,"onUpdate:modelValue":l[2]||(l[2]=e=>i.new_chauffeur.email=e),type:"email",required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",tw,[(0,s.K2)(u,{label:"Téléphone :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_chauffeur.tel,"onUpdate:modelValue":l[3]||(l[3]=e=>i.new_chauffeur.tel=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.K2)(c,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{icon:["fas","floppy-disk"]}),sw])),_:1})],32)])}var iw={name:"ChauffeurCreatePage",mounted(){},props:{baseUrl:String},data(){return{baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/chauffeurs/`,new_chauffeur:{nom:"",prenoms:"",email:"",tel:""}}},methods:{addChauffeur(){y.c.post(this.baseUrlPage,this.new_chauffeur).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/chauffeur")})).catch((e=>{console.error(e)}))}}};const rw=(0,x.c)(iw,[["render",nw],["__scopeId","data-v-63323436"]]);var ow=rw;const uw=e=>((0,s.ED)("data-v-ab35541a"),e=e(),(0,s.ii)(),e),dw={class:"container"},cw=uw((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Modification"),(0,s.mY)(),(0,s.QD)("span",null,"Chauffeur")]),(0,s.QD)("div",{class:"line"})],-1))),pw=uw((()=>(0,s.QD)("h5",null,"Informations Chauffeur",-1))),mw={class:"col-12 col-md-6"},hw={class:"col-12 col-md-6"},gw={class:"col-12"},vw={class:"col-12"},Qw=uw((()=>(0,s.QD)("span",null,"Enregistrer les modifications",-1)));function _w(e,l,a,n,i,r){const o=(0,s.E1)("b-form-input"),u=(0,s.E1)("b-form-group"),d=(0,s.E1)("font-awesome-icon"),c=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",dw,[(0,s.QD)("form",{onSubmit:l[4]||(l[4]=(0,t.Y7)(((...e)=>r.editChauffeur&&r.editChauffeur(...e)),["prevent"])),class:"row form-form form-75"},[cw,pw,(0,s.QD)("div",mw,[(0,s.K2)(u,{label:"nom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"nom",modelValue:i.edit_chauffeur.nom,"onUpdate:modelValue":l[0]||(l[0]=e=>i.edit_chauffeur.nom=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",hw,[(0,s.K2)(u,{label:"Prénom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"prenoms",modelValue:i.edit_chauffeur.prenoms,"onUpdate:modelValue":l[1]||(l[1]=e=>i.edit_chauffeur.prenoms=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",gw,[(0,s.K2)(u,{label:"Email :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"email",modelValue:i.edit_chauffeur.email,"onUpdate:modelValue":l[2]||(l[2]=e=>i.edit_chauffeur.email=e),type:"email",required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",vw,[(0,s.K2)(u,{label:"Téléphone :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.edit_chauffeur.tel,"onUpdate:modelValue":l[3]||(l[3]=e=>i.edit_chauffeur.tel=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.K2)(c,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{icon:["fas","floppy-disk"]}),Qw])),_:1})],32)])}var Dw={name:"ChauffeurCreatePage",mounted(){const e=this.$route.params.id,l=this.$decryptId(e);console.log(l),this.url=`${this.$store.state.baseUrl}/api/transport_scolaire/chauffeurs/${l}/`,this.fecthData(this.url)},data(){return{url:"",baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/chauffeurs/`,edit_chauffeur:{nom:"",prenoms:"",email:"",tel:""}}},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.edit_chauffeur={...l}})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des chauffeurs:",e)}))},editChauffeur(){y.c.put(this.url,this.edit_chauffeur).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/chauffeur")})).catch((e=>{console.error(e)}))}}};const fw=(0,x.c)(Dw,[["render",_w],["__scopeId","data-v-ab35541a"]]);var Aw=fw;const bw=e=>((0,s.ED)("data-v-dd3c635c"),e=e(),(0,s.ii)(),e),ww={class:"container"},Kw=bw((()=>(0,s.QD)("div",{class:"title"},[(0,s.QD)("h4",null,[(0,s.QD)("span",null,"Modification"),(0,s.mY)(),(0,s.QD)("span",null,"Bus")]),(0,s.QD)("div",{class:"line"})],-1))),Vw=bw((()=>(0,s.QD)("h5",null,"Informations Bus",-1))),Uw={class:"col-12 col-md-6"},kw={class:"col-12 col-md-6"},Cw={class:"col-12"},Ew={class:"col-12 col-md-6"},yw={class:"col-12 col-md-6"},Iw={class:"col-12"},Lw={class:"col-12 col-md-6"},Ww={class:"col-12 col-md-6"},xw={class:"col-12"},Pw=bw((()=>(0,s.QD)("h5",null,"Informations Parent Bus",-1))),$w={class:"col-12 col-md-6"},zw={class:"col-12 col-md-6"},qw={class:"col-12 col-md-6"},Bw={class:"col-12 col-md-6"},Sw=bw((()=>(0,s.QD)("span",null,"Enregistrer les modifications",-1)));function Yw(e,l,a,n,i,r){const o=(0,s.E1)("b-form-input"),u=(0,s.E1)("b-form-group"),d=(0,s.E1)("b-form-select"),c=(0,s.E1)("font-awesome-icon"),p=(0,s.E1)("b-button");return(0,s.Wz)(),(0,s.An)("div",ww,[(0,s.QD)("form",{onSubmit:l[13]||(l[13]=(0,t.Y7)(((...e)=>r.editBus&&r.editBus(...e)),["prevent"])),class:"row form-form form-75"},[Kw,Vw,(0,s.QD)("div",Uw,[(0,s.K2)(u,{label:"nom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"nom",modelValue:i.new_bus.nom,"onUpdate:modelValue":l[0]||(l[0]=e=>i.new_bus.nom=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",kw,[(0,s.K2)(u,{label:"Prénom :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"prenoms",modelValue:i.new_bus.prenoms,"onUpdate:modelValue":l[1]||(l[1]=e=>i.new_bus.prenoms=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Cw,[(0,s.K2)(u,{label:"Date Naissance :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{id:"date_naissance",modelValue:i.new_bus.date_naissance,"onUpdate:modelValue":l[2]||(l[2]=e=>i.new_bus.date_naissance=e),type:"date",required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Ew,[(0,s.K2)(u,{label:"Ecole :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.ecole,"onUpdate:modelValue":l[3]||(l[3]=e=>i.new_bus.ecole=e),options:i.ecoles,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",yw,[(0,s.K2)(u,{label:"Classe :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.classe,"onUpdate:modelValue":l[4]||(l[4]=e=>i.new_bus.classe=e),options:i.classes,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",Iw,[(0,s.K2)(u,{label:"Adresse :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.adresse,"onUpdate:modelValue":l[5]||(l[5]=e=>i.new_bus.adresse=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Lw,[(0,s.K2)(u,{label:"Ligne de bus :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.ligne_bus,"onUpdate:modelValue":l[6]||(l[6]=e=>i.new_bus.ligne_bus=e),options:i.lignes_bus,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",Ww,[(0,s.K2)(u,{label:"Lieu de ligne :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.lieu_ligne,"onUpdate:modelValue":l[7]||(l[7]=e=>i.new_bus.lieu_ligne=e),options:i.lieux_ligne,required:""},null,8,["modelValue","options"])])),_:1})]),(0,s.QD)("div",xw,[(0,s.K2)(u,{label:"Lieu de ramassage :"},{default:(0,s.Ql)((()=>[(0,s.K2)(d,{modelValue:i.new_bus.lieu_ramassage,"onUpdate:modelValue":l[8]||(l[8]=e=>i.new_bus.lieu_ramassage=e),options:i.lieux_ramassage,required:""},null,8,["modelValue","options"])])),_:1})]),Pw,(0,s.QD)("div",$w,[(0,s.K2)(u,{label:"Nom Père :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.nom_pere,"onUpdate:modelValue":l[9]||(l[9]=e=>i.new_bus.nom_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",zw,[(0,s.K2)(u,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.tel_pere,"onUpdate:modelValue":l[10]||(l[10]=e=>i.new_bus.tel_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",qw,[(0,s.K2)(u,{label:"Nom Mère :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.nom_pere,"onUpdate:modelValue":l[11]||(l[11]=e=>i.new_bus.nom_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.QD)("div",Bw,[(0,s.K2)(u,{label:"Tel :"},{default:(0,s.Ql)((()=>[(0,s.K2)(o,{modelValue:i.new_bus.tel_pere,"onUpdate:modelValue":l[12]||(l[12]=e=>i.new_bus.tel_pere=e),required:""},null,8,["modelValue"])])),_:1})]),(0,s.K2)(p,{type:"submit",variant:"",class:"btn btn-save"},{default:(0,s.Ql)((()=>[(0,s.K2)(c,{icon:["fas","floppy-disk"]}),Sw])),_:1})],32)])}const Rw="localhost:8000";var Nw={name:"BusCreatePage",mounted(){},data(){return{new_bus:{nom:"Doe",prenoms:"John",date_naissance:"2005-08-15",ecole:2,niveau:"Niveau 3",classe:3,ligne_bus:1,lieu_ligne:"Lieu 2",lieu_ramassage:"Lieu 1",nom_pere:"Doe",tel_pere:"0123456789",nom_mere:"Smith",tel_mere:"9876543210",adresse:"123 Rue Principale"},ecoles:[{value:1,text:"Ecole 1"},{value:2,text:"Ecole 2"},{value:3,text:"Ecole 3"}],classes:[{value:1,text:"Classe 1"},{value:2,text:"Classe 2"},{value:3,text:"Classe 3"}],lignes_bus:[{value:1,text:"Ligne 1"},{value:2,text:"Ligne 2"},{value:3,text:"Ligne 3"}],lieux_ligne:[{value:"Lieu 1",text:"Lieu 1"},{value:"Lieu 2",text:"Lieu 2"},{value:"Lieu 3",text:"Lieu 3"}],lieux_ramassage:[{value:"Lieu 1",text:"Lieu 1"},{value:"Lieu 2",text:"Lieu 2"},{value:"Lieu 3",text:"Lieu 3"}]}},methods:{editBus(){const e={nom:this.new_bus.nom,agge:this.new_bus.agge};this.$router.push("/bus"),y.c.post(`http://${Rw}/api/bus`,e).then((e=>{console.log(e.data),this.new_bus.nom=null,this.new_bus.agge=null,this.$router.push("/Bus")})).catch((e=>{console.error(e)}))}}};const Tw=(0,x.c)(Nw,[["render",Yw],["__scopeId","data-v-dd3c635c"]]);var Mw=Tw;const Ow=e=>((0,s.ED)("data-v-2900de5e"),e=e(),(0,s.ii)(),e),Jw={class:"container"},Fw={class:"title"},Gw=Ow((()=>(0,s.QD)("span",null,"Suppression",-1))),Hw=Ow((()=>(0,s.QD)("span",null,"Chauffeur",-1))),Xw={key:0,class:"alert alert-danger"},jw=Ow((()=>(0,s.QD)("div",{class:"line"},null,-1)));function Zw(e,l,a,i,r,o){return(0,s.Wz)(),(0,s.An)("div",Jw,[(0,s.QD)("form",{onSubmit:l[2]||(l[2]=(0,t.Y7)(((...l)=>e.deleteChauffeur&&e.deleteChauffeur(...l)),["prevent"])),class:"row form-form form-75"},[(0,s.QD)("div",Fw,[(0,s.QD)("h4",null,[Gw,(0,s.mY)(),Hw,(0,s.QD)("p",null,(0,n.WA)(r.edit_chauffeur.repr),1)]),e.showDeleteAlert?(0,s.g1)("",!0):((0,s.Wz)(),(0,s.An)("div",Xw,[(0,s.mY)(" Êtes-vous sûr de vouloir supprimer ce chauffeur ? Cette action est irréversible. "),(0,s.QD)("button",{class:"btn btn-danger",onClick:l[0]||(l[0]=(...e)=>o.confirmDelete&&o.confirmDelete(...e))},"Confirmer"),(0,s.QD)("button",{class:"btn btn-secondary",onClick:l[1]||(l[1]=(...e)=>o.cancelDelete&&o.cancelDelete(...e))},"Annuler")])),jw])],32)])}var eK={name:"ChauffeurCreatePage",mounted(){const e=this.$route.params.id,l=this.$decryptId(e);console.log(l),this.url=`${this.$store.state.baseUrl}/api/transport_scolaire/chauffeurs/${l}/`,this.fecthData(this.url)},data(){return{url:"",baseUrlPage:`${this.$store.state.baseUrl}/api/transport_scolaire/chauffeurs/`,edit_chauffeur:{nom:"",prenoms:"",email:"",tel:"",repr:""}}},methods:{fecthData(e){y.c.get(e,{params:{paginate:!0}}).then((e=>{const l=e.data;this.edit_chauffeur={...l}})).catch((e=>{console.error("Une erreur s'est candidate lors de la récupération des chauffeurs:",e)}))},confirmDelete(){y.c.delete(this.url,this.edit_chauffeur).then((e=>{console.log(e.data),this.$router.push("/transport_scolaire/chauffeur")})).catch((e=>{console.error(e)}))},cancelDelete(){this.$router.push("/transport_scolaire/chauffeur")}}};const lK=(0,x.c)(eK,[["render",Zw],["__scopeId","data-v-2900de5e"]]);var aK=lK;const tK=[{path:"/",name:"Home",component:Dl},{path:"/login",name:"Login",component:Nl},{path:"/inscription",name:"Inscription",component:Ft},{path:"/horaire",name:"Horaire",component:Da},{path:"/inscription/list",name:"InscriptionList",component:ps,meta:{requiresAuth:!0}},{path:"/transport_scolaire/inscription",name:"TransportScolaireInscription.Eleve",component:bn,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/inscription/list/annule",name:"TransportScolaireInscriptionListAnnulePage.Eleve",component:Hn,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/inscription/:id/detail",name:"TransportScolaireInscriptionDetail.Eleve",component:rr,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/inscription/:id/delete",name:"TransportScolaireInscriptionDelete.Eleve",component:_r,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/eleve",name:"TransportScolaire.Eleve",component:Or,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/eleve/nouveau",name:"TransportScolaire.Eleve.create",component:Jo,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/eleve/:id/edit",name:"TransportScolaire.Eleve.edit",component:bu,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/eleve/:id/detail",name:"TransportScolaire.Eleve.detail",component:zd,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/eleve/:id/delete",name:"TransportScolaire.Eleve.delete",component:Fd,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/ecole",name:"TransportScolaire.Ecole",component:hc,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/ecole/nouveau",name:"TransportScolaire.Ecole.create",component:Ec,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/ecole/:id/edit",name:"TransportScolaire.Ecole.edit",component:Tc,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/ecole/:id/detail",name:"TransportScolaire.Ecole.detail",component:hp,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/ecole/:id/delete",name:"TransportScolaire.Ecole.delete",component:Vp,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/parent",name:"TransportScolaire.Parent",component:jp,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/parent/nouveau",name:"TransportScolaire.Parent.create",component:bm,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/parent/:id/edit",name:"TransportScolaire.Parent.edit",component:Om,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/parent/:id/detail",name:"TransportScolaire.Parent.detail",component:ah,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/parent/:id/delete",name:"TransportScolaire.Parent.delete",component:mh,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/bus/",name:"TransportScolaire.Bus",component:Uh,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/bus/nouveau",name:"TransportScolaire.Bus.create",component:Yh,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/bus/:id/edit",name:"TransportScolaire.Bus.edit",component:ag,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/bus/:id/detail",name:"TransportScolaire.Bus.detail",component:Ug,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/bus/:id/delete",name:"TransportScolaire.Bus.delete",component:zg,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/chauffeur/",name:"TransportScolaire.Chauffeur",component:Gb,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/chauffeur/nouveau",name:"TransportScolaire.Chauffeur.create",component:ow,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/chauffeur/:id/edit",name:"TransportScolaire.Chauffeur.edit",component:Aw,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/chauffeur/:id/detail",name:"TransportScolaire.Chauffeur.detail",component:Mw,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/chauffeur/:id/delete",name:"TransportScolaire.Chauffeur.delete",component:aK,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/ligne",name:"TransportScolaire.Ligne",component:sv,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/ligne/nouveau",name:"Ligne.create",component:bv,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/ligne/:id/edit",name:"TransportScolaire.Ligne.edit",component:Sv,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/ligne/:id/detail",name:"TransportScolaire.Ligne.detail",component:Hv,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/ligne/:id/delete",name:"Ligne.delete",component:rQ,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/itineraire",name:"TransportScolaire.Itineraire",component:WQ,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/itineraire/nouveau",name:"Itineraire.create",component:p_,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/itineraire/:id/edit",name:"TransportScolaire.Itineraire.edit",component:J_,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/itineraire/:id/detail",name:"TransportScolaire.Itineraire.detail",component:QD,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/itineraire/:id/delete",name:"TransportScolaire.Itineraire.delete",component:CD,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/lieuligne",name:"TransportScolaire.LieuLigne",component:FD,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/lieuligne/nouveau",name:"LieuLigne.create",component:Qf,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/lieuligne/:id/edit",name:"TransportScolaire.LieuLigne.edit",component:Ef,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/lieuligne/:id/detail",name:"TransportScolaire.LieuLigne.detail",component:Zf,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/lieuligne/:id/delete",name:"LieuLigne.delete",component:dA,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/lieuramassage",name:"TransportScolaire.LieuRamassage",component:yA,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/lieuramassage/nouveau",name:"TransportScolaire.LieuRamassage.create",component:RA,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/lieuramassage/:id/edit",name:"TransportScolaire.LieuRamassage.edit",component:lb,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/lieuramassage/:id/detail",name:"TransportScolaire.LieuRamassage.detail",component:Vb,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/lieuramassage/:id/delete",name:"TransportLieuRamassage.delete",component:$b,meta:{requiresAdmin:!0}},{path:"/transport_scolaire/dashboard",name:"TransportScolaire",component:Ms,meta:{requiresAdmin:!0}}],sK=(0,Oe.gv)({history:(0,Oe.oz)(),routes:tK});var nK=sK;const iK=(0,E.eC)({state:{user:null,baseUrl:"http://localhost:8000"},mutations:{setUser(e,l){e.user=l}},actions:{updateUser({commit:e},l){e("setUser",l)}}});var rK=iK,oK=a(8584),uK=a(2832),dK=a(973),cK=a(3572),pK=a(4256),mK=a(5932),hK=a.n(mK),gK=a(3976),vK=a.n(gK);dK.IL.add(cK.Ybe,cK.KUI,cK.CgL,cK.YHp,cK.Ivq,cK.sfc,cK._qJ,cK.U34,cK.I4E,cK.MZ0,cK.C5N,cK.kvG,cK.qsE,cK.q6o,cK.Uz1,cK.e07,cK.Iud,cK.a4g,cK.Kgw,cK.Qzd,cK.e_c,cK.OOk,cK._2h,cK.OGl,cK.wj6,cK.WIU,cK.mIU);const QK="MaCleDeChiffrement",_K=function(e){const l=hK().encrypt(e.toString(),QK).toString(),a=btoa(l);return a},DK=function(e){const l=atob(e),a=hK().decrypt(l,QK).toString(vK());return a},fK=(0,t.W0)(Me);fK.use(uK.c),fK.component("font-awesome-icon",pK.us),fK.use(oK.cp),fK.config.globalProperties.$encryptId=_K,fK.config.globalProperties.$decryptId=DK,fK.config.globalProperties.$obtainTokenUrl=`${rK.state.baseUrl}/api/token/`,fK.config.globalProperties.$refreshTokenUrl=`${rK.state.baseUrl}/api/token/refresh`,nK.beforeEach((async(e,l,a)=>{try{localStorage.getItem("access")?y.c.defaults.headers.common["Authorization"]=`Bearer ${localStorage.getItem("access")}`:y.c.defaults.headers.common["Authorization"]=null;const l=await y.c.get(`${rK.state.baseUrl}/api/token/check/`);console.log(l),rK.commit("setUser",l.data.user),console.log(rK.state.user,l.data.user),console.log(y.c.defaults.headers.common["Authorization"]),e.meta.requiresAuth?l.data.user.role?a():a("/login"):e.meta.requiresAdmin?"admin"==l.data.user.role?a():a("/login"):a()}catch(t){rK.commit("setUser",null),console.error(t),a()}})),fK.use(rK).use(nK),fK.mount("#app")},9392:function(){}},l={};function a(t){var s=l[t];if(void 0!==s)return s.exports;var n=l[t]={exports:{}};return e[t].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(l,t,s,n){if(!t){var i=1/0;for(d=0;d<e.length;d++){t=e[d][0],s=e[d][1],n=e[d][2];for(var r=!0,o=0;o<t.length;o++)(!1&n||i>=n)&&Object.keys(a.O).every((function(e){return a.O[e](t[o])}))?t.splice(o--,1):(r=!1,n<i&&(i=n));if(r){e.splice(d--,1);var u=s();void 0!==u&&(l=u)}}return l}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[t,s,n]}}(),function(){a.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(l,{a:l}),l}}(),function(){var e,l=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(t,s){if(1&s&&(t=this(t)),8&s)return t;if("object"===typeof t&&t){if(4&s&&t.__esModule)return t;if(16&s&&"function"===typeof t.then)return t}var n=Object.create(null);a.r(n);var i={};e=e||[null,l({}),l([]),l(l)];for(var r=2&s&&t;"object"==typeof r&&!~e.indexOf(r);r=l(r))Object.getOwnPropertyNames(r).forEach((function(e){i[e]=function(){return t[e]}}));return i["default"]=function(){return t},a.d(n,i),n}}(),function(){a.d=function(e,l){for(var t in l)a.o(l,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:l[t]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(l,t){return a.f[t](e,l),l}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{32:"3ac059c9",224:"ca73de73",312:"3bf93ef3",328:"12f97e35"}[e]+".js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){var e={},l="hello:";a.l=function(t,s,n,i){if(e[t])e[t].push(s);else{var r,o;if(void 0!==n)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var c=u[d];if(c.getAttribute("src")==t||c.getAttribute("data-webpack")==l+n){r=c;break}}r||(o=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.setAttribute("data-webpack",l+n),r.src=t),e[t]=[s];var p=function(l,a){r.onerror=r.onload=null,clearTimeout(m);var s=e[t];if(delete e[t],r.parentNode&&r.parentNode.removeChild(r),s&&s.forEach((function(e){return e(a)})),l)return l(a)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=p.bind(null,r.onerror),r.onload=p.bind(null,r.onload),o&&document.head.appendChild(r)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/static/"}(),function(){var e={524:0};a.f.j=function(l,t){var s=a.o(e,l)?e[l]:void 0;if(0!==s)if(s)t.push(s[2]);else{var n=new Promise((function(a,t){s=e[l]=[a,t]}));t.push(s[2]=n);var i=a.p+a.u(l),r=new Error,o=function(t){if(a.o(e,l)&&(s=e[l],0!==s&&(e[l]=void 0),s)){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;r.message="Loading chunk "+l+" failed.\n("+n+": "+i+")",r.name="ChunkLoadError",r.type=n,r.request=i,s[1](r)}};a.l(i,o,"chunk-"+l,l)}},a.O.j=function(l){return 0===e[l]};var l=function(l,t){var s,n,i=t[0],r=t[1],o=t[2],u=0;if(i.some((function(l){return 0!==e[l]}))){for(s in r)a.o(r,s)&&(a.m[s]=r[s]);if(o)var d=o(a)}for(l&&l(t);u<i.length;u++)n=i[u],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},t=self["webpackChunkhello"]=self["webpackChunkhello"]||[];t.forEach(l.bind(null,0)),t.push=l.bind(null,t.push.bind(t))}();var t=a.O(void 0,[999],(function(){return a(2501)}));t=a.O(t)})();
//# sourceMappingURL=app.6af26b81.js.map